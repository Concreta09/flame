!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}((function(e,t){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var e=new Date;return n(e.getFullYear(),e.getMonth(),e.getDate())}function r(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function o(n,i){return function(){return i!==t&&e.fn.datepicker.deprecated(i),this[n].apply(this,arguments)}}function a(t,n){function i(e,t){return t.toLowerCase()}var r=e(t).data(),o={},a=new RegExp("^"+n.toLowerCase()+"([A-Z])");for(var s in n=new RegExp("^"+n.toLowerCase()),r)n.test(s)&&(o[s.replace(a,i)]=r[s]);return o}function s(t){var n={};if(g[t]||(t=t.split("-")[0],g[t])){var i=g[t];return e.each(f,(function(e,t){t in i&&(n[t]=i[t])})),n}}var l=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),n=0,i=this.length;n<i;n++)if(0<=this[n].valueOf()-t&&this[n].valueOf()-t<864e5)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new l;return e.replace(this),e}};return function(){var n=[];return n.push.apply(n,arguments),e.extend(n,t),n}}(),d=function(t,n){e.data(t,"datepicker",this),this._events=[],this._secondaryEvents=[],this._process_options(n),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=e(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",(function(e,t){return Number(t)+1})),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};d.prototype={constructor:d,_resolveViewName:function(t){return e.each(v.viewModes,(function(n,i){if(t===n||-1!==e.inArray(t,i.names))return t=n,!1})),t},_resolveDaysOfWeek:function(t){return e.isArray(t)||(t=t.split(/[,\s]*/)),e.map(t,Number)},_check_template:function(n){try{return n!==t&&""!==n&&((n.match(/[<>]/g)||[]).length<=0||e(n).length>0)}catch(e){return!1}},_process_options:function(t){this._o=e.extend({},this._o,t);var r=this.o=e.extend({},this._o),o=r.language;g[o]||(o=o.split("-")[0],g[o]||(o=p.language)),r.language=o,r.startView=this._resolveViewName(r.startView),r.minViewMode=this._resolveViewName(r.minViewMode),r.maxViewMode=this._resolveViewName(r.maxViewMode),r.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,r.startView)),!0!==r.multidate&&(r.multidate=Number(r.multidate)||!1,!1!==r.multidate&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var a=v.parseFormat(r.format);r.startDate!==-1/0&&(r.startDate?r.startDate instanceof Date?r.startDate=this._local_to_utc(this._zero_time(r.startDate)):r.startDate=v.parseDate(r.startDate,a,r.language,r.assumeNearbyYear):r.startDate=-1/0),r.endDate!==1/0&&(r.endDate?r.endDate instanceof Date?r.endDate=this._local_to_utc(this._zero_time(r.endDate)):r.endDate=v.parseDate(r.endDate,a,r.language,r.assumeNearbyYear):r.endDate=1/0),r.daysOfWeekDisabled=this._resolveDaysOfWeek(r.daysOfWeekDisabled||[]),r.daysOfWeekHighlighted=this._resolveDaysOfWeek(r.daysOfWeekHighlighted||[]),r.datesDisabled=r.datesDisabled||[],e.isArray(r.datesDisabled)||(r.datesDisabled=r.datesDisabled.split(",")),r.datesDisabled=e.map(r.datesDisabled,(function(e){return v.parseDate(e,a,r.language,r.assumeNearbyYear)}));var s=String(r.orientation).toLowerCase().split(/\s+/g),l=r.orientation.toLowerCase();if(s=e.grep(s,(function(e){return/^auto|left|right|top|bottom$/.test(e)})),r.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===s.length)switch(s[0]){case"top":case"bottom":r.orientation.y=s[0];break;case"left":case"right":r.orientation.x=s[0]}else l=e.grep(s,(function(e){return/^left|right$/.test(e)})),r.orientation.x=l[0]||"auto",l=e.grep(s,(function(e){return/^top|bottom$/.test(e)})),r.orientation.y=l[0]||"auto";if(r.defaultViewDate instanceof Date||"string"==typeof r.defaultViewDate)r.defaultViewDate=v.parseDate(r.defaultViewDate,a,r.language,r.assumeNearbyYear);else if(r.defaultViewDate){var d=r.defaultViewDate.year||(new Date).getFullYear(),c=r.defaultViewDate.month||0,u=r.defaultViewDate.day||1;r.defaultViewDate=n(d,c,u)}else r.defaultViewDate=i()},_applyEvents:function(e){for(var n,i,r,o=0;o<e.length;o++)n=e[o][0],2===e[o].length?(i=t,r=e[o][1]):3===e[o].length&&(i=e[o][1],r=e[o][2]),n.on(r,i)},_unapplyEvents:function(e){for(var n,i,r,o=0;o<e.length;o++)n=e[o][0],2===e[o].length?(r=t,i=e[o][1]):3===e[o].length&&(r=e[o][1],i=e[o][2]),n.off(i,r)},_buildEvents:function(){var t={keyup:e.proxy((function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()}),this),keydown:e.proxy(this.keydown,this),paste:e.proxy(this.paste,this)};!0===this.o.showOnFocus&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.inputField.length?this._events=[[this.inputField,t],[this.component,{click:e.proxy(this.show,this)}]]:this._events=[[this.element,{click:e.proxy(this.show,this),keydown:e.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:e.proxy((function(e){this._focused_from=e.target}),this)}],[this.element,{blur:e.proxy((function(e){this._focused_from=e.target}),this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":e.proxy((function(e){this.update(e.date)}),this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[this.picker,".prev, .next",{click:e.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:e.proxy(this.dayCellClick,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy((function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()}),this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var i=n||this.dates.get(-1),r=this._utc_to_local(i);this.element.trigger({type:t,date:r,viewMode:this.viewMode,dates:e.map(this.dates,this._utc_to_local),format:e.proxy((function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return v.formatDate(n,t,this.o.language)}),this)})},show:function(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var n;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==e.inArray("text/plain",t.originalEvent.clipboardData.types))n=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}this.setDate(n),this.update(),t.preventDefault()},_utc_to_local:function(e){if(!e)return e;var t=new Date(e.getTime()+6e4*e.getTimezoneOffset());return t.getTimezoneOffset()!==e.getTimezoneOffset()&&(t=new Date(e.getTime()+6e4*t.getTimezoneOffset())),t},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&n(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,(function(e){return new Date(e)}))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return e!==t?new Date(e):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,e.map(t,this._utc_to_local)),this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),remove:o("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(n){n===t&&(n=this.o.format);var i=this.o.language;return e.map(this.dates,(function(e){return v.formatDate(e,n,i)})).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){return this._process_options({datesDisabled:e}),this.update(),this},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),n=this.picker.outerHeight(),i=e(this.o.container),r=i.width(),o="body"===this.o.container?e(document).scrollTop():i.scrollTop(),a=i.offset(),s=[0];this.element.parents().each((function(){var t=e(this).css("z-index");"auto"!==t&&0!==Number(t)&&s.push(Number(t))}));var l=Math.max.apply(Math,s)+this.o.zIndexOffset,d=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=d.left-a.left,p=d.top-a.top;"body"!==this.o.container&&(p+=o),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=t-u)):d.left<0?(this.picker.addClass("datepicker-orient-left"),h-=d.left-10):h+t>r?(this.picker.addClass("datepicker-orient-right"),h+=u-t):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var f=this.o.orientation.y;if("auto"===f&&(f=-o+p-n<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+f),"top"===f?p-=n+parseInt(this.picker.css("padding-top")):p+=c,this.o.rtl){var g=r-(h+u);this.picker.css({top:p,right:g,zIndex:l})}else this.picker.css({top:p,left:h,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),n=[],i=!1;return arguments.length?(e.each(arguments,e.proxy((function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)}),this)),i=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=e.map(n,e.proxy((function(e){return v.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)}),this)),n=e.grep(n,e.proxy((function(e){return!this.dateWithinRange(e)||!e}),this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),i?(this.setValue(),this.element.change()):this.dates.length&&String(t)!==String(this.dates)&&i&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&t.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var t=this.o.weekStart,n="<tr>";for(this.o.calendarWeeks&&(n+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)n+='<th class="dow',-1!==e.inArray(t,this.o.daysOfWeekDisabled)&&(n+=" disabled"),n+='">'+g[this.o.language].daysMin[t++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)}},fillMonths:function(){for(var e=this._utc_to_local(this.viewDate),t="",n=0;n<12;n++)t+='<span class="month'+(e&&e.getMonth()===n?" focused":"")+'">'+g[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=e.map(t,(function(e){return e.valueOf()})):delete this.range,this.fill()},getClassNames:function(t){var n=[],o=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),s=i();return t.getUTCFullYear()<o||t.getUTCFullYear()===o&&t.getUTCMonth()<a?n.push("old"):(t.getUTCFullYear()>o||t.getUTCFullYear()===o&&t.getUTCMonth()>a)&&n.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&r(t,s)&&n.push("today"),-1!==this.dates.contains(t)&&n.push("active"),this.dateWithinRange(t)||n.push("disabled"),this.dateIsDisabled(t)&&n.push("disabled","disabled-date"),-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&n.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&n.push("selected"),t.valueOf()===this.range[0]&&n.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&n.push("range-end")),n},_fill_yearsView:function(n,i,r,o,a,s,l){for(var d,c,u,h="",p=r/10,f=this.picker.find(n),g=Math.floor(o/r)*r,v=g+9*p,m=Math.floor(this.viewDate.getFullYear()/p)*p,y=e.map(this.dates,(function(e){return Math.floor(e.getUTCFullYear()/p)*p})),D=g-p;D<=v+p;D+=p)d=[i],c=null,D===g-p?d.push("old"):D===v+p&&d.push("new"),-1!==e.inArray(D,y)&&d.push("active"),(D<a||D>s)&&d.push("disabled"),D===m&&d.push("focused"),l!==e.noop&&((u=l(new Date(D,0,1)))===t?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u}),!1===u.enabled&&d.push("disabled"),u.classes&&(d=d.concat(u.classes.split(/\s+/))),u.tooltip&&(c=u.tooltip)),h+='<span class="'+d.join(" ")+'"'+(c?' title="'+c+'"':"")+">"+D+"</span>";f.find(".datepicker-switch").text(g+"-"+v),f.find("td").html(h)},fill:function(){var r,o,a=new Date(this.viewDate),s=a.getUTCFullYear(),l=a.getUTCMonth(),d=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,c=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,p=g[this.o.language].today||g.en.today||"",f=g[this.o.language].clear||g.en.clear||"",m=g[this.o.language].titleFormat||g.en.titleFormat,y=i(),D=(!0===this.o.todayBtn||"linked"===this.o.todayBtn)&&y>=this.o.startDate&&y<=this.o.endDate&&!this.weekOfDateIsDisabled(y);if(!isNaN(s)&&!isNaN(l)){this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(a,m,this.o.language)),this.picker.find("tfoot .today").text(p).css("display",D?"table-cell":"none"),this.picker.find("tfoot .clear").text(f).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var b=n(s,l,0),w=b.getUTCDate();b.setUTCDate(w-(b.getUTCDay()-this.o.weekStart+7)%7);var _=new Date(b);b.getUTCFullYear()<100&&_.setUTCFullYear(b.getUTCFullYear()),_.setUTCDate(_.getUTCDate()+42),_=_.valueOf();for(var C,k,E=[];b.valueOf()<_;){if((C=b.getUTCDay())===this.o.weekStart&&(E.push("<tr>"),this.o.calendarWeeks)){var S=new Date(+b+(this.o.weekStart-C-7)%7*864e5),T=new Date(Number(S)+(11-S.getUTCDay())%7*864e5),M=new Date(Number(M=n(T.getUTCFullYear(),0,1))+(11-M.getUTCDay())%7*864e5),x=(T-M)/864e5/7+1;E.push('<td class="cw">'+x+"</td>")}(k=this.getClassNames(b)).push("day");var R=b.getUTCDate();this.o.beforeShowDay!==e.noop&&((o=this.o.beforeShowDay(this._utc_to_local(b)))===t?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),!1===o.enabled&&k.push("disabled"),o.classes&&(k=k.concat(o.classes.split(/\s+/))),o.tooltip&&(r=o.tooltip),o.content&&(R=o.content)),k=e.isFunction(e.uniqueSort)?e.uniqueSort(k):e.unique(k),E.push('<td class="'+k.join(" ")+'"'+(r?' title="'+r+'"':"")+' data-date="'+b.getTime().toString()+'">'+R+"</td>"),r=null,C===this.o.weekEnd&&E.push("</tr>"),b.setUTCDate(b.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(E.join(""));var I=g[this.o.language].monthsTitle||g.en.monthsTitle||"Months",P=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?I:s).end().find("tbody span").removeClass("active");if(e.each(this.dates,(function(e,t){t.getUTCFullYear()===s&&P.eq(t.getUTCMonth()).addClass("active")})),(s<d||s>u)&&P.addClass("disabled"),s===d&&P.slice(0,c).addClass("disabled"),s===u&&P.slice(h+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var N=this;e.each(P,(function(n,i){var r=new Date(s,n,1),o=N.o.beforeShowMonth(r);o===t?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),!1!==o.enabled||e(i).hasClass("disabled")||e(i).addClass("disabled"),o.classes&&e(i).addClass(o.classes),o.tooltip&&e(i).prop("title",o.tooltip)}))}this._fill_yearsView(".datepicker-years","year",10,s,d,u,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,s,d,u,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,s,d,u,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e,t,n=new Date(this.viewDate),i=n.getUTCFullYear(),r=n.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=1;switch(this.viewMode){case 4:d*=10;case 3:d*=10;case 2:d*=10;case 1:e=Math.floor(i/d)*d<=o,t=Math.floor(i/d)*d+d>s;break;case 0:e=i<=o&&r<=a,t=i>=s&&r>=l}this.picker.find(".prev").toggleClass("disabled",e),this.picker.find(".next").toggleClass("disabled",t)}},click:function(t){var r,o,a;t.preventDefault(),t.stopPropagation(),(r=e(t.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),r.hasClass("today")&&!r.hasClass("day")&&(this.setViewMode(0),this._setDate(i(),"linked"===this.o.todayBtn?null:"view")),r.hasClass("clear")&&this.clearDates(),r.hasClass("disabled")||(r.hasClass("month")||r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),1,1===this.viewMode?(a=r.parent().find("span").index(r),o=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a)):(a=0,o=Number(r.text()),this.viewDate.setUTCFullYear(o)),this._trigger(v.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(n(o,a,1)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(t){var n=e(t.currentTarget).data("date"),i=new Date(n);this.o.updateViewDate&&(i.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),i.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(i)},navArrowsClick:function(t){var n=e(t.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(n*=12*v.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,n),this._trigger(v.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):!1===this.o.multidate?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),(!t&&this.o.updateViewDate||"view"===t)&&(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var n=new Date(e);return n.setUTCDate(e.getUTCDate()+t),n},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!function(e){return e&&!isNaN(e.getTime())}(e))return this.o.defaultViewDate;if(!t)return e;var n,i,r=new Date(e.valueOf()),o=r.getUTCDate(),a=r.getUTCMonth(),s=Math.abs(t);if(t=t>0?1:-1,1===s)i=-1===t?function(){return r.getUTCMonth()===a}:function(){return r.getUTCMonth()!==n},n=a+t,r.setUTCMonth(n),n=(n+12)%12;else{for(var l=0;l<s;l++)r=this.moveMonth(r,t);n=r.getUTCMonth(),r.setUTCDate(o),i=function(){return n!==r.getUTCMonth()}}for(;i();)r.setUTCDate(--o),r.setUTCMonth(n);return r},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,n){do{if(e=this[n](e,t),!this.dateWithinRange(e))return!1;n="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(t){return-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||e.grep(this.o.datesDisabled,(function(e){return r(t,e)})).length>0},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":visible")){var t,n,i=!1,r=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(n=this.moveAvailableDate(r,t,"moveYear"))&&this._trigger("changeYear",this.viewDate):e.shiftKey?(n=this.moveAvailableDate(r,t,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===e.keyCode||39===e.keyCode?n=this.moveAvailableDate(r,t,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,t,"moveWeek")):1===this.viewMode?(38!==e.keyCode&&40!==e.keyCode||(t*=4),n=this.moveAvailableDate(r,t,"moveMonth")):2===this.viewMode&&(38!==e.keyCode&&40!==e.keyCode||(t*=4),n=this.moveAvailableDate(r,t,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==e.keyCode&&27!==e.keyCode||(this.show(),e.stopPropagation())},setViewMode:function(e){this.viewMode=e,this.picker.children("div").hide().filter(".datepicker-"+v.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var c=function(t,n){e.data(t,"datepicker",this),this.element=e(t),this.inputs=e.map(n.inputs,(function(e){return e.jquery?e[0]:e})),delete n.inputs,this.keepEmptyValues=n.keepEmptyValues,delete n.keepEmptyValues,h.call(e(this.inputs),n).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,(function(t){return e.data(t,"datepicker")})),this.updateDates()};c.prototype={updateDates:function(){this.dates=e.map(this.pickers,(function(e){return e.getUTCDate()})),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,(function(e){return e.valueOf()}));e.each(this.pickers,(function(e,n){n.setRange(t)}))},clearDates:function(){e.each(this.pickers,(function(e,t){t.clearDates()}))},dateUpdated:function(n){if(!this.updating){this.updating=!0;var i=e.data(n.target,"datepicker");if(i!==t){var r=i.getUTCDate(),o=this.keepEmptyValues,a=e.inArray(n.target,this.inputs),s=a-1,l=a+1,d=this.inputs.length;if(-1!==a){if(e.each(this.pickers,(function(e,t){t.getUTCDate()||t!==i&&o||t.setUTCDate(r)})),r<this.dates[s])for(;s>=0&&r<this.dates[s];)this.pickers[s--].setUTCDate(r);else if(r>this.dates[l])for(;l<d&&r>this.dates[l];)this.pickers[l++].setUTCDate(r);this.updateDates(),delete this.updating}}}},destroy:function(){e.map(this.pickers,(function(e){e.destroy()})),e(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:o("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var u=e.fn.datepicker,h=function(n){var i,r=Array.apply(null,arguments);if(r.shift(),this.each((function(){var t=e(this),o=t.data("datepicker"),l="object"==typeof n&&n;if(!o){var u=a(this,"date"),h=s(e.extend({},p,u,l).language),f=e.extend({},p,h,u,l);t.hasClass("input-daterange")||f.inputs?(e.extend(f,{inputs:f.inputs||t.find("input").toArray()}),o=new c(this,f)):o=new d(this,f),t.data("datepicker",o)}"string"==typeof n&&"function"==typeof o[n]&&(i=o[n].apply(o,r))})),i===t||i instanceof d||i instanceof c)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+n+" function)");return i};e.fn.datepicker=h;var p=e.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,beforeShowDecade:e.noop,beforeShowCentury:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},f=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=d;var g=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(n,r,o,a){function s(){var e=this.slice(0,l[h].length),t=l[h].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!n)return t;if(n instanceof Date)return n;if("string"==typeof r&&(r=v.parseFormat(r)),r.toValue)return r.toValue(n,r,o);var l,c,u,h,p,f={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},m={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(n in m&&(n=m[n]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(n)){for(l=n.match(/([\-+]\d+)([dmwy])/gi),n=new Date,h=0;h<l.length;h++)c=l[h].match(/([\-+]\d+)([dmwy])/i),u=Number(c[1]),p=f[c[2].toLowerCase()],n=d.prototype[p](n,u);return d.prototype._zero_utc_time(n)}l=n&&n.match(this.nonpunctuation)||[];var y,D,b={},w=["yyyy","yy","M","MM","m","mm","d","dd"],_={yyyy:function(e,t){return e.setUTCFullYear(a?function(e,t){return!0===t&&(t=10),e<100&&(e+=2e3)>(new Date).getFullYear()+t&&(e-=100),e}(t,a):t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};_.yy=_.yyyy,_.M=_.MM=_.mm=_.m,_.dd=_.d,n=i();var C=r.parts.slice();if(l.length!==C.length&&(C=e(C).filter((function(t,n){return-1!==e.inArray(n,w)})).toArray()),l.length===C.length){var k,E,S;for(h=0,k=C.length;h<k;h++){if(y=parseInt(l[h],10),c=C[h],isNaN(y))switch(c){case"MM":D=e(g[o].months).filter(s),y=e.inArray(D[0],g[o].months)+1;break;case"M":D=e(g[o].monthsShort).filter(s),y=e.inArray(D[0],g[o].monthsShort)+1}b[c]=y}for(h=0;h<w.length;h++)(S=w[h])in b&&!isNaN(b[S])&&(E=new Date(n),_[S](E,b[S]),isNaN(E)||(n=E))}return n},formatDate:function(t,n,i){if(!t)return"";if("string"==typeof n&&(n=v.parseFormat(n)),n.toDisplay)return n.toDisplay(t,n,i);var r={d:t.getUTCDate(),D:g[i].daysShort[t.getUTCDay()],DD:g[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:g[i].monthsShort[t.getUTCMonth()],MM:g[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,t=[];for(var o=e.extend([],n.separators),a=0,s=n.parts.length;a<=s;a++)o.length&&t.push(o.shift()),t.push(r[n.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+p.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+p.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=v,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=u,this},e.fn.datepicker.version="1.9.0",e.fn.datepicker.deprecated=function(e){var t=window.console;t&&t.warn&&t.warn("DEPRECATED: "+e)},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',(function(t){var n=e(this);n.data("datepicker")||(t.preventDefault(),h.call(n,"show"))})),e((function(){h.call(e('[data-provide="datepicker-inline"]'))}))})),function(){function e(e){return document.createElementNS(d,e)}function t(e){return(10>e?"0":"")+e}function n(e){var t=++m+"";return e?e+t:t}function i(i,s){function d(e,t){var n=h.offset(),i=/^touch/.test(e.type),r=n.left+y,a=n.top+y,d=(i?e.originalEvent.touches[0]:e).pageX-r,u=(i?e.originalEvent.touches[0]:e).pageY-a,p=Math.sqrt(d*d+u*u),v=!1;if(!t||!(D-w>p||p>D+w)){e.preventDefault();var m=setTimeout((function(){o.addClass("clockpicker-moving")}),200);c&&h.append(x.canvas),x.setHand(d,u,!t,!0),l.off(f).on(f,(function(e){e.preventDefault();var t=/^touch/.test(e.type),n=(t?e.originalEvent.touches[0]:e).pageX-r,i=(t?e.originalEvent.touches[0]:e).pageY-a;(v||n!==d||i!==u)&&(v=!0,x.setHand(n,i,!1,!0))})),l.off(g).on(g,(function(e){l.off(g),e.preventDefault();var n=/^touch/.test(e.type),i=(n?e.originalEvent.changedTouches[0]:e).pageX-r,c=(n?e.originalEvent.changedTouches[0]:e).pageY-a;(t||v)&&i===d&&c===u&&x.setHand(i,c),"hours"===x.currentView?x.toggleView("minutes",C/2):s.autoclose&&(x.minutesView.addClass("clockpicker-dial-out"),setTimeout((function(){x.done()}),C/2)),h.prepend(V),clearTimeout(m),o.removeClass("clockpicker-moving"),l.off(f)}))}}var u=a(k),h=u.find(".clockpicker-plate"),v=u.find(".clockpicker-hours"),m=u.find(".clockpicker-minutes"),E=u.find(".clockpicker-am-pm-block"),S="INPUT"===i.prop("tagName"),T=S?i:i.find("input"),M=i.find(".input-group-addon"),x=this;if(this.id=n("cp"),this.element=i,this.options=s,this.isAppended=!1,this.isShown=!1,this.currentView="hours",this.isInput=S,this.input=T,this.addon=M,this.popover=u,this.plate=h,this.hoursView=v,this.minutesView=m,this.amPmBlock=E,this.spanHours=u.find(".clockpicker-span-hours"),this.spanMinutes=u.find(".clockpicker-span-minutes"),this.spanAmPm=u.find(".clockpicker-span-am-pm"),this.amOrPm="PM",s.twelvehour){var R=['<div class="clockpicker-am-pm-block">','<button type="button" class="btn btn-sm btn-default clockpicker-button clockpicker-am-button">',"AM</button>",'<button type="button" class="btn btn-sm btn-default clockpicker-button clockpicker-pm-button">',"PM</button>","</div>"].join("");a(R),a('<button type="button" class="btn btn-sm btn-default clockpicker-button am-button">AM</button>').on("click",(function(){x.amOrPm="AM",a(".clockpicker-span-am-pm").empty().append("AM")})).appendTo(this.amPmBlock),a('<button type="button" class="btn btn-sm btn-default clockpicker-button pm-button">PM</button>').on("click",(function(){x.amOrPm="PM",a(".clockpicker-span-am-pm").empty().append("PM")})).appendTo(this.amPmBlock)}s.autoclose||a('<button type="button" class="btn btn-sm btn-default btn-block clockpicker-button">'+s.donetext+"</button>").click(a.proxy(this.done,this)).appendTo(u),"top"!==s.placement&&"bottom"!==s.placement||"top"!==s.align&&"bottom"!==s.align||(s.align="left"),"left"!==s.placement&&"right"!==s.placement||"left"!==s.align&&"right"!==s.align||(s.align="top"),u.addClass(s.placement),u.addClass("clockpicker-align-"+s.align),this.spanHours.click(a.proxy(this.toggleView,this,"hours")),this.spanMinutes.click(a.proxy(this.toggleView,this,"minutes")),T.on("focus.clockpicker click.clockpicker",a.proxy(this.show,this)),M.on("click.clockpicker",a.proxy(this.toggle,this));var I,P,N,H,O=a('<div class="clockpicker-tick"></div>');if(s.twelvehour)for(I=1;13>I;I+=1)P=O.clone(),N=I/6*Math.PI,H=D,P.css("font-size","120%"),P.css({left:y+Math.sin(N)*H-w,top:y-Math.cos(N)*H-w}),P.html(0===I?"00":I),v.append(P),P.on(p,d);else for(I=0;24>I;I+=1){P=O.clone(),N=I/6*Math.PI;var A=I>0&&13>I;H=A?b:D,P.css({left:y+Math.sin(N)*H-w,top:y-Math.cos(N)*H-w}),A&&P.css("font-size","120%"),P.html(0===I?"00":I),v.append(P),P.on(p,d)}for(I=0;60>I;I+=5)P=O.clone(),N=I/30*Math.PI,P.css({left:y+Math.sin(N)*D-w,top:y-Math.cos(N)*D-w}),P.css("font-size","120%"),P.html(t(I)),m.append(P),P.on(p,d);if(h.on(p,(function(e){0===a(e.target).closest(".clockpicker-tick").length&&d(e,!0)})),c){var V=u.find(".clockpicker-canvas"),U=e("svg");U.setAttribute("class","clockpicker-svg"),U.setAttribute("width",_),U.setAttribute("height",_);var L=e("g");L.setAttribute("transform","translate("+y+","+y+")");var Y=e("circle");Y.setAttribute("class","clockpicker-canvas-bearing"),Y.setAttribute("cx",0),Y.setAttribute("cy",0),Y.setAttribute("r",2);var F=e("line");F.setAttribute("x1",0),F.setAttribute("y1",0);var W=e("circle");W.setAttribute("class","clockpicker-canvas-bg"),W.setAttribute("r",w);var B=e("circle");B.setAttribute("class","clockpicker-canvas-fg"),B.setAttribute("r",3.5),L.appendChild(F),L.appendChild(W),L.appendChild(B),L.appendChild(Y),U.appendChild(L),V.append(U),this.hand=F,this.bg=W,this.fg=B,this.bearing=Y,this.g=L,this.canvas=V}r(this.options.init)}function r(e){e&&"function"==typeof e&&e()}var o,a=window.jQuery,s=a(window),l=a(document),d="http://www.w3.org/2000/svg",c="SVGAngle"in window&&function(){var e,t=document.createElement("div");return t.innerHTML="<svg/>",e=(t.firstChild&&t.firstChild.namespaceURI)==d,t.innerHTML="",e}(),u=function(){var e=document.createElement("div").style;return"transition"in e||"WebkitTransition"in e||"MozTransition"in e||"msTransition"in e||"OTransition"in e}(),h="ontouchstart"in window,p="mousedown"+(h?" touchstart":""),f="mousemove.clockpicker"+(h?" touchmove.clockpicker":""),g="mouseup.clockpicker"+(h?" touchend.clockpicker":""),v=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,m=0,y=100,D=80,b=54,w=13,_=2*y,C=u?350:1,k=['<div class="popover clockpicker-popover">','<div class="arrow"></div>','<div class="popover-title">','<span class="clockpicker-span-hours text-primary"></span>'," : ",'<span class="clockpicker-span-minutes"></span>','<span class="clockpicker-span-am-pm"></span>',"</div>",'<div class="popover-content">','<div class="clockpicker-plate">','<div class="clockpicker-canvas"></div>','<div class="clockpicker-dial clockpicker-hours"></div>','<div class="clockpicker-dial clockpicker-minutes clockpicker-dial-out"></div>',"</div>",'<span class="clockpicker-am-pm-block">',"</span>","</div>","</div>"].join("");i.DEFAULTS={default:"",fromnow:0,placement:"bottom",align:"left",donetext:"完成",autoclose:!1,twelvehour:!1,vibrate:!0},i.prototype.toggle=function(){this[this.isShown?"hide":"show"]()},i.prototype.locate=function(){var e=this.element,t=this.popover,n=e.offset(),i=e.outerWidth(),r=e.outerHeight(),o=this.options.placement,a=this.options.align,s={};switch(t.show(),o){case"bottom":s.top=n.top+r;break;case"right":s.left=n.left+i;break;case"top":s.top=n.top-t.outerHeight();break;case"left":s.left=n.left-t.outerWidth()}switch(a){case"left":s.left=n.left;break;case"right":s.left=n.left+i-t.outerWidth();break;case"top":s.top=n.top;break;case"bottom":s.top=n.top+r-t.outerHeight()}t.css(s)},i.prototype.show=function(){if(!this.isShown){r(this.options.beforeShow);var e=this;this.isAppended||(o=a(document.body).append(this.popover),s.on("resize.clockpicker"+this.id,(function(){e.isShown&&e.locate()})),this.isAppended=!0);var n=((this.input.prop("value")||this.options.default||"")+"").split(":");if("now"===n[0]){var i=new Date(+new Date+this.options.fromnow);n=[i.getHours(),i.getMinutes()]}this.hours=+n[0]||0,this.minutes=+n[1]||0,this.spanHours.html(t(this.hours)),this.spanMinutes.html(t(this.minutes)),this.toggleView("hours"),this.locate(),this.isShown=!0,l.on("click.clockpicker."+this.id+" focusin.clockpicker."+this.id,(function(t){var n=a(t.target);0===n.closest(e.popover).length&&0===n.closest(e.addon).length&&0===n.closest(e.input).length&&e.hide()})),l.on("keyup.clockpicker."+this.id,(function(t){27===t.keyCode&&e.hide()})),r(this.options.afterShow)}},i.prototype.hide=function(){r(this.options.beforeHide),this.isShown=!1,l.off("click.clockpicker."+this.id+" focusin.clockpicker."+this.id),l.off("keyup.clockpicker."+this.id),this.popover.hide(),r(this.options.afterHide)},i.prototype.toggleView=function(e,t){var n=!1;"minutes"===e&&"visible"===a(this.hoursView).css("visibility")&&(r(this.options.beforeHourSelect),n=!0);var i="hours"===e,o=i?this.hoursView:this.minutesView,s=i?this.minutesView:this.hoursView;this.currentView=e,this.spanHours.toggleClass("text-primary",i),this.spanMinutes.toggleClass("text-primary",!i),s.addClass("clockpicker-dial-out"),o.css("visibility","visible").removeClass("clockpicker-dial-out"),this.resetClock(t),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout((function(){s.css("visibility","hidden")}),C),n&&r(this.options.afterHourSelect)},i.prototype.resetClock=function(e){var t=this.currentView,n=this[t],i="hours"===t,r=n*(Math.PI/(i?6:30)),o=i&&n>0&&13>n?b:D,a=Math.sin(r)*o,s=-Math.cos(r)*o,l=this;c&&e?(l.canvas.addClass("clockpicker-canvas-out"),setTimeout((function(){l.canvas.removeClass("clockpicker-canvas-out"),l.setHand(a,s)}),e)):this.setHand(a,s)},i.prototype.setHand=function(e,n,i,r){var o,s=Math.atan2(e,-n),l="hours"===this.currentView,d=Math.PI/(l||i?6:30),u=Math.sqrt(e*e+n*n),h=this.options,p=l&&(D+b)/2>u,f=p?b:D;if(h.twelvehour&&(f=D),0>s&&(s=2*Math.PI+s),s=(o=Math.round(s/d))*d,h.twelvehour?l?0===o&&(o=12):(i&&(o*=5),60===o&&(o=0)):l?(12===o&&(o=0),o=p?0===o?12:o:0===o?0:o+12):(i&&(o*=5),60===o&&(o=0)),this[this.currentView]!==o&&v&&this.options.vibrate&&(this.vibrateTimer||(navigator[v](10),this.vibrateTimer=setTimeout(a.proxy((function(){this.vibrateTimer=null}),this),100))),this[this.currentView]=o,this[l?"spanHours":"spanMinutes"].html(t(o)),c){r||!l&&o%5?(this.g.insertBefore(this.hand,this.bearing),this.g.insertBefore(this.bg,this.fg),this.bg.setAttribute("class","clockpicker-canvas-bg clockpicker-canvas-bg-trans")):(this.g.insertBefore(this.hand,this.bg),this.g.insertBefore(this.fg,this.bg),this.bg.setAttribute("class","clockpicker-canvas-bg"));var g=Math.sin(s)*f,m=-Math.cos(s)*f;this.hand.setAttribute("x2",g),this.hand.setAttribute("y2",m),this.bg.setAttribute("cx",g),this.bg.setAttribute("cy",m),this.fg.setAttribute("cx",g),this.fg.setAttribute("cy",m)}else this[l?"hoursView":"minutesView"].find(".clockpicker-tick").each((function(){var e=a(this);e.toggleClass("active",o===+e.html())}))},i.prototype.done=function(){r(this.options.beforeDone),this.hide();var e=this.input.prop("value"),n=t(this.hours)+":"+t(this.minutes);this.options.twelvehour&&(n+=this.amOrPm),this.input.prop("value",n),n!==e&&(this.input.triggerHandler("change"),this.isInput||this.element.trigger("change")),this.options.autoclose&&this.input.trigger("blur"),r(this.options.afterDone)},i.prototype.remove=function(){this.element.removeData("clockpicker"),this.input.off("focus.clockpicker click.clockpicker"),this.addon.off("click.clockpicker"),this.isShown&&this.hide(),this.isAppended&&(s.off("resize.clockpicker"+this.id),this.popover.remove())},a.fn.clockpicker=function(e){var t=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=a(this),r=n.data("clockpicker");if(r)"function"==typeof r[e]&&r[e].apply(r,t);else{var o=a.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);n.data("clockpicker",new i(n,o))}}))}}(),function(e,t){if("function"==typeof define&&define.amd)define(["moment","jquery"],(function(e,n){return n.fn||(n.fn={}),"function"!=typeof e&&e.hasOwnProperty("default")&&(e=e.default),t(e,n)}));else if("object"==typeof module&&module.exports){var n="undefined"!=typeof window?window.jQuery:void 0;n||(n=require("jquery")).fn||(n.fn={});var i="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment");module.exports=t(i,n)}else e.daterangepicker=t(e.moment,e.jQuery)}(this,(function(e,t){var n=function(n,i,r){if(this.parentEl="body",this.element=t(n),this.startDate=e().startOf("day"),this.endDate=e().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=e().subtract(100,"year").format("YYYY"),this.maxYear=e().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:e.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:e.weekdaysMin(),monthNames:e.monthsShort(),firstDay:e.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof i&&null!==i||(i={}),"string"==typeof(i=t.extend(this.element.data(),i)).template||i.template instanceof t||(i.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=i.parentEl&&t(i.parentEl).length?t(i.parentEl):t(this.parentEl),this.container=t(i.template).appendTo(this.parentEl),"object"==typeof i.locale&&("string"==typeof i.locale.direction&&(this.locale.direction=i.locale.direction),"string"==typeof i.locale.format&&(this.locale.format=i.locale.format),"string"==typeof i.locale.separator&&(this.locale.separator=i.locale.separator),"object"==typeof i.locale.daysOfWeek&&(this.locale.daysOfWeek=i.locale.daysOfWeek.slice()),"object"==typeof i.locale.monthNames&&(this.locale.monthNames=i.locale.monthNames.slice()),"number"==typeof i.locale.firstDay&&(this.locale.firstDay=i.locale.firstDay),"string"==typeof i.locale.applyLabel&&(this.locale.applyLabel=i.locale.applyLabel),"string"==typeof i.locale.cancelLabel&&(this.locale.cancelLabel=i.locale.cancelLabel),"string"==typeof i.locale.weekLabel&&(this.locale.weekLabel=i.locale.weekLabel),"string"==typeof i.locale.customRangeLabel)){(p=document.createElement("textarea")).innerHTML=i.locale.customRangeLabel;var o=p.value;this.locale.customRangeLabel=o}if(this.container.addClass(this.locale.direction),"string"==typeof i.startDate&&(this.startDate=e(i.startDate,this.locale.format)),"string"==typeof i.endDate&&(this.endDate=e(i.endDate,this.locale.format)),"string"==typeof i.minDate&&(this.minDate=e(i.minDate,this.locale.format)),"string"==typeof i.maxDate&&(this.maxDate=e(i.maxDate,this.locale.format)),"object"==typeof i.startDate&&(this.startDate=e(i.startDate)),"object"==typeof i.endDate&&(this.endDate=e(i.endDate)),"object"==typeof i.minDate&&(this.minDate=e(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=e(i.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof i.applyButtonClasses&&(this.applyButtonClasses=i.applyButtonClasses),"string"==typeof i.applyClass&&(this.applyButtonClasses=i.applyClass),"string"==typeof i.cancelButtonClasses&&(this.cancelButtonClasses=i.cancelButtonClasses),"string"==typeof i.cancelClass&&(this.cancelButtonClasses=i.cancelClass),"object"==typeof i.maxSpan&&(this.maxSpan=i.maxSpan),"object"==typeof i.dateLimit&&(this.maxSpan=i.dateLimit),"string"==typeof i.opens&&(this.opens=i.opens),"string"==typeof i.drops&&(this.drops=i.drops),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"boolean"==typeof i.showISOWeekNumbers&&(this.showISOWeekNumbers=i.showISOWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses.join(" ")),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"number"==typeof i.minYear&&(this.minYear=i.minYear),"number"==typeof i.maxYear&&(this.maxYear=i.maxYear),"boolean"==typeof i.showCustomRangeLabel&&(this.showCustomRangeLabel=i.showCustomRangeLabel),"boolean"==typeof i.singleDatePicker&&(this.singleDatePicker=i.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"boolean"==typeof i.timePickerSeconds&&(this.timePickerSeconds=i.timePickerSeconds),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker24Hour&&(this.timePicker24Hour=i.timePicker24Hour),"boolean"==typeof i.autoApply&&(this.autoApply=i.autoApply),"boolean"==typeof i.autoUpdateInput&&(this.autoUpdateInput=i.autoUpdateInput),"boolean"==typeof i.linkedCalendars&&(this.linkedCalendars=i.linkedCalendars),"function"==typeof i.isInvalidDate&&(this.isInvalidDate=i.isInvalidDate),"function"==typeof i.isCustomDate&&(this.isCustomDate=i.isCustomDate),"boolean"==typeof i.alwaysShowCalendars&&(this.alwaysShowCalendars=i.alwaysShowCalendars),0!=this.locale.firstDay)for(var a=this.locale.firstDay;a>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),a--;var s,l,d;if(void 0===i.startDate&&void 0===i.endDate&&t(this.element).is(":text")){var c=t(this.element).val(),u=c.split(this.locale.separator);s=l=null,2==u.length?(s=e(u[0],this.locale.format),l=e(u[1],this.locale.format)):this.singleDatePicker&&""!==c&&(s=e(c,this.locale.format),l=e(c,this.locale.format)),null!==s&&null!==l&&(this.setStartDate(s),this.setEndDate(l))}if("object"==typeof i.ranges){for(d in i.ranges){s="string"==typeof i.ranges[d][0]?e(i.ranges[d][0],this.locale.format):e(i.ranges[d][0]),l="string"==typeof i.ranges[d][1]?e(i.ranges[d][1],this.locale.format):e(i.ranges[d][1]),this.minDate&&s.isBefore(this.minDate)&&(s=this.minDate.clone());var h=this.maxDate;if(this.maxSpan&&h&&s.clone().add(this.maxSpan).isAfter(h)&&(h=s.clone().add(this.maxSpan)),h&&l.isAfter(h)&&(l=h.clone()),!(this.minDate&&l.isBefore(this.minDate,this.timepicker?"minute":"day")||h&&s.isAfter(h,this.timepicker?"minute":"day"))){var p;(p=document.createElement("textarea")).innerHTML=d;o=p.value;this.ranges[o]=[s,l]}}var f="<ul>";for(d in this.ranges)f+='<li data-range-key="'+d+'">'+d+"</li>";this.showCustomRangeLabel&&(f+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),f+="</ul>",this.container.find(".ranges").prepend(f)}"function"==typeof r&&(this.callback=r),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof i.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply")),(void 0===i.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",t.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",t.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.elementChanged,this),"keydown.daterangepicker":t.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",t.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",t.proxy(this.toggle,this))),this.updateElement()};return n.prototype={constructor:n,setStartDate:function(t){"string"==typeof t&&(this.startDate=e(t,this.locale.format)),"object"==typeof t&&(this.startDate=e(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=e(t,this.locale.format)),"object"==typeof t&&(this.endDate=e(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var e,t,n,i;if(this.endDate){if(e=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour)"PM"===(i=this.container.find(".left .ampmselect").val())&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0)}else if(e=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour)"PM"===(i=this.container.find(".right .ampmselect").val())&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0);this.leftCalendar.month.hour(e).minute(t).second(n),this.rightCalendar.month.hour(e).minute(t).second(n)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(n){var i,r=(i="left"==n?this.leftCalendar:this.rightCalendar).month.month(),o=i.month.year(),a=i.month.hour(),s=i.month.minute(),l=i.month.second(),d=e([o,r]).daysInMonth(),c=e([o,r,1]),u=e([o,r,d]),h=e(c).subtract(1,"month").month(),p=e(c).subtract(1,"month").year(),f=e([p,h]).daysInMonth(),g=c.day();(i=[]).firstDay=c,i.lastDay=u;for(var v=0;v<6;v++)i[v]=[];var m=f-g+this.locale.firstDay+1;m>f&&(m-=7),g==this.locale.firstDay&&(m=f-6);for(var y=e([p,h,m,12,s,l]),D=(v=0,0),b=0;v<42;v++,D++,y=e(y).add(24,"hour"))v>0&&D%7==0&&(D=0,b++),i[b][D]=y.clone().hour(a).minute(s).second(l),y.hour(12),this.minDate&&i[b][D].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&i[b][D].isBefore(this.minDate)&&"left"==n&&(i[b][D]=this.minDate.clone()),this.maxDate&&i[b][D].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&i[b][D].isAfter(this.maxDate)&&"right"==n&&(i[b][D]=this.maxDate.clone());"left"==n?this.leftCalendar.calendar=i:this.rightCalendar.calendar=i;var w="left"==n?this.minDate:this.startDate,_=this.maxDate,C=("left"==n?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');C+="<thead>",C+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(C+="<th></th>"),w&&!w.isBefore(i.firstDay)||this.linkedCalendars&&"left"!=n?C+="<th></th>":C+='<th class="prev available"><span></span></th>';var k=this.locale.monthNames[i[1][1].month()]+i[1][1].format(" YYYY");if(this.showDropdowns){for(var E=i[1][1].month(),S=i[1][1].year(),T=_&&_.year()||this.maxYear,M=w&&w.year()||this.minYear,x=S==M,R=S==T,I='<select class="monthselect">',P=0;P<12;P++)(!x||w&&P>=w.month())&&(!R||_&&P<=_.month())?I+="<option value='"+P+"'"+(P===E?" selected='selected'":"")+">"+this.locale.monthNames[P]+"</option>":I+="<option value='"+P+"'"+(P===E?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[P]+"</option>";I+="</select>";for(var N='<select class="yearselect">',H=M;H<=T;H++)N+='<option value="'+H+'"'+(H===S?' selected="selected"':"")+">"+H+"</option>";k=I+(N+="</select>")}if(C+='<th colspan="5" class="month">'+k+"</th>",_&&!_.isAfter(i.lastDay)||this.linkedCalendars&&"right"!=n&&!this.singleDatePicker?C+="<th></th>":C+='<th class="next available"><span></span></th>',C+="</tr>",C+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(C+='<th class="week">'+this.locale.weekLabel+"</th>"),t.each(this.locale.daysOfWeek,(function(e,t){C+="<th>"+t+"</th>"})),C+="</tr>",C+="</thead>",C+="<tbody>",null==this.endDate&&this.maxSpan){var O=this.startDate.clone().add(this.maxSpan).endOf("day");_&&!O.isBefore(_)||(_=O)}for(b=0;b<6;b++){C+="<tr>",this.showWeekNumbers?C+='<td class="week">'+i[b][0].week()+"</td>":this.showISOWeekNumbers&&(C+='<td class="week">'+i[b][0].isoWeek()+"</td>");for(D=0;D<7;D++){var A=[];i[b][D].isSame(new Date,"day")&&A.push("today"),i[b][D].isoWeekday()>5&&A.push("weekend"),i[b][D].month()!=i[1][1].month()&&A.push("off","ends"),this.minDate&&i[b][D].isBefore(this.minDate,"day")&&A.push("off","disabled"),_&&i[b][D].isAfter(_,"day")&&A.push("off","disabled"),this.isInvalidDate(i[b][D])&&A.push("off","disabled"),i[b][D].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&A.push("active","start-date"),null!=this.endDate&&i[b][D].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&A.push("active","end-date"),null!=this.endDate&&i[b][D]>this.startDate&&i[b][D]<this.endDate&&A.push("in-range");var V=this.isCustomDate(i[b][D]);!1!==V&&("string"==typeof V?A.push(V):Array.prototype.push.apply(A,V));var U="",L=!1;for(v=0;v<A.length;v++)U+=A[v]+" ","disabled"==A[v]&&(L=!0);L||(U+="available"),C+='<td class="'+U.replace(/^\s+|\s+$/g,"")+'" data-title="r'+b+"c"+D+'">'+i[b][D].date()+"</td>"}C+="</tr>"}C+="</tbody>",C+="</table>",this.container.find(".drp-calendar."+n+" .calendar-table").html(C)},renderTimePicker:function(e){if("right"!=e||this.endDate){var t,n,i,r=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(r=this.startDate.clone().add(this.maxSpan)),"left"==e)n=this.startDate.clone(),i=this.minDate;else if("right"==e){n=this.endDate.clone(),i=this.startDate;var o=this.container.find(".drp-calendar.right .calendar-time");if(""!=o.html()&&(n.hour(isNaN(n.hour())?o.find(".hourselect option:selected").val():n.hour()),n.minute(isNaN(n.minute())?o.find(".minuteselect option:selected").val():n.minute()),n.second(isNaN(n.second())?o.find(".secondselect option:selected").val():n.second()),!this.timePicker24Hour)){var a=o.find(".ampmselect option:selected").val();"PM"===a&&n.hour()<12&&n.hour(n.hour()+12),"AM"===a&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),r&&n.isAfter(r)&&(n=r.clone())}t='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,d=s;d<=l;d++){var c=d;this.timePicker24Hour||(c=n.hour()>=12?12==d?12:d+12:12==d?0:d);var u=n.clone().hour(c),h=!1;i&&u.minute(59).isBefore(i)&&(h=!0),r&&u.minute(0).isAfter(r)&&(h=!0),c!=n.hour()||h?t+=h?'<option value="'+d+'" disabled="disabled" class="disabled">'+d+"</option>":'<option value="'+d+'">'+d+"</option>":t+='<option value="'+d+'" selected="selected">'+d+"</option>"}t+="</select> ",t+=': <select class="minuteselect">';for(d=0;d<60;d+=this.timePickerIncrement){var p=d<10?"0"+d:d;u=n.clone().minute(d),h=!1;i&&u.second(59).isBefore(i)&&(h=!0),r&&u.second(0).isAfter(r)&&(h=!0),n.minute()!=d||h?t+=h?'<option value="'+d+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+d+'">'+p+"</option>":t+='<option value="'+d+'" selected="selected">'+p+"</option>"}if(t+="</select> ",this.timePickerSeconds){t+=': <select class="secondselect">';for(d=0;d<60;d++){p=d<10?"0"+d:d,u=n.clone().second(d),h=!1;i&&u.isBefore(i)&&(h=!0),r&&u.isAfter(r)&&(h=!0),n.second()!=d||h?t+=h?'<option value="'+d+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+d+'">'+p+"</option>":t+='<option value="'+d+'" selected="selected">'+p+"</option>"}t+="</select> "}if(!this.timePicker24Hour){t+='<select class="ampmselect">';var f="",g="";i&&n.clone().hour(12).minute(0).second(0).isBefore(i)&&(f=' disabled="disabled" class="disabled"'),r&&n.clone().hour(0).minute(0).second(0).isAfter(r)&&(g=' disabled="disabled" class="disabled"'),n.hour()>=12?t+='<option value="AM"'+f+'>AM</option><option value="PM" selected="selected"'+g+">PM</option>":t+='<option value="AM" selected="selected"'+f+'>AM</option><option value="PM"'+g+">PM</option>",t+="</select>"}this.container.find(".drp-calendar."+e+" .calendar-time").html(t)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var e,n={top:0,left:0},i=this.drops,r=t(window).width();switch(this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},r=this.parentEl[0].clientWidth+this.parentEl.offset().left),i){case"auto":(e=this.element.offset().top+this.element.outerHeight()-n.top)+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(e=this.element.offset().top-this.container.outerHeight()-n.top,i="up");break;case"up":e=this.element.offset().top-this.container.outerHeight()-n.top;break;default:e=this.element.offset().top+this.element.outerHeight()-n.top}this.container.css({top:0,left:0,right:"auto"});var o=this.container.outerWidth();if(this.container.toggleClass("drop-up","up"==i),"left"==this.opens){var a=r-this.element.offset().left-this.element.outerWidth();o+a>t(window).width()?this.container.css({top:e,right:"auto",left:9}):this.container.css({top:e,right:a,left:"auto"})}else if("center"==this.opens){(s=this.element.offset().left-n.left+this.element.outerWidth()/2-o/2)<0?this.container.css({top:e,right:"auto",left:9}):s+o>t(window).width()?this.container.css({top:e,left:"auto",right:0}):this.container.css({top:e,left:s,right:"auto"})}else{var s;(s=this.element.offset().left-n.left)+o>t(window).width()?this.container.css({top:e,left:"auto",right:0}):this.container.css({top:e,left:s,right:"auto"})}},show:function(e){this.isShowing||(this._outsideClickProxy=t.proxy((function(e){this.outsideClick(e)}),this),t(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),t(window).on("resize.daterangepicker",t.proxy((function(e){this.move(e)}),this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(e){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),t(document).off(".daterangepicker"),t(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(e){this.isShowing?this.hide():this.show()},outsideClick:function(e){var n=t(e.target);"focusin"==e.type||n.closest(this.element).length||n.closest(this.container).length||n.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(e){var t=e.target.getAttribute("data-range-key");if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[t];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(e){t(e.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){t(e.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(e){if(t(e.target).hasClass("available")){var n=t(e.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),o=t(e.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[i][r]:this.rightCalendar.calendar[i][r],a=this.leftCalendar,s=this.rightCalendar,l=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each((function(e,n){if(!t(n).hasClass("week")){var i=t(n).attr("data-title"),r=i.substr(1,1),d=i.substr(3,1),c=t(n).parents(".drp-calendar").hasClass("left")?a.calendar[r][d]:s.calendar[r][d];c.isAfter(l)&&c.isBefore(o)||c.isSame(o,"day")?t(n).addClass("in-range"):t(n).removeClass("in-range")}}))}},clickDate:function(e){if(t(e.target).hasClass("available")){var n=t(e.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),o=t(e.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[i][r]:this.rightCalendar.calendar[i][r];if(this.endDate||o.isBefore(this.startDate,"day")){if(this.timePicker){var a=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(d=this.container.find(".left .ampmselect").val())&&a<12&&(a+=12),"AM"===d&&12===a&&(a=0);var s=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(s)&&(s=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var l=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;o=o.clone().hour(a).minute(s).second(l)}this.endDate=null,this.setStartDate(o.clone())}else if(!this.endDate&&o.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var d;a=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(d=this.container.find(".right .ampmselect").val())&&a<12&&(a+=12),"AM"===d&&12===a&&(a=0);s=parseInt(this.container.find(".right .minuteselect").val(),10);isNaN(s)&&(s=parseInt(this.container.find(".right .minuteselect option:last").val(),10));l=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;o=o.clone().hour(a).minute(s).second(l)}this.setEndDate(o.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply()),this.updateView(),e.stopPropagation()}},calculateChosenLabel:function(){var e=!0,t=0;for(var n in this.ranges){if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(i)==this.ranges[n][0].format(i)&&this.endDate.format(i)==this.ranges[n][1].format(i)){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").attr("data-range-key");break}t++}e&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(e){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(e){var n=t(e.target).closest(".drp-calendar").hasClass("left"),i=n?"left":"right",r=this.container.find(".drp-calendar."+i),o=parseInt(r.find(".monthselect").val(),10),a=r.find(".yearselect").val();n||(a<this.startDate.year()||a==this.startDate.year()&&o<this.startDate.month())&&(o=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&o<this.minDate.month())&&(o=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&o>this.maxDate.month())&&(o=this.maxDate.month(),a=this.maxDate.year()),n?(this.leftCalendar.month.month(o).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(o).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(e){var n=t(e.target).closest(".drp-calendar"),i=n.hasClass("left"),r=parseInt(n.find(".hourselect").val(),10),o=parseInt(n.find(".minuteselect").val(),10);isNaN(o)&&(o=parseInt(n.find(".minuteselect option:last").val(),10));var a=this.timePickerSeconds?parseInt(n.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var s=n.find(".ampmselect").val();"PM"===s&&r<12&&(r+=12),"AM"===s&&12===r&&(r=0)}if(i){var l=this.startDate.clone();l.hour(r),l.minute(o),l.second(a),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var d=this.endDate.clone();d.hour(r),d.minute(o),d.second(a),this.setEndDate(d)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.locale.separator),n=null,i=null;2===t.length&&(n=e(t[0],this.locale.format),i=e(t[1],this.locale.format)),(this.singleDatePicker||null===n||null===i)&&(i=n=e(this.element.val(),this.locale.format)),n.isValid()&&i.isValid()&&(this.setStartDate(n),this.setEndDate(i),this.updateView())}},keydown:function(e){9!==e.keyCode&&13!==e.keyCode||this.hide(),27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var e=this.startDate.format(this.locale.format);this.singleDatePicker||(e+=this.locale.separator+this.endDate.format(this.locale.format)),e!==this.element.val()&&this.element.val(e).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},t.fn.daterangepicker=function(e,i){var r=t.extend(!0,{},t.fn.daterangepicker.defaultOptions,e);return this.each((function(){var e=t(this);e.data("daterangepicker")&&e.data("daterangepicker").remove(),e.data("daterangepicker",new n(e,r,i))})),this},n}));var FullCalendar=function(e){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,n)};function n(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function r(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||t)}var o,a,s,l,d,c={},u=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function p(e,t){for(var n in t)e[n]=t[n];return e}function f(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,n){var i,r,o,a=arguments,s={};for(o in t)"key"==o?i=t[o]:"ref"==o?r=t[o]:s[o]=t[o];if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(a[o]);if(null!=n&&(s.children=n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===s[o]&&(s[o]=e.defaultProps[o]);return v(e,s,i,r,null)}function v(e,t,n,i,r){var a={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++o.__v:r};return null!=o.vnode&&o.vnode(a),a}function m(e){return e.children}function y(e,t){this.props=e,this.context=t}function D(e,t){if(null==t)return e.__?D(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?D(e):null}function b(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return b(e)}}function w(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!_.__r++||l!==o.debounceRendering)&&((l=o.debounceRendering)||s)(_)}function _(){for(var e;_.__r=a.length;)e=a.sort((function(e,t){return e.__v.__b-t.__v.__b})),a=[],e.some((function(e){var t,n,i,r,o,a;e.__d&&(o=(r=(t=e).__v).__e,(a=t.__P)&&(n=[],(i=p({},r)).__v=r.__v+1,I(a,r,i,t.__n,void 0!==a.ownerSVGElement,null!=r.__h?[o]:null,n,null==o?D(r):o,r.__h),P(n,r),r.__e!=o&&b(r)))}))}function C(e,t,n,i,r,o,a,s,l,d){var h,p,f,g,y,b,w,_=i&&i.__k||u,C=_.length;for(n.__k=[],h=0;h<t.length;h++)if(null!=(g=n.__k[h]=null==(g=t[h])||"boolean"==typeof g?null:"string"==typeof g||"number"==typeof g||"bigint"==typeof g?v(null,g,null,null,g):Array.isArray(g)?v(m,{children:g},null,null,null):g.__b>0?v(g.type,g.props,g.key,null,g.__v):g)){if(g.__=n,g.__b=n.__b+1,null===(f=_[h])||f&&g.key==f.key&&g.type===f.type)_[h]=void 0;else for(p=0;p<C;p++){if((f=_[p])&&g.key==f.key&&g.type===f.type){_[p]=void 0;break}f=null}I(e,g,f=f||c,r,o,a,s,l,d),y=g.__e,(p=g.ref)&&f.ref!=p&&(w||(w=[]),f.ref&&w.push(f.ref,null,g),w.push(p,g.__c||y,g)),null!=y?(null==b&&(b=y),"function"==typeof g.type&&null!=g.__k&&g.__k===f.__k?g.__d=l=k(g,l,e):l=S(e,g,f,_,y,l),d||"option"!==n.type?"function"==typeof n.type&&(n.__d=l):e.value=""):l&&f.__e==l&&l.parentNode!=e&&(l=D(f))}for(n.__e=b,h=C;h--;)null!=_[h]&&("function"==typeof n.type&&null!=_[h].__e&&_[h].__e==n.__d&&(n.__d=D(i,h+1)),O(_[h],_[h]));if(w)for(h=0;h<w.length;h++)H(w[h],w[++h],w[++h])}function k(e,t,n){var i,r;for(i=0;i<e.__k.length;i++)(r=e.__k[i])&&(r.__=e,t="function"==typeof r.type?k(r,t,n):S(n,r,r,e.__k,r.__e,t));return t}function E(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){E(e,t)})):t.push(e)),t}function S(e,t,n,i,r,o){var a,s,l;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||r!=o||null==r.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(r),a=null;else{for(s=o,l=0;(s=s.nextSibling)&&l<i.length;l+=2)if(s==r)break e;e.insertBefore(r,o),a=o}return void 0!==a?a:r.nextSibling}function T(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||h.test(t)?n:n+"px"}function M(e,t,n,i,r){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||T(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||T(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?i||e.addEventListener(t,o?R:x,o):e.removeEventListener(t,o?R:x,o);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function x(e){this.l[e.type+!1](o.event?o.event(e):e)}function R(e){this.l[e.type+!0](o.event?o.event(e):e)}function I(e,t,n,i,r,a,s,l,d){var c,u,h,f,g,v,D,b,w,_,k,E=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(d=n.__h,l=t.__e=n.__e,t.__h=null,a=[l]),(c=o.__b)&&c(t);try{e:if("function"==typeof E){if(b=t.props,w=(c=E.contextType)&&i[c.__c],_=c?w?w.props.value:c.__:i,n.__c?D=(u=t.__c=n.__c).__=u.__E:("prototype"in E&&E.prototype.render?t.__c=u=new E(b,_):(t.__c=u=new y(b,_),u.constructor=E,u.render=A),w&&w.sub(u),u.props=b,u.state||(u.state={}),u.context=_,u.__n=i,h=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=E.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=p({},u.__s)),p(u.__s,E.getDerivedStateFromProps(b,u.__s))),f=u.props,g=u.state,h)null==E.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==E.getDerivedStateFromProps&&b!==f&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(b,_),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(b,u.__s,_)||t.__v===n.__v){u.props=b,u.state=u.__s,t.__v!==n.__v&&(u.__d=!1),u.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),u.__h.length&&s.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(b,u.__s,_),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(f,g,v)}))}u.context=_,u.props=b,u.state=u.__s,(c=o.__r)&&c(t),u.__d=!1,u.__v=t,u.__P=e,c=u.render(u.props,u.state,u.context),u.state=u.__s,null!=u.getChildContext&&(i=p(p({},i),u.getChildContext())),h||null==u.getSnapshotBeforeUpdate||(v=u.getSnapshotBeforeUpdate(f,g)),k=null!=c&&c.type===m&&null==c.key?c.props.children:c,C(e,Array.isArray(k)?k:[k],t,n,i,r,a,s,l,d),u.base=t.__e,t.__h=null,u.__h.length&&s.push(u),D&&(u.__E=u.__=null),u.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=N(n.__e,t,n,i,r,a,s,d);(c=o.diffed)&&c(t)}catch(e){t.__v=null,(d||null!=a)&&(t.__e=l,t.__h=!!d,a[a.indexOf(l)]=null),o.__e(e,t,n)}}function P(e,t){o.__c&&o.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){o.__e(e,t.__v)}}))}function N(e,t,n,i,r,o,a,s){var l,d,h,p,g=n.props,v=t.props,m=t.type,y=0;if("svg"===m&&(r=!0),null!=o)for(;y<o.length;y++)if((l=o[y])&&(l===e||(m?l.localName==m:3==l.nodeType))){e=l,o[y]=null;break}if(null==e){if(null===m)return document.createTextNode(v);e=r?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,v.is&&v),o=null,s=!1}if(null===m)g===v||s&&e.data===v||(e.data=v);else{if(o=o&&u.slice.call(e.childNodes),d=(g=n.props||c).dangerouslySetInnerHTML,h=v.dangerouslySetInnerHTML,!s){if(null!=o)for(g={},p=0;p<e.attributes.length;p++)g[e.attributes[p].name]=e.attributes[p].value;(h||d)&&(h&&(d&&h.__html==d.__html||h.__html===e.innerHTML)||(e.innerHTML=h&&h.__html||""))}if(function(e,t,n,i,r){var o;for(o in n)"children"===o||"key"===o||o in t||M(e,o,null,n[o],i);for(o in t)r&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||M(e,o,t[o],n[o],i)}(e,v,g,r,s),h)t.__k=[];else if(y=t.props.children,C(e,Array.isArray(y)?y:[y],t,n,i,r&&"foreignObject"!==m,o,a,e.firstChild,s),null!=o)for(y=o.length;y--;)null!=o[y]&&f(o[y]);s||("value"in v&&void 0!==(y=v.value)&&(y!==e.value||"progress"===m&&!y)&&M(e,"value",y,g.value,!1),"checked"in v&&void 0!==(y=v.checked)&&y!==e.checked&&M(e,"checked",y,g.checked,!1))}return e}function H(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){o.__e(e,n)}}function O(e,t,n){var i,r,a;if(o.unmount&&o.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||H(i,null,t)),n||"function"==typeof e.type||(n=null!=(r=e.__e)),e.__e=e.__d=void 0,null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){o.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(a=0;a<i.length;a++)i[a]&&O(i[a],t,n);null!=r&&f(r)}function A(e,t,n){return this.constructor(e,n)}function V(e,t,n){var i,r,a;o.__&&o.__(e,t),r=(i="function"==typeof n)?null:n&&n.__k||t.__k,a=[],I(t,e=(!i&&n||t).__k=g(m,null,[e]),r||c,c,void 0!==t.ownerSVGElement,!i&&n?[n]:r?null:t.firstChild?u.slice.call(t.childNodes):null,a,!i&&n?n:r?r.__e:t.firstChild,i),P(a,e)}o={__e:function(e,t){for(var n,i,r;t=t.__;)if((n=t.__c)&&!n.__)try{if((i=n.constructor)&&null!=i.getDerivedStateFromError&&(n.setState(i.getDerivedStateFromError(e)),r=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),r=n.__d),r)return n.__E=n}catch(t){e=t}throw e},__v:0},y.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(p({},n),this.props)),e&&p(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),w(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),w(this))},y.prototype.render=m,a=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_.__r=0,d=0;var U,L=[],Y=o.__b,F=o.__r,W=o.diffed,B=o.__c,z=o.unmount;function j(){L.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(G),e.__H.__h.forEach(Z),e.__H.__h=[]}catch(t){e.__H.__h=[],o.__e(t,e.__v)}})),L=[]}o.__b=function(e){Y&&Y(e)},o.__r=function(e){F&&F(e);var t=e.__c.__H;t&&(t.__h.forEach(G),t.__h.forEach(Z),t.__h=[])},o.diffed=function(e){W&&W(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==L.push(t)&&U===o.requestAnimationFrame||((U=o.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(i),q&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);q&&(t=requestAnimationFrame(n))})(j))},o.__c=function(e,t){t.some((function(e){try{e.__h.forEach(G),e.__h=e.__h.filter((function(e){return!e.__||Z(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],o.__e(n,e.__v)}})),B&&B(e,t)},o.unmount=function(e){z&&z(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(G)}catch(e){o.__e(e,t.__v)}};var q="function"==typeof requestAnimationFrame;function G(e){"function"==typeof e.__c&&e.__c()}function Z(e){e.__c=e.__()}function X(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}function K(e){this.props=e}(K.prototype=new y).isPureReactComponent=!0,K.prototype.shouldComponentUpdate=function(e,t){return X(this.props,e)||X(this.state,t)};var $=o.__b;o.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),$&&$(e)};var Q=o.__e;o.__e=function(e,t,n){if(e.then)for(var i,r=t;r=r.__;)if((i=r.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);Q(e,t,n)};var J=o.unmount;function ee(){this.__u=0,this.t=null,this.__b=null}function te(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function ne(){this.u=null,this.o=null}o.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),J&&J(e)},(ee.prototype=new y).__c=function(e,t){var n=t.__c,i=this;null==i.t&&(i.t=[]),i.t.push(n);var r=te(i.__v),o=!1,a=function(){o||(o=!0,n.__R=null,r?r(s):s())};n.__R=a;var s=function(){if(!--i.__u){if(i.state.__e){var e=i.state.__e;i.__v.__k[0]=function e(t,n,i){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,i)})),t.__c&&t.__c.__P===n&&(t.__e&&i.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=i)),t}(e,e.__c.__P,e.__c.__O)}var t;for(i.setState({__e:i.__b=null});t=i.t.pop();)t.forceUpdate()}},l=!0===t.__h;i.__u++||l||i.setState({__e:i.__b=i.__v.__k[0]}),e.then(a,a)},ee.prototype.componentWillUnmount=function(){this.t=[]},ee.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=function(e,t){for(var n in t)e[n]=t[n];return e}({},t)).__c&&(t.__c.__P===i&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,i)}))),t}(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__e&&g(m,null,e.fallback);return r&&(r.__h=null),[g(m,null,t.__e?null:e.children),r]};var ie=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function re(e){return this.getChildContext=function(){return e.context},e.children}function oe(e){var t=this,n=e.i;t.componentWillUnmount=function(){V(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),V(g(re,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(ne.prototype=new y).__e=function(e){var t=this,n=te(t.__v),i=t.o.get(e);return i[0]++,function(r){var o=function(){t.props.revealOrder?(i.push(r),ie(t,e,i)):r()};n?n(o):o()}},ne.prototype.render=function(e){this.u=null,this.o=new Map;var t=E(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},ne.prototype.componentDidUpdate=ne.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){ie(e,n,t)}))};var ae="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,se=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,le=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};y.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(y.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var de=o.event;function ce(){}function ue(){return this.cancelBubble}function he(){return this.defaultPrevented}o.event=function(e){return de&&(e=de(e)),e.persist=ce,e.isPropagationStopped=ue,e.isDefaultPrevented=he,e.nativeEvent=e};var pe={configurable:!0,get:function(){return this.class}},fe=o.vnode;o.vnode=function(e){var t=e.type,n=e.props,i=n;if("string"==typeof t){for(var r in i={},n){var o=n[r];"value"===r&&"defaultValue"in n&&null==o||("defaultValue"===r&&"value"in n&&null==n.value?r="value":"download"===r&&!0===o?o="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+t)&&!le(n.type)?r="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(r)?r=r.toLowerCase():se.test(r)?r=r.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===o&&(o=void 0),i[r]=o)}"select"==t&&i.multiple&&Array.isArray(i.value)&&(i.value=E(n.children).forEach((function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)}))),"select"==t&&null!=i.defaultValue&&(i.value=E(n.children).forEach((function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value}))),e.props=i}t&&n.class!=n.className&&(pe.enumerable="className"in n,null!=n.className&&(i.class=n.className),Object.defineProperty(i,"className",pe)),e.$$typeof=ae,fe&&fe(e)};var ge=o.__r;o.__r=function(e){ge&&ge(e)},"object"==typeof performance&&"function"==typeof performance.now&&performance.now.bind(performance);var ve="undefined"!=typeof globalThis?globalThis:window;ve.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):ve.FullCalendarVDom={Component:y,createElement:g,render:V,createRef:function(){return{current:null}},Fragment:m,createContext:function(e){var t=function(e,t){var n={__c:t="__cC"+d++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,i;return this.getChildContext||(n=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(w)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}(e),n=t.Provider;return t.Provider=function(){var e=this,t=!this.getChildContext,i=n.apply(this,arguments);if(t){var r=[];this.shouldComponentUpdate=function(t){e.props.value!==t.value&&r.forEach((function(e){e.context=t.value,e.forceUpdate()}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}}return i},t},createPortal:function(e,t){return g(oe,{__v:e,i:t})},flushSync:function(e){e();var t=o.debounceRendering,n=[];for(o.debounceRendering=function(e){n.push(e)},V(g(me,{}),document.createElement("div"));n.length;)n.shift()();o.debounceRendering=t},unmountComponentAtNode:function(e){V(null,e)}};var me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return g("div",{})},t.prototype.componentDidMount=function(){this.setState({})},t}(y),ye=function(){function e(e,t){this.context=e,this.internalEventSource=t}return e.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},e.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(e.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),e}();function De(e){e.parentNode&&e.parentNode.removeChild(e)}function be(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(we(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function we(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}function _e(e,t){for(var n=e instanceof HTMLElement?[e]:e,i=[],r=0;r<n.length;r+=1)for(var o=n[r].querySelectorAll(t),a=0;a<o.length;a+=1)i.push(o[a]);return i}var Ce=/(top|left|right|bottom|width|height)$/i;function ke(e,t){for(var n in t)Ee(e,n,t[n])}function Ee(e,t,n){null==n?e.style[t]="":"number"==typeof n&&Ce.test(t)?e.style[t]=n+"px":e.style[t]=n}function Se(e){var t,n;return null!==(n=null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])&&void 0!==n?n:e.target}function Te(e){return e.getRootNode?e.getRootNode():document}var Me=0;function xe(){return"fc-dom-"+(Me+=1)}function Re(e){e.preventDefault()}function Ie(e,t,n,i){var r=function(e,t){return function(n){var i=be(n.target,e);i&&t.call(i,n,i)}}(n,i);return e.addEventListener(t,r),function(){e.removeEventListener(t,r)}}var Pe=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Ne(e,t){var n=function(i){t(i),Pe.forEach((function(t){e.removeEventListener(t,n)}))};Pe.forEach((function(t){e.addEventListener(t,n)}))}function He(e){return i({onClick:e},Oe(e))}function Oe(e){return{tabIndex:0,onKeyDown:function(t){"Enter"!==t.key&&" "!==t.key||(e(t),t.preventDefault())}}}var Ae=0;function Ve(){return String(Ae+=1)}function Ue(){document.body.classList.add("fc-not-allowed")}function Le(){document.body.classList.remove("fc-not-allowed")}function Ye(e){e.classList.add("fc-unselectable"),e.addEventListener("selectstart",Re)}function Fe(e){e.classList.remove("fc-unselectable"),e.removeEventListener("selectstart",Re)}function We(e){e.addEventListener("contextmenu",Re)}function Be(e){e.removeEventListener("contextmenu",Re)}function ze(e){var t,n,i=[],r=[];for("string"==typeof e?r=e.split(/\s*,\s*/):"function"==typeof e?r=[e]:Array.isArray(e)&&(r=e),t=0;t<r.length;t+=1)"string"==typeof(n=r[t])?i.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&i.push({func:n});return i}function je(e,t,n){var i,r;for(i=0;i<n.length;i+=1)if(r=qe(e,t,n[i]))return r;return 0}function qe(e,t,n){return n.func?n.func(e,t):Ge(e[n.field],t[n.field])*(n.order||1)}function Ge(e,t){return e||t?null==t?-1:null==e?1:"string"==typeof e||"string"==typeof t?String(e).localeCompare(String(t)):e-t:0}function Ze(e,t){var n=String(e);return"000".substr(0,t-n.length)+n}function Xe(e,t,n){return"function"==typeof e?e.apply(void 0,t):"string"==typeof e?t.reduce((function(e,t,n){return e.replace("$"+n,t||"")}),e):n}function Ke(e,t){return e-t}function $e(e){return e%1==0}function Qe(e){var t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}var Je=["sun","mon","tue","wed","thu","fri","sat"];function et(e,t){var n=pt(e);return n[2]+=7*t,ft(n)}function tt(e,t){var n=pt(e);return n[2]+=t,ft(n)}function nt(e,t){var n=pt(e);return n[6]+=t,ft(n)}function it(e,t){return rt(e,t)/7}function rt(e,t){return(t.valueOf()-e.valueOf())/864e5}function ot(e,t){var n=lt(e),i=lt(t);return{years:0,months:0,days:Math.round(rt(n,i)),milliseconds:t.valueOf()-i.valueOf()-(e.valueOf()-n.valueOf())}}function at(e,t){var n=st(e,t);return null!==n&&n%7==0?n/7:null}function st(e,t){return vt(e)===vt(t)?Math.round(rt(e,t)):null}function lt(e){return ft([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function dt(e,t,n,i){var r=ft([t,0,1+ct(t,n,i)]),o=lt(e),a=Math.round(rt(r,o));return Math.floor(a/7)+1}function ct(e,t,n){var i=7+t-n;return-(7+ft([e,0,i]).getUTCDay()-t)%7+i-1}function ut(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function ht(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function pt(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function ft(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC.apply(Date,e))}function gt(e){return!isNaN(e.valueOf())}function vt(e){return 1e3*e.getUTCHours()*60*60+1e3*e.getUTCMinutes()*60+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function mt(e,t,n,i){return{instanceId:Ve(),defId:e,range:t,forcedStartTzo:null==n?null:n,forcedEndTzo:null==i?null:i}}var yt=Object.prototype.hasOwnProperty;function Dt(e,t){var n={};if(t)for(var i in t){for(var r=[],o=e.length-1;o>=0;o-=1){var a=e[o][i];if("object"==typeof a&&a)r.unshift(a);else if(void 0!==a){n[i]=a;break}}r.length&&(n[i]=Dt(r))}for(o=e.length-1;o>=0;o-=1){var s=e[o];for(var l in s)l in n||(n[l]=s[l])}return n}function bt(e,t){var n={};for(var i in e)t(e[i],i)&&(n[i]=e[i]);return n}function wt(e,t){var n={};for(var i in e)n[i]=t(e[i],i);return n}function _t(e){for(var t={},n=0,i=e;n<i.length;n++)t[i[n]]=!0;return t}function Ct(e){var t=[];for(var n in e)t.push(e[n]);return t}function kt(e,t){if(e===t)return!0;for(var n in e)if(yt.call(e,n)&&!(n in t))return!1;for(var n in t)if(yt.call(t,n)&&e[n]!==t[n])return!1;return!0}function Et(e,t){var n=[];for(var i in e)yt.call(e,i)&&(i in t||n.push(i));for(var i in t)yt.call(t,i)&&e[i]!==t[i]&&n.push(i);return n}function St(e,t,n){if(void 0===n&&(n={}),e===t)return!0;for(var i in t)if(!(i in e)||!Tt(e[i],t[i],n[i]))return!1;for(var i in e)if(!(i in t))return!1;return!0}function Tt(e,t,n){return e===t||!0===n||!!n&&n(e,t)}function Mt(e,t,n,i){void 0===t&&(t=0),void 0===i&&(i=1);var r=[];null==n&&(n=Object.keys(e).length);for(var o=t;o<n;o+=i){var a=e[o];void 0!==a&&r.push(a)}return r}function xt(e,t,n){var i=n.dateEnv,r=n.pluginHooks,o=n.options,a=e.defs,s=e.instances;for(var l in s=bt(s,(function(e){return!a[e.defId].recurringDef})),a){var d=a[l];if(d.recurringDef){var c=d.recurringDef.duration;c||(c=d.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);for(var u=0,h=Rt(d,c,t,i,r.recurringTypes);u<h.length;u++){var p=h[u],f=mt(l,{start:p,end:i.add(p,c)});s[f.instanceId]=f}}}return{defs:a,instances:s}}function Rt(e,t,n,i,r){var o=r[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:i.subtract(n.start,t),end:n.end},i);return e.allDay&&(o=o.map(lt)),o}var It=["years","months","days","milliseconds"],Pt=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Nt(e,t){var n;return"string"==typeof e?function(e){var t=Pt.exec(e);if(t){var n=t[1]?-1:1;return{years:0,months:0,days:n*(t[2]?parseInt(t[2],10):0),milliseconds:n*(60*(t[3]?parseInt(t[3],10):0)*60*1e3+60*(t[4]?parseInt(t[4],10):0)*1e3+1e3*(t[5]?parseInt(t[5],10):0)+(t[6]?parseInt(t[6],10):0))}}return null}(e):"object"==typeof e&&e?Ht(e):"number"==typeof e?Ht(((n={})[t||"milliseconds"]=e,n)):null}function Ht(e){var t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:60*(e.hours||e.hour||0)*60*1e3+60*(e.minutes||e.minute||0)*1e3+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=7*n,t.specifiedWeeks=!0),t}function Ot(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function At(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function Vt(e){return Ut(e)/864e5}function Ut(e){return 31536e6*e.years+2592e6*e.months+864e5*e.days+e.milliseconds}function Lt(e,t){for(var n=null,i=0;i<It.length;i+=1){var r=It[i];if(t[r]){var o=e[r]/t[r];if(!$e(o)||null!==n&&n!==o)return null;n=o}else if(e[r])return null}return n}function Yt(e){var t=e.milliseconds;if(t){if(t%1e3!=0)return{unit:"millisecond",value:t};if(t%6e4!=0)return{unit:"second",value:t/1e3};if(t%36e5!=0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7==0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function Ft(e,t,n){void 0===n&&(n=!1);var i=e.toISOString();return i=i.replace(".000",""),n&&(i=i.replace("T00:00:00Z","")),i.length>10&&(null==t?i=i.replace("Z",""):0!==t&&(i=i.replace("Z",zt(t,!0)))),i}function Wt(e){return e.toISOString().replace(/T.*$/,"")}function Bt(e){return Ze(e.getUTCHours(),2)+":"+Ze(e.getUTCMinutes(),2)+":"+Ze(e.getUTCSeconds(),2)}function zt(e,t){void 0===t&&(t=!1);var n=e<0?"-":"+",i=Math.abs(e),r=Math.floor(i/60),o=Math.round(i%60);return t?n+Ze(r,2)+":"+Ze(o,2):"GMT"+n+r+(o?":"+Ze(o,2):"")}function jt(e,t,n){if(e===t)return!0;var i,r=e.length;if(r!==t.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(e[i],t[i]):e[i]===t[i]))return!1;return!0}function qt(e,t,n){var i,r;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(i){if(!jt(i,o)){n&&n(r);var s=e.apply(this,o);t&&t(s,r)||(r=s)}}else r=e.apply(this,o);return i=o,r}}function Gt(e,t,n){var i,r,o=this;return function(a){if(i){if(!kt(i,a)){n&&n(r);var s=e.call(o,a);t&&t(s,r)||(r=s)}}else r=e.call(o,a);return i=a,r}}var Zt={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Xt={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Kt=/\s*([ap])\.?m\.?/i,$t=/,/g,Qt=/\s+/g,Jt=/\u200e/g,en=/UTC|GMT/,tn=function(){function e(e){var t={},n={},i=0;for(var r in e)r in Zt?(n[r]=e[r],i=Math.max(Zt[r],i)):(t[r]=e[r],r in Xt&&(i=Math.max(Xt[r],i)));this.standardDateProps=t,this.extendedSettings=n,this.severity=i,this.buildFormattingFunc=qt(nn)}return e.prototype.format=function(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)},e.prototype.formatRange=function(e,t,n,i){var r=this.standardDateProps,o=this.extendedSettings,a=function(e,t,n){return n.getMarkerYear(e)!==n.getMarkerYear(t)?5:n.getMarkerMonth(e)!==n.getMarkerMonth(t)?4:n.getMarkerDay(e)!==n.getMarkerDay(t)?2:vt(e)!==vt(t)?1:0}(e.marker,t.marker,n.calendarSystem);if(!a)return this.format(e,n);var s=a;!(s>1)||"numeric"!==r.year&&"2-digit"!==r.year||"numeric"!==r.month&&"2-digit"!==r.month||"numeric"!==r.day&&"2-digit"!==r.day||(s=1);var l=this.format(e,n),d=this.format(t,n);if(l===d)return l;var c=nn(function(e,t){var n={};for(var i in e)(!(i in Xt)||Xt[i]<=t)&&(n[i]=e[i]);return n}(r,s),o,n),u=c(e),h=c(t),p=function(e,t,n,i){for(var r=0;r<e.length;){var o=e.indexOf(t,r);if(-1===o)break;var a=e.substr(0,o);r=o+t.length;for(var s=e.substr(r),l=0;l<n.length;){var d=n.indexOf(i,l);if(-1===d)break;var c=n.substr(0,d);l=d+i.length;var u=n.substr(l);if(a===c&&s===u)return{before:a,after:s}}}return null}(l,u,d,h),f=o.separator||i||n.defaultSeparator||"";return p?p.before+u+f+h+p.after:l+f+d},e.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},e}();function nn(e,t,n){var r=Object.keys(e).length;return 1===r&&"short"===e.timeZoneName?function(e){return zt(e.timeZoneOffset)}:0===r&&t.week?function(e){return function(e,t,n,i,r){var o=[];return"long"===r?o.push(n):"short"!==r&&"narrow"!==r||o.push(t),"long"!==r&&"short"!==r||o.push(" "),o.push(i.simpleNumberFormat.format(e)),"rtl"===i.options.direction&&o.reverse(),o.join("")}(n.computeWeekNumber(e.marker),n.weekText,n.weekTextLong,n.locale,t.week)}:function(e,t,n){e=i({},e),t=i({},t),function(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit")),"long"===e.timeZoneName&&(e.timeZoneName="short"),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}(e,t),e.timeZone="UTC";var r,o=new Intl.DateTimeFormat(n.locale.codes,e);if(t.omitZeroMinute){var a=i({},e);delete a.minute,r=new Intl.DateTimeFormat(n.locale.codes,a)}return function(i){var a=i.marker;return function(e,t,n,i,r){return e=e.replace(Jt,""),"short"===n.timeZoneName&&(e=function(e,t){var n=!1;return e=e.replace(en,(function(){return n=!0,t})),n||(e+=" "+t),e}(e,"UTC"===r.timeZone||null==t.timeZoneOffset?"UTC":zt(t.timeZoneOffset))),i.omitCommas&&(e=e.replace($t,"").trim()),i.omitZeroMinute&&(e=e.replace(":00","")),!1===i.meridiem?e=e.replace(Kt,"").trim():"narrow"===i.meridiem?e=e.replace(Kt,(function(e,t){return t.toLocaleLowerCase()})):"short"===i.meridiem?e=e.replace(Kt,(function(e,t){return t.toLocaleLowerCase()+"m"})):"lowercase"===i.meridiem&&(e=e.replace(Kt,(function(e){return e.toLocaleLowerCase()}))),(e=e.replace(Qt," ")).trim()}((r&&!a.getUTCMinutes()?r:o).format(a),i,e,t,n)}}(e,t,n)}function rn(e,t){var n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function on(e,t,n,i){var r=rn(e,n.calendarSystem);return{date:r,start:r,end:t?rn(t,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:i||n.defaultSeparator}}var an=function(){function e(e){this.cmdStr=e}return e.prototype.format=function(e,t,n){return t.cmdFormatter(this.cmdStr,on(e,null,t,n))},e.prototype.formatRange=function(e,t,n,i){return n.cmdFormatter(this.cmdStr,on(e,t,n,i))},e}(),sn=function(){function e(e){this.func=e}return e.prototype.format=function(e,t,n){return this.func(on(e,null,t,n))},e.prototype.formatRange=function(e,t,n,i){return this.func(on(e,t,n,i))},e}();function ln(e){return"object"==typeof e&&e?new tn(e):"string"==typeof e?new an(e):"function"==typeof e?new sn(e):null}var dn={navLinkDayClick:yn,navLinkWeekClick:yn,duration:Nt,bootstrapFontAwesome:yn,buttonIcons:yn,customButtons:yn,defaultAllDayEventDuration:Nt,defaultTimedEventDuration:Nt,nextDayThreshold:Nt,scrollTime:Nt,scrollTimeReset:Boolean,slotMinTime:Nt,slotMaxTime:Nt,dayPopoverFormat:ln,slotDuration:Nt,snapDuration:Nt,headerToolbar:yn,footerToolbar:yn,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:ln,dayHeaderClassNames:yn,dayHeaderContent:yn,dayHeaderDidMount:yn,dayHeaderWillUnmount:yn,dayCellClassNames:yn,dayCellContent:yn,dayCellDidMount:yn,dayCellWillUnmount:yn,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:yn,weekNumbers:Boolean,weekNumberClassNames:yn,weekNumberContent:yn,weekNumberDidMount:yn,weekNumberWillUnmount:yn,editable:Boolean,viewClassNames:yn,viewDidMount:yn,viewWillUnmount:yn,nowIndicator:Boolean,nowIndicatorClassNames:yn,nowIndicatorContent:yn,nowIndicatorDidMount:yn,nowIndicatorWillUnmount:yn,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:yn,locale:yn,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:yn,eventOrder:ze,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:yn,contentHeight:yn,direction:String,weekNumberFormat:ln,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:yn,initialDate:yn,now:yn,eventDataTransform:yn,stickyHeaderDates:yn,stickyFooterScrollbar:yn,viewHeight:yn,defaultAllDay:Boolean,eventSourceFailure:yn,eventSourceSuccess:yn,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:yn,eventConstraint:yn,eventAllow:yn,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:yn,eventContent:yn,eventDidMount:yn,eventWillUnmount:yn,selectConstraint:yn,selectOverlap:yn,selectAllow:yn,droppable:Boolean,unselectCancel:String,slotLabelFormat:yn,slotLaneClassNames:yn,slotLaneContent:yn,slotLaneDidMount:yn,slotLaneWillUnmount:yn,slotLabelClassNames:yn,slotLabelContent:yn,slotLabelDidMount:yn,slotLabelWillUnmount:yn,dayMaxEvents:yn,dayMaxEventRows:yn,dayMinWidth:Number,slotLabelInterval:Nt,allDayText:String,allDayClassNames:yn,allDayContent:yn,allDayDidMount:yn,allDayWillUnmount:yn,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:ln,rerenderDelay:Number,moreLinkText:yn,moreLinkHint:yn,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:yn,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Nt,hiddenDays:yn,monthMode:Boolean,fixedWeekCount:Boolean,validRange:yn,visibleRange:yn,titleFormat:yn,eventInteractive:Boolean,noEventsText:String,viewHint:yn,navLinkHint:yn,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:yn,moreLinkClassNames:yn,moreLinkContent:yn,moreLinkDidMount:yn,moreLinkWillUnmount:yn},cn={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},un={datesSet:yn,eventsSet:yn,eventAdd:yn,eventChange:yn,eventRemove:yn,windowResize:yn,eventClick:yn,eventMouseEnter:yn,eventMouseLeave:yn,select:yn,unselect:yn,loading:yn,_unmount:yn,_beforeprint:yn,_afterprint:yn,_noEventDrop:yn,_noEventResize:yn,_resize:yn,_scrollRequest:yn},hn={buttonText:yn,buttonHints:yn,views:yn,plugins:yn,initialEvents:yn,events:yn,eventSources:yn},pn={headerToolbar:fn,footerToolbar:fn,buttonText:fn,buttonHints:fn,buttonIcons:fn};function fn(e,t){return"object"==typeof e&&"object"==typeof t&&e&&t?kt(e,t):e===t}var gn={type:String,component:yn,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:yn,usesMinMaxTime:Boolean,classNames:yn,content:yn,didMount:yn,willUnmount:yn};function vn(e){return Dt(e,pn)}function mn(e,t){var n={},i={};for(var r in t)r in e&&(n[r]=t[r](e[r]));for(var r in e)r in t||(i[r]=e[r]);return{refined:n,extra:i}}function yn(e){return e}function Dn(e,t,n,i){for(var r={defs:{},instances:{}},o=On(n),a=0,s=e;a<s.length;a++){var l=Nn(s[a],t,n,i,o);l&&bn(l,r)}return r}function bn(e,t){return void 0===t&&(t={defs:{},instances:{}}),t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function wn(e,t){var n=e.instances[t];if(n){var i=e.defs[n.defId],r=Cn(e,(function(e){return t=i,n=e,Boolean(t.groupId&&t.groupId===n.groupId);var t,n}));return r.defs[i.defId]=i,r.instances[n.instanceId]=n,r}return{defs:{},instances:{}}}function _n(e,t){return{defs:i(i({},e.defs),t.defs),instances:i(i({},e.instances),t.instances)}}function Cn(e,t){var n=bt(e.defs,t),i=bt(e.instances,(function(e){return n[e.defId]}));return{defs:n,instances:i}}function kn(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/\s+/):[]}var En={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:yn,overlap:yn,allow:yn,className:kn,classNames:kn,color:String,backgroundColor:String,borderColor:String,textColor:String},Sn={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Tn(e,t){var n=function(e,t){return Array.isArray(e)?Dn(e,null,t,!0):"object"==typeof e&&e?Dn([e],null,t,!0):null!=e?String(e):null}(e.constraint,t);return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=n?[n]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function Mn(e){return e.reduce(xn,Sn)}function xn(e,t){return{display:null!=t.display?t.display:e.display,startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"==typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}var Rn={id:String,groupId:String,title:String,url:String,interactive:Boolean},In={start:yn,end:yn,date:yn,allDay:Boolean},Pn=i(i(i({},Rn),In),{extendedProps:yn});function Nn(e,t,n,i,r){void 0===r&&(r=On(n));var o=Hn(e,n,r),a=o.refined,s=o.extra,l=function(e,t){var n=null;return e&&(n=e.defaultAllDay),null==n&&(n=t.options.defaultAllDay),n}(t,n),d=function(e,t,n,i){for(var r=0;r<i.length;r+=1){var o=i[r].parse(e,n);if(o){var a=e.allDay;return null==a&&null==(a=t)&&null==(a=o.allDayGuess)&&(a=!1),{allDay:a,duration:o.duration,typeData:o.typeData,typeId:r}}}return null}(a,l,n.dateEnv,n.pluginHooks.recurringTypes);if(d)return(c=An(a,s,t?t.sourceId:"",d.allDay,Boolean(d.duration),n)).recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:c,instance:null};var c,u=function(e,t,n,i){var r,o,a=e.allDay,s=null,l=!1,d=null,c=null!=e.start?e.start:e.date;if(r=n.dateEnv.createMarkerMeta(c))s=r.marker;else if(!i)return null;return null!=e.end&&(o=n.dateEnv.createMarkerMeta(e.end)),null==a&&(a=null!=t?t:(!r||r.isTimeUnspecified)&&(!o||o.isTimeUnspecified)),a&&s&&(s=lt(s)),o&&(d=o.marker,a&&(d=lt(d)),s&&d<=s&&(d=null)),d?l=!0:i||(l=n.options.forceEventDuration||!1,d=n.dateEnv.add(s,a?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:a,hasEnd:l,range:{start:s,end:d},forcedStartTzo:r?r.forcedTzo:null,forcedEndTzo:o?o.forcedTzo:null}}(a,l,n,i);return u?{def:c=An(a,s,t?t.sourceId:"",u.allDay,u.hasEnd,n),instance:mt(c.defId,u.range,u.forcedStartTzo,u.forcedEndTzo)}:null}function Hn(e,t,n){return void 0===n&&(n=On(t)),mn(e,n)}function On(e){return i(i(i({},En),Pn),e.pluginHooks.eventRefiners)}function An(e,t,n,r,o,a){for(var s={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:Ve(),sourceId:n,allDay:r,hasEnd:o,interactive:e.interactive,ui:Tn(e,a),extendedProps:i(i({},e.extendedProps||{}),t)},l=0,d=a.pluginHooks.eventDefMemberAdders;l<d.length;l++){var c=d[l];i(s,c(e))}return Object.freeze(s.ui.classNames),Object.freeze(s.extendedProps),s}function Vn(e){var t=Math.floor(rt(e.start,e.end))||1,n=lt(e.start);return{start:n,end:tt(n,t)}}function Un(e,t){void 0===t&&(t=Nt(0));var n=null,i=null;if(e.end){i=lt(e.end);var r=e.end.valueOf()-i.valueOf();r&&r>=Ut(t)&&(i=tt(i,1))}return e.start&&(n=lt(e.start),i&&i<=n&&(i=tt(n,1))),{start:n,end:i}}function Ln(e){var t=Un(e);return rt(t.start,t.end)>1}function Yn(e,t,n,i){return"year"===i?Nt(n.diffWholeYears(e,t),"year"):"month"===i?Nt(n.diffWholeMonths(e,t),"month"):ot(e,t)}function Fn(e,t){var n,i,r=[],o=t.start;for(e.sort(Wn),n=0;n<e.length;n+=1)(i=e[n]).start>o&&r.push({start:o,end:i.start}),i.end>o&&(o=i.end);return o<t.end&&r.push({start:o,end:t.end}),r}function Wn(e,t){return e.start.valueOf()-t.start.valueOf()}function Bn(e,t){var n=e.start,i=e.end,r=null;return null!==t.start&&(n=null===n?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),null!=t.end&&(i=null===i?t.end:new Date(Math.min(i.valueOf(),t.end.valueOf()))),(null===n||null===i||n<i)&&(r={start:n,end:i}),r}function zn(e,t){return(null===e.start?null:e.start.valueOf())===(null===t.start?null:t.start.valueOf())&&(null===e.end?null:e.end.valueOf())===(null===t.end?null:t.end.valueOf())}function jn(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function qn(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function Gn(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function Zn(e,t,n,i){var r={},o={},a={},s=[],l=[],d=Qn(e.defs,t);for(var c in e.defs)"inverse-background"===(p=d[(b=e.defs[c]).defId]).display&&(b.groupId?(r[b.groupId]=[],a[b.groupId]||(a[b.groupId]=b)):o[c]=[]);for(var u in e.instances){var h=e.instances[u],p=d[(b=e.defs[h.defId]).defId],f=h.range,g=!b.allDay&&i?Un(f,i):f,v=Bn(g,n);v&&("inverse-background"===p.display?b.groupId?r[b.groupId].push(v):o[h.defId].push(v):"none"!==p.display&&("background"===p.display?s:l).push({def:b,ui:p,instance:h,range:v,isStart:g.start&&g.start.valueOf()===v.start.valueOf(),isEnd:g.end&&g.end.valueOf()===v.end.valueOf()}))}for(var m in r)for(var y=0,D=Fn(r[m],n);y<D.length;y++){var b,w=D[y];p=d[(b=a[m]).defId],s.push({def:b,ui:p,instance:null,range:w,isStart:!1,isEnd:!1})}for(var c in o)for(var _=0,C=Fn(o[c],n);_<C.length;_++)w=C[_],s.push({def:e.defs[c],ui:d[c],instance:null,range:w,isStart:!1,isEnd:!1});return{bg:s,fg:l}}function Xn(e){return"background"===e.ui.display||"inverse-background"===e.ui.display}function Kn(e,t){e.fcSeg=t}function $n(e){return e.fcSeg||e.parentNode.fcSeg||null}function Qn(e,t){return wt(e,(function(e){return Jn(e,t)}))}function Jn(e,t){var n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),Mn(n)}function ei(e,t){var n=e.map(ti);return n.sort((function(e,n){return je(e,n,t)})),n.map((function(e){return e._seg}))}function ti(e){var t=e.eventRange,n=t.def,r=t.instance?t.instance.range:t.range,o=r.start?r.start.valueOf():0,a=r.end?r.end.valueOf():0;return i(i(i({},n.extendedProps),n),{id:n.publicId,start:o,end:a,duration:a-o,allDay:Number(n.allDay),_seg:e})}function ni(e,t){for(var n=t.pluginHooks.isDraggableTransformers,i=e.eventRange,r=i.def,o=i.ui,a=o.startEditable,s=0,l=n;s<l.length;s++)a=(0,l[s])(a,r,o,t);return a}function ii(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function ri(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function oi(e,t,n,i,r,o,a){var s=n.dateEnv,l=n.options,d=l.displayEventTime,c=l.displayEventEnd,u=e.eventRange.def,h=e.eventRange.instance;null==d&&(d=!1!==i),null==c&&(c=!1!==r);var p=h.range.start,f=h.range.end,g=o||e.start||e.eventRange.range.start,v=a||e.end||e.eventRange.range.end,m=lt(p).valueOf()===lt(g).valueOf(),y=lt(nt(f,-1)).valueOf()===lt(nt(v,-1)).valueOf();return d&&!u.allDay&&(m||y)?(g=m?p:g,v=y?f:v,c&&u.hasEnd?s.formatRange(g,v,t,{forcedStartTzo:o?null:h.forcedStartTzo,forcedEndTzo:a?null:h.forcedEndTzo}):s.format(g,t,{forcedTzo:o?null:h.forcedStartTzo})):""}function ai(e,t,n){var i=e.eventRange.range;return{isPast:i.end<(n||t.start),isFuture:i.start>=(n||t.end),isToday:t&&Gn(t,i.start)}}function si(e){var t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function li(e){return e.instance?e.instance.instanceId:e.def.defId+":"+e.range.start.toISOString()}function di(e,t){var n=e.eventRange,i=n.def,r=n.instance,o=i.url;if(o)return{href:o};var a=t.emitter,s=t.options.eventInteractive;return null==s&&null==(s=i.interactive)&&(s=Boolean(a.hasHandlers("eventClick"))),s?Oe((function(e){a.trigger("eventClick",{el:e.target,event:new Mi(t,i,r),jsEvent:e,view:t.viewApi})})):{}}var ci={start:yn,end:yn,allDay:Boolean};function ui(e,t,n){var r=function(e,t){var n=mn(e,ci),r=n.refined,o=n.extra,a=r.start?t.createMarkerMeta(r.start):null,s=r.end?t.createMarkerMeta(r.end):null,l=r.allDay;return null==l&&(l=a&&a.isTimeUnspecified&&(!s||s.isTimeUnspecified)),i({range:{start:a?a.marker:null,end:s?s.marker:null},allDay:l},o)}(e,t),o=r.range;if(!o.start)return null;if(!o.end){if(null==n)return null;o.end=t.add(o.start,n)}return r}function hi(e,t){return zn(e.range,t.range)&&e.allDay===t.allDay&&function(e,t){for(var n in t)if("range"!==n&&"allDay"!==n&&e[n]!==t[n])return!1;for(var n in e)if(!(n in t))return!1;return!0}(e,t)}function pi(e,t,n){return i(i({},fi(e,t,n)),{timeZone:t.timeZone})}function fi(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}function gi(e,t,n){var i=Hn({editable:!1},n),r=An(i.refined,i.extra,"",e.allDay,!0,n);return{def:r,ui:Jn(r,t),instance:mt(r.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}function vi(e,t,n){n.emitter.trigger("select",i(i({},mi(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function mi(e,t){for(var n,r,o={},a=0,s=t.pluginHooks.dateSpanTransforms;a<s.length;a++){var l=s[a];i(o,l(e,t))}return i(o,(n=e,r=t.dateEnv,i(i({},fi(n.range,r,n.allDay)),{allDay:n.allDay}))),o}function yi(e,t,n){var i=n.dateEnv,r=n.options,o=t;return e?(o=lt(o),o=i.add(o,r.defaultAllDayEventDuration)):o=i.add(o,r.defaultTimedEventDuration),o}function Di(e,t,n,i){var r=Qn(e.defs,t),o={defs:{},instances:{}};for(var a in e.defs){var s=e.defs[a];o.defs[a]=bi(s,r[a],n,i)}for(var l in e.instances){var d=e.instances[l];s=o.defs[d.defId],o.instances[l]=wi(d,s,r[d.defId],n,i)}return o}function bi(e,t,n,r){var o=n.standardProps||{};null==o.hasEnd&&t.durationEditable&&(n.startDelta||n.endDelta)&&(o.hasEnd=!0);var a=i(i(i({},e),o),{ui:i(i({},e.ui),o.ui)});n.extendedProps&&(a.extendedProps=i(i({},a.extendedProps),n.extendedProps));for(var s=0,l=r.pluginHooks.eventDefMutationAppliers;s<l.length;s++)(0,l[s])(a,n,r);return!a.hasEnd&&r.options.forceEventDuration&&(a.hasEnd=!0),a}function wi(e,t,n,r,o){var a=o.dateEnv,s=r.standardProps&&!0===r.standardProps.allDay,l=r.standardProps&&!1===r.standardProps.hasEnd,d=i({},e);return s&&(d.range=Vn(d.range)),r.datesDelta&&n.startEditable&&(d.range={start:a.add(d.range.start,r.datesDelta),end:a.add(d.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(d.range={start:a.add(d.range.start,r.startDelta),end:d.range.end}),r.endDelta&&n.durationEditable&&(d.range={start:d.range.start,end:a.add(d.range.end,r.endDelta)}),l&&(d.range={start:d.range.start,end:yi(t.allDay,d.range.start,o)}),t.allDay&&(d.range={start:lt(d.range.start),end:lt(d.range.end)}),d.range.end<d.range.start&&(d.range.end=yi(t.allDay,d.range.start,o)),d}var _i=function(){function e(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}return Object.defineProperty(e.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),e.prototype.getOption=function(e){return this.getCurrentData().options[e]},e}(),Ci={id:String,defaultAllDay:Boolean,url:String,format:String,events:yn,eventDataTransform:yn,success:yn,failure:yn};function ki(e,t,n){var i;if(void 0===n&&(n=Ei(t)),"string"==typeof e?i={url:e}:"function"==typeof e||Array.isArray(e)?i={events:e}:"object"==typeof e&&e&&(i=e),i){var r=mn(i,n),o=r.refined,a=r.extra,s=function(e,t){for(var n=t.pluginHooks.eventSourceDefs,i=n.length-1;i>=0;i-=1){var r=n[i].parseMeta(e);if(r)return{sourceDefId:i,meta:r}}return null}(o,t);if(s)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:o.defaultAllDay,eventDataTransform:o.eventDataTransform,success:o.success,failure:o.failure,publicId:o.id||"",sourceId:Ve(),sourceDefId:s.sourceDefId,meta:s.meta,ui:Tn(o,t),extendedProps:a}}return null}function Ei(e){return i(i(i({},En),Ci),e.pluginHooks.eventSourceRefiners)}function Si(e,t){return"function"==typeof e&&(e=e()),null==e?t.createNowMarker():t.createMarker(e)}var Ti=function(){function e(){}return e.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},e.prototype.dispatch=function(e){return this.currentDataManager.dispatch(e)},Object.defineProperty(e.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),e.prototype.batchRendering=function(e){e()},e.prototype.updateSize=function(){this.trigger("_resize",!0)},e.prototype.setOption=function(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})},e.prototype.getOption=function(e){return this.currentDataManager.currentCalendarOptionsInput[e]},e.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},e.prototype.on=function(e,t){var n=this.currentDataManager;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn("Unknown listener name '"+e+"'")},e.prototype.off=function(e,t){this.currentDataManager.emitter.off(e,t)},e.prototype.trigger=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];(t=this.currentDataManager.emitter).trigger.apply(t,r([e],n))},e.prototype.changeView=function(e,t){var n=this;this.batchRendering((function(){if(n.unselect(),t)if(t.start&&t.end)n.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),n.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{var i=n.getCurrentData().dateEnv;n.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(t)})}else n.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})}))},e.prototype.zoomTo=function(e,t){var n;t=t||"day",n=this.getCurrentData().viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),n?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})},e.prototype.getUnitViewSpec=function(e){var t,n,i=this.getCurrentData(),r=i.viewSpecs,o=i.toolbarConfig,a=[].concat(o.header?o.header.viewsWithButtons:[],o.footer?o.footer.viewsWithButtons:[]);for(var s in r)a.push(s);for(t=0;t<a.length;t+=1)if((n=r[a[t]])&&n.singleUnit===e)return n;return null},e.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},e.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},e.prototype.prevYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})},e.prototype.nextYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})},e.prototype.today=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Si(e.calendarOptions.now,e.dateEnv)})},e.prototype.gotoDate=function(e){var t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})},e.prototype.incrementDate=function(e){var t=this.getCurrentData(),n=Nt(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))},e.prototype.getDate=function(){var e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)},e.prototype.formatDate=function(e,t){var n=this.getCurrentData().dateEnv;return n.format(n.createMarker(e),ln(t))},e.prototype.formatRange=function(e,t,n){var i=this.getCurrentData().dateEnv;return i.formatRange(i.createMarker(e),i.createMarker(t),ln(n),n)},e.prototype.formatIso=function(e,t){var n=this.getCurrentData().dateEnv;return n.formatIso(n.createMarker(e),{omitTime:t})},e.prototype.select=function(e,t){var n;n=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};var i=this.getCurrentData(),r=ui(n,i.dateEnv,Nt({days:1}));r&&(this.dispatch({type:"SELECT_DATES",selection:r}),vi(r,null,i))},e.prototype.unselect=function(e){var t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}(e,t))},e.prototype.addEvent=function(e,t){if(e instanceof Mi){var n=e._def,i=e._instance;return this.getCurrentData().eventStore.defs[n.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:bn({def:n,instance:i})}),this.triggerEventAdd(e)),e}var r,o=this.getCurrentData();if(t instanceof ye)r=t.internalEventSource;else if("boolean"==typeof t)t&&(r=Ct(o.eventSources)[0]);else if(null!=t){var a=this.getEventSourceById(t);if(!a)return console.warn('Could not find an event source with ID "'+t+'"'),null;r=a.internalEventSource}var s=Nn(e,r,o,!1);if(s){var l=new Mi(o,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:bn(s)}),this.triggerEventAdd(l),l}return null},e.prototype.triggerEventAdd=function(e){var t=this;this.getCurrentData().emitter.trigger("eventAdd",{event:e,relatedEvents:[],revert:function(){t.dispatch({type:"REMOVE_EVENTS",eventStore:xi(e)})}})},e.prototype.getEventById=function(e){var t=this.getCurrentData(),n=t.eventStore,i=n.defs,r=n.instances;for(var o in e=String(e),i){var a=i[o];if(a.publicId===e){if(a.recurringDef)return new Mi(t,a,null);for(var s in r){var l=r[s];if(l.defId===a.defId)return new Mi(t,a,l)}}}return null},e.prototype.getEvents=function(){var e=this.getCurrentData();return Ri(e.eventStore,e)},e.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},e.prototype.getEventSources=function(){var e=this.getCurrentData(),t=e.eventSources,n=[];for(var i in t)n.push(new ye(e,t[i]));return n},e.prototype.getEventSourceById=function(e){var t=this.getCurrentData(),n=t.eventSources;for(var i in e=String(e),n)if(n[i].publicId===e)return new ye(t,n[i]);return null},e.prototype.addEventSource=function(e){var t=this.getCurrentData();if(e instanceof ye)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;var n=ki(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new ye(t,n)):null},e.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},e.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},e.prototype.scrollToTime=function(e){var t=Nt(e);t&&this.trigger("_scrollRequest",{time:t})},e}(),Mi=function(){function e(e,t,n){this._context=e,this._def=t,this._instance=n||null}return e.prototype.setProp=function(e,t){var n,i;if(e in In)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===e)t=Rn[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Rn)t=Rn[e](t),this.mutate({standardProps:(n={},n[e]=t,n)});else if(e in En){var r=En[e](t);"color"===e?r={backgroundColor:t,borderColor:t}:"editable"===e?r={startEditable:t,durationEditable:t}:((i={})[e]=t,r=i),this.mutate({standardProps:{ui:r}})}else console.warn("Could not set prop '"+e+"'. Use setExtendedProp instead.")},e.prototype.setExtendedProp=function(e,t){var n;this.mutate({extendedProps:(n={},n[e]=t,n)})},e.prototype.setStart=function(e,t){void 0===t&&(t={});var n=this._context.dateEnv,i=n.createMarker(e);if(i&&this._instance){var r=Yn(this._instance.range.start,i,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:r}):this.mutate({startDelta:r})}},e.prototype.setEnd=function(e,t){void 0===t&&(t={});var n,i=this._context.dateEnv;if((null==e||(n=i.createMarker(e)))&&this._instance)if(n){var r=Yn(this._instance.range.end,n,i,t.granularity);this.mutate({endDelta:r})}else this.mutate({standardProps:{hasEnd:!1}})},e.prototype.setDates=function(e,t,n){void 0===n&&(n={});var i,r,o,a=this._context.dateEnv,s={allDay:n.allDay},l=a.createMarker(e);if(l&&(null==t||(i=a.createMarker(t)))&&this._instance){var d=this._instance.range;!0===n.allDay&&(d=Vn(d));var c=Yn(d.start,l,a,n.granularity);if(i){var u=Yn(d.end,i,a,n.granularity);o=u,(r=c).years===o.years&&r.months===o.months&&r.days===o.days&&r.milliseconds===o.milliseconds?this.mutate({datesDelta:c,standardProps:s}):this.mutate({startDelta:c,endDelta:u,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:c,standardProps:s})}},e.prototype.moveStart=function(e){var t=Nt(e);t&&this.mutate({startDelta:t})},e.prototype.moveEnd=function(e){var t=Nt(e);t&&this.mutate({endDelta:t})},e.prototype.moveDates=function(e){var t=Nt(e);t&&this.mutate({datesDelta:t})},e.prototype.setAllDay=function(e,t){void 0===t&&(t={});var n={allDay:e},i=t.maintainDuration;null==i&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=i),this.mutate({standardProps:n})},e.prototype.formatRange=function(e){var t=this._context.dateEnv,n=this._instance,i=ln(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,i,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,i,{forcedTzo:n.forcedStartTzo})},e.prototype.mutate=function(t){var n=this._instance;if(n){var i=this._def,r=this._context,o=r.getCurrentData().eventStore,a=wn(o,n.instanceId);a=Di(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,r);var s=new e(r,i,n);this._def=a.defs[i.defId],this._instance=a.instances[n.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:a}),r.emitter.trigger("eventChange",{oldEvent:s,event:this,relatedEvents:Ri(a,r,n),revert:function(){r.dispatch({type:"RESET_EVENTS",eventStore:o})}})}},e.prototype.remove=function(){var e=this._context,t=xi(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})},Object.defineProperty(e.prototype,"source",{get:function(){var e=this._def.sourceId;return e?new ye(this._context,this._context.getCurrentData().eventSources[e]):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startStr",{get:function(){var e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endStr",{get:function(){var e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),e.prototype.toPlainObject=function(e){void 0===e&&(e={});var t=this._def,n=t.ui,r=this.startStr,o=this.endStr,a={};return t.title&&(a.title=t.title),r&&(a.start=r),o&&(a.end=o),t.publicId&&(a.id=t.publicId),t.groupId&&(a.groupId=t.groupId),t.url&&(a.url=t.url),n.display&&"auto"!==n.display&&(a.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?a.color=n.backgroundColor:(n.backgroundColor&&(a.backgroundColor=n.backgroundColor),n.borderColor&&(a.borderColor=n.borderColor)),n.textColor&&(a.textColor=n.textColor),n.classNames.length&&(a.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?i(a,t.extendedProps):a.extendedProps=t.extendedProps),a},e.prototype.toJSON=function(){return this.toPlainObject()},e}();function xi(e){var t,n,i=e._def,r=e._instance;return{defs:(t={},t[i.defId]=i,t),instances:r?(n={},n[r.instanceId]=r,n):{}}}function Ri(e,t,n){var i=e.defs,r=e.instances,o=[],a=n?n.instanceId:"";for(var s in r){var l=r[s],d=i[l.defId];l.instanceId!==a&&o.push(new Mi(t,d,l))}return o}var Ii,Pi={},Ni=function(){function e(){}return e.prototype.getMarkerYear=function(e){return e.getUTCFullYear()},e.prototype.getMarkerMonth=function(e){return e.getUTCMonth()},e.prototype.getMarkerDay=function(e){return e.getUTCDate()},e.prototype.arrayToMarker=function(e){return ft(e)},e.prototype.markerToArray=function(e){return pt(e)},e}();Ii=Ni,Pi.gregory=Ii;var Hi=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Oi(e){var t=Hi.exec(e);if(t){var n=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number("0."+t[12]):0));if(gt(n)){var i=null;return t[13]&&(i=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:n,isTimeUnspecified:!t[6],timeZoneOffset:i}}}return null}var Ai=function(){function e(e){var t=this.timeZone=e.timeZone,n="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!n||this.namedTimeZoneImpl),this.calendarSystem=function(e){return new Pi[e]}(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.weekTextLong=(null!=e.weekTextLong?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}return e.prototype.createMarker=function(e){var t=this.createMarkerMeta(e);return null===t?null:t.marker},e.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):ft(ut(new Date))},e.prototype.createMarkerMeta=function(e){if("string"==typeof e)return this.parse(e);var t=null;return"number"==typeof e?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=ft(e)),null!==t&&gt(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null},e.prototype.parse=function(e){var t=Oi(e);if(null===t)return null;var n=t.marker,i=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-60*t.timeZoneOffset*1e3):i=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:i}},e.prototype.getYear=function(e){return this.calendarSystem.getMarkerYear(e)},e.prototype.getMonth=function(e){return this.calendarSystem.getMarkerMonth(e)},e.prototype.add=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)},e.prototype.subtract=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)},e.prototype.addYears=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)},e.prototype.addMonths=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)},e.prototype.diffWholeYears=function(e,t){var n=this.calendarSystem;return vt(e)===vt(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null},e.prototype.diffWholeMonths=function(e,t){var n=this.calendarSystem;return vt(e)===vt(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+12*(n.getMarkerYear(t)-n.getMarkerYear(e)):null},e.prototype.greatestWholeUnit=function(e,t){var n=this.diffWholeYears(e,t);return null!==n?{unit:"year",value:n}:null!==(n=this.diffWholeMonths(e,t))?{unit:"month",value:n}:null!==(n=at(e,t))?{unit:"week",value:n}:null!==(n=st(e,t))?{unit:"day",value:n}:$e(n=function(e,t){return(t.valueOf()-e.valueOf())/36e5}(e,t))?{unit:"hour",value:n}:$e(n=function(e,t){return(t.valueOf()-e.valueOf())/6e4}(e,t))?{unit:"minute",value:n}:$e(n=function(e,t){return(t.valueOf()-e.valueOf())/1e3}(e,t))?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}},e.prototype.countDurationsBetween=function(e,t,n){var i;return n.years&&null!==(i=this.diffWholeYears(e,t))?i/(Vt(n)/365):n.months&&null!==(i=this.diffWholeMonths(e,t))?i/function(e){return Vt(e)/30}(n):n.days&&null!==(i=st(e,t))?i/Vt(n):(t.valueOf()-e.valueOf())/Ut(n)},e.prototype.startOf=function(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?lt(e):"hour"===t?function(e){return ft([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}(e):"minute"===t?function(e){return ft([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}(e):"second"===t?function(e){return ft([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}(e):null},e.prototype.startOfYear=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])},e.prototype.startOfMonth=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])},e.prototype.startOfWeek=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])},e.prototype.computeWeekNumber=function(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):function(e,t,n){var i=e.getUTCFullYear(),r=dt(e,i,t,n);if(r<1)return dt(e,i-1,t,n);var o=dt(e,i+1,t,n);return o>=1?Math.min(r,o):r}(e,this.weekDow,this.weekDoy)},e.prototype.format=function(e,t,n){return void 0===n&&(n={}),t.format({marker:e,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(e)},this)},e.prototype.formatRange=function(e,t,n,i){return void 0===i&&(i={}),i.isEndExclusive&&(t=nt(t,-1)),n.formatRange({marker:e,timeZoneOffset:null!=i.forcedStartTzo?i.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=i.forcedEndTzo?i.forcedEndTzo:this.offsetForMarker(t)},this,i.defaultSeparator)},e.prototype.formatIso=function(e,t){void 0===t&&(t={});var n=null;return t.omitTimeZoneOffset||(n=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),Ft(e,n,t.omitTime)},e.prototype.timestampToMarker=function(e){return"local"===this.timeZone?ft(ut(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?ft(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)},e.prototype.offsetForMarker=function(e){return"local"===this.timeZone?-ht(pt(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(pt(e)):null},e.prototype.toDate=function(e,t){return"local"===this.timeZone?ht(pt(e)):"UTC"===this.timeZone?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(pt(e))*60):new Date(e.valueOf()-(t||0))},e}(),Vi=[],Ui={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Li=i(i({},Ui),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(e,t){return"day"===t?"Today":"This "+e}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(e){return"Show "+e+" more event"+(1===e?"":"s")}});function Yi(e){for(var t=e.length>0?e[0].code:"en",n=Vi.concat(e),i={en:Li},r=0,o=n;r<o.length;r++){var a=o[r];i[a.code]=a}return{map:i,defaultCode:t}}function Fi(e,t){return"object"!=typeof e||Array.isArray(e)?function(e,t){var n=[].concat(e||[]),i=function(e,t){for(var n=0;n<e.length;n+=1)for(var i=e[n].toLocaleLowerCase().split("-"),r=i.length;r>0;r-=1){var o=i.slice(0,r).join("-");if(t[o])return t[o]}return null}(n,t)||Li;return Wi(e,n,i)}(e,t):Wi(e.code,[e.code],e)}function Wi(e,t,n){var i=Dt([Ui,n],["buttonText"]);delete i.code;var r=i.week;return delete i.week,{codeArg:e,codes:t,week:r,simpleNumberFormat:new Intl.NumberFormat(e),options:i}}function Bi(e){var t=Fi(e.locale||"en",Yi([]).map);return new Ai(i(i({timeZone:cn.timeZone,calendarSystem:"gregory"},e),{locale:t}))}var zi,ji={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function qi(e,t){return Dn(function(e){return(!0===e?[{}]:Array.isArray(e)?e.filter((function(e){return e.daysOfWeek})):"object"==typeof e&&e?[e]:[]).map((function(e){return i(i({},ji),e)}))}(e),null,t)}function Gi(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function Zi(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function Xi(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function Ki(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function $i(e,t){return{left:e.left-t.left,top:e.top-t.top}}function Qi(){return null==zi&&(zi=function(){if("undefined"==typeof document)return!0;var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);var t=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),t}()),zi}var Ji={defs:{},instances:{}},er=function(){function e(){this.getKeysForEventDefs=qt(this._getKeysForEventDefs),this.splitDateSelection=qt(this._splitDateSpan),this.splitEventStore=qt(this._splitEventStore),this.splitIndividualUi=qt(this._splitIndividualUi),this.splitEventDrag=qt(this._splitInteraction),this.splitEventResize=qt(this._splitInteraction),this.eventUiBuilders={}}return e.prototype.splitProps=function(e){var t=this,n=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),o=this.splitIndividualUi(e.eventUiBases,i),a=this.splitEventStore(e.eventStore,i),s=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),d={};for(var c in this.eventUiBuilders=wt(n,(function(e,n){return t.eventUiBuilders[n]||qt(tr)})),n){var u=n[c],h=a[c]||Ji,p=this.eventUiBuilders[c];d[c]={businessHours:u.businessHours||e.businessHours,dateSelection:r[c]||null,eventStore:h,eventUiBases:p(e.eventUiBases[""],u.ui,o[c]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:s[c]||null,eventResize:l[c]||null}}return d},e.prototype._splitDateSpan=function(e){var t={};if(e)for(var n=0,i=this.getKeysForDateSpan(e);n<i.length;n++)t[i[n]]=e;return t},e.prototype._getKeysForEventDefs=function(e){var t=this;return wt(e.defs,(function(e){return t.getKeysForEventDef(e)}))},e.prototype._splitEventStore=function(e,t){var n=e.defs,i=e.instances,r={};for(var o in n)for(var a=0,s=t[o];a<s.length;a++)r[h=s[a]]||(r[h]={defs:{},instances:{}}),r[h].defs[o]=n[o];for(var l in i)for(var d=i[l],c=0,u=t[d.defId];c<u.length;c++){var h;r[h=u[c]]&&(r[h].instances[l]=d)}return r},e.prototype._splitIndividualUi=function(e,t){var n={};for(var i in e)if(i)for(var r=0,o=t[i];r<o.length;r++){var a=o[r];n[a]||(n[a]={}),n[a][i]=e[i]}return n},e.prototype._splitInteraction=function(e){var t={};if(e){var n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),r=this._splitEventStore(e.mutatedEvents,i),o=function(i){t[i]||(t[i]={affectedEvents:n[i]||Ji,mutatedEvents:r[i]||Ji,isEvent:e.isEvent})};for(var a in n)o(a);for(var a in r)o(a)}return t},e}();function tr(e,t,n){var r=[];e&&r.push(e),t&&r.push(t);var o={"":Mn(r)};return n&&i(o,n),o}function nr(e,t,n,i){return{dow:e.getUTCDay(),isDisabled:Boolean(i&&!Gn(i.activeRange,e)),isOther:Boolean(i&&!Gn(i.currentRange,e)),isToday:Boolean(t&&Gn(t,e)),isPast:Boolean(n?e<n:!!t&&e<t.start),isFuture:Boolean(n?e>n:!!t&&e>=t.end)}}function ir(e,t){var n=["fc-day","fc-day-"+Je[e.dow]];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}var rr=ln({year:"numeric",month:"long",day:"numeric"}),or=ln({week:"long"});function ar(e,t,n,r){void 0===n&&(n="day"),void 0===r&&(r=!0);var o=e.dateEnv,a=e.options,s=e.calendarApi,l=o.format(t,"week"===n?or:rr);if(a.navLinks){var d=o.toDate(t),c=function(e){var i="day"===n?a.navLinkDayClick:"week"===n?a.navLinkWeekClick:null;"function"==typeof i?i.call(s,o.toDate(t),e):("string"==typeof i&&(n=i),s.zoomTo(t,n))};return i({title:Xe(a.navLinkHint,[l,d],l),"data-navlink":""},r?He(c):{onClick:c})}return{"aria-label":l}}var sr,lr=null;function dr(){return null===lr&&(lr=function(){var e=document.createElement("div");ke(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);var t=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return De(e),t}()),lr}function cr(){return sr||(sr=function(){var e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);var t=ur(e);return document.body.removeChild(e),t}()),sr}function ur(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function hr(e,t){void 0===t&&(t=!1);var n=window.getComputedStyle(e),i=parseInt(n.borderLeftWidth,10)||0,r=parseInt(n.borderRightWidth,10)||0,o=parseInt(n.borderTopWidth,10)||0,a=parseInt(n.borderBottomWidth,10)||0,s=ur(e),l=s.y-i-r,d={borderLeft:i,borderRight:r,borderTop:o,borderBottom:a,scrollbarBottom:s.x-o-a,scrollbarLeft:0,scrollbarRight:0};return dr()&&"rtl"===n.direction?d.scrollbarLeft=l:d.scrollbarRight=l,t&&(d.paddingLeft=parseInt(n.paddingLeft,10)||0,d.paddingRight=parseInt(n.paddingRight,10)||0,d.paddingTop=parseInt(n.paddingTop,10)||0,d.paddingBottom=parseInt(n.paddingBottom,10)||0),d}function pr(e,t,n){void 0===t&&(t=!1);var i=n?e.getBoundingClientRect():fr(e),r=hr(e,t),o={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return t&&(o.left+=r.paddingLeft,o.right-=r.paddingRight,o.top+=r.paddingTop,o.bottom-=r.paddingBottom),o}function fr(e){var t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,right:t.right+window.pageXOffset,bottom:t.bottom+window.pageYOffset}}function gr(e){for(var t=[];e instanceof HTMLElement;){var n=window.getComputedStyle(e);if("fixed"===n.position)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}function vr(e,t,n){var i=!1,r=function(){i||(i=!0,t.apply(this,arguments))},o=function(){i||(i=!0,n&&n.apply(this,arguments))},a=e(r,o);a&&"function"==typeof a.then&&a.then(r,o)}var mr=function(){function e(){this.handlers={},this.thisContext=null}return e.prototype.setThisContext=function(e){this.thisContext=e},e.prototype.setOptions=function(e){this.options=e},e.prototype.on=function(e,t){!function(e,t,n){(e[t]||(e[t]=[])).push(n)}(this.handlers,e,t)},e.prototype.off=function(e,t){!function(e,t,n){n?e[t]&&(e[t]=e[t].filter((function(e){return e!==n}))):delete e[t]}(this.handlers,e,t)},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=this.handlers[e]||[],r=this.options&&this.options[e],o=[].concat(r||[],i),a=0,s=o;a<s.length;a++){var l=s[a];l.apply(this.thisContext,t)}},e.prototype.hasHandlers=function(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])},e}(),yr=function(){function e(e,t,n,i){this.els=t;var r=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(r.left),i&&this.buildElVerticals(r.top)}return e.prototype.buildElHorizontals=function(e){for(var t=[],n=[],i=0,r=this.els;i<r.length;i++){var o=r[i].getBoundingClientRect();t.push(o.left-e),n.push(o.right-e)}this.lefts=t,this.rights=n},e.prototype.buildElVerticals=function(e){for(var t=[],n=[],i=0,r=this.els;i<r.length;i++){var o=r[i].getBoundingClientRect();t.push(o.top-e),n.push(o.bottom-e)}this.tops=t,this.bottoms=n},e.prototype.leftToIndex=function(e){var t,n=this.lefts,i=this.rights,r=n.length;for(t=0;t<r;t+=1)if(e>=n[t]&&e<i[t])return t},e.prototype.topToIndex=function(e){var t,n=this.tops,i=this.bottoms,r=n.length;for(t=0;t<r;t+=1)if(e>=n[t]&&e<i[t])return t},e.prototype.getWidth=function(e){return this.rights[e]-this.lefts[e]},e.prototype.getHeight=function(e){return this.bottoms[e]-this.tops[e]},e}(),Dr=function(){function e(){}return e.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},e.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},e.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},e.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},e.prototype.canScrollUp=function(){return this.getScrollTop()>0},e.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},e.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},e.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},e}(),br=function(e){function t(t){var n=e.call(this)||this;return n.el=t,n}return n(t,e),t.prototype.getScrollTop=function(){return this.el.scrollTop},t.prototype.getScrollLeft=function(){return this.el.scrollLeft},t.prototype.setScrollTop=function(e){this.el.scrollTop=e},t.prototype.setScrollLeft=function(e){this.el.scrollLeft=e},t.prototype.getScrollWidth=function(){return this.el.scrollWidth},t.prototype.getScrollHeight=function(){return this.el.scrollHeight},t.prototype.getClientHeight=function(){return this.el.clientHeight},t.prototype.getClientWidth=function(){return this.el.clientWidth},t}(Dr),wr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getScrollTop=function(){return window.pageYOffset},t.prototype.getScrollLeft=function(){return window.pageXOffset},t.prototype.setScrollTop=function(e){window.scroll(window.pageXOffset,e)},t.prototype.setScrollLeft=function(e){window.scroll(e,window.pageYOffset)},t.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},t.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},t.prototype.getClientHeight=function(){return document.documentElement.clientHeight},t.prototype.getClientWidth=function(){return document.documentElement.clientWidth},t}(Dr),_r=function(){function e(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}return e.prototype.setIconOverride=function(e){var t,n;if("object"==typeof e&&e){for(n in t=i({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else!1===e&&(this.iconClasses={})},e.prototype.applyIconOverridePrefix=function(e){var t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e},e.prototype.getClass=function(e){return this.classes[e]||""},e.prototype.getIconClass=function(e,t){var n;return(n=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e])?this.baseIconClass+" "+n:""},e.prototype.getCustomButtonIconClass=function(e){var t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(t):""},e}();if(_r.prototype.classes={},_r.prototype.iconClasses={},_r.prototype.baseIconClass="",_r.prototype.iconOverridePrefix="","undefined"==typeof FullCalendarVDom)throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var Cr=FullCalendarVDom.Component,kr=FullCalendarVDom.createElement,Er=FullCalendarVDom.render,Sr=FullCalendarVDom.createRef,Tr=FullCalendarVDom.Fragment,Mr=FullCalendarVDom.createContext,xr=FullCalendarVDom.createPortal,Rr=FullCalendarVDom.flushSync,Ir=FullCalendarVDom.unmountComponentAtNode,Pr=function(){function e(e,t,n,r){var o=this;this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=r,this.handleScrollRequest=function(e){o.queuedRequest=i({},o.queuedRequest||{},e),o.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return e.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},e.prototype.update=function(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},e.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},e.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},e}(),Nr=Mr({});function Hr(e,t,n,i,r,o,a,s,l,d,c,u,h){return{dateEnv:r,options:n,pluginHooks:a,emitter:d,dispatch:s,getCurrentData:l,calendarApi:c,viewSpec:e,viewApi:t,dateProfileGenerator:i,theme:o,isRtl:"rtl"===n.direction,addResizeHandler:function(e){d.on("_resize",e)},removeResizeHandler:function(e){d.off("_resize",e)},createScrollResponder:function(e){return new Pr(e,d,Nt(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:u,unregisterInteractiveComponent:h}}var Or=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.debug&&console.log(Et(e,this.props),Et(t,this.state)),!St(this.props,e,this.propEquality)||!St(this.state,t,this.stateEquality)},t.addPropsEquality=Vr,t.addStateEquality=Ur,t.contextType=Nr,t}(Cr);Or.prototype.propEquality={},Or.prototype.stateEquality={};var Ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.contextType=Nr,t}(Or);function Vr(e){var t=Object.create(this.prototype.propEquality);i(t,e),this.prototype.propEquality=t}function Ur(e){var t=Object.create(this.prototype.stateEquality);i(t,e),this.prototype.stateEquality=t}function Lr(e,t){"function"==typeof e?e(t):e&&(e.current=t)}var Yr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uid=Ve(),t}return n(t,e),t.prototype.prepareHits=function(){},t.prototype.queryHit=function(e,t,n,i){return null},t.prototype.isValidSegDownEl=function(e){return!this.props.eventDrag&&!this.props.eventResize&&!be(e,".fc-event-mirror")},t.prototype.isValidDateDownEl=function(e){return!(be(e,".fc-event:not(.fc-bg-event)")||be(e,".fc-more-link")||be(e,"a[data-navlink]")||be(e,".fc-popover"))},t}(Ar);function Fr(e){return{id:Ve(),deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,contentTypeHandlers:e.contentTypeHandlers||{},listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}var Wr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(_r);function Br(e,t,n,r){if(t[e])return t[e];var o=function(e,t,n,r){var o=n[e],a=r[e],s=function(e){return o&&null!==o[e]?o[e]:a&&null!==a[e]?a[e]:null},l=s("component"),d=s("superType"),c=null;if(d){if(d===e)throw new Error("Can't have a custom view type that references itself");c=Br(d,t,n,r)}return!l&&c&&(l=c.component),l?{type:e,component:l,defaults:i(i({},c?c.defaults:{}),o?o.rawOptions:{}),overrides:i(i({},c?c.overrides:{}),a?a.rawOptions:{})}:null}(e,t,n,r);return o&&(t[e]=o),o}Wr.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},Wr.prototype.baseIconClass="fc-icon",Wr.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Wr.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},Wr.prototype.iconOverrideOption="buttonIcons",Wr.prototype.iconOverrideCustomButtonOption="icon",Wr.prototype.iconOverridePrefix="fc-icon-";var zr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=Sr(),t.handleRootEl=function(e){Lr(t.rootElRef,e),t.props.elRef&&Lr(t.props.elRef,e)},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.hookProps;return kr(Zr,{hookProps:n,didMount:t.didMount,willUnmount:t.willUnmount,elRef:this.handleRootEl},(function(i){return kr(qr,{hookProps:n,content:t.content,defaultContent:t.defaultContent,backupElRef:e.rootElRef},(function(e,r){return t.children(i,Kr(t.classNames,n),e,r)}))}))},t}(Ar),jr=Mr(0);function qr(e){return kr(jr.Consumer,null,(function(t){return kr(Gr,i({renderId:t},e))}))}var Gr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.innerElRef=Sr(),t}return n(t,e),t.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},t.prototype.componentDidMount=function(){this.updateCustomContent()},t.prototype.componentDidUpdate=function(){this.updateCustomContent()},t.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},t.prototype.renderInnerContent=function(){var e=this.customContentInfo,t=this.getInnerContent(),n=this.getContentMeta(t);return e&&e.contentKey===n.contentKey?e&&(e.contentVal=t[n.contentKey]):(e&&(e.destroy&&e.destroy(),e=this.customContentInfo=null),n.contentKey&&(e=this.customContentInfo=i({contentKey:n.contentKey,contentVal:t[n.contentKey]},n.buildLifecycleFuncs()))),e?[]:t},t.prototype.getInnerContent=function(){var e=this.props,t=$r(e.content,e.hookProps);return void 0===t&&(t=$r(e.defaultContent,e.hookProps)),null==t?null:t},t.prototype.getContentMeta=function(e){var t=this.context.pluginHooks.contentTypeHandlers,n="",i=null;if(e)for(var r in t)if(void 0!==e[r]){n=r,i=t[r];break}return{contentKey:n,buildLifecycleFuncs:i}},t.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},t}(Ar),Zr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRootEl=function(e){t.rootEl=e,t.props.elRef&&Lr(t.props.elRef,e)},t}return n(t,e),t.prototype.render=function(){return this.props.children(this.handleRootEl)},t.prototype.componentDidMount=function(){var e=this.props.didMount;e&&e(i(i({},this.props.hookProps),{el:this.rootEl}))},t.prototype.componentWillUnmount=function(){var e=this.props.willUnmount;e&&e(i(i({},this.props.hookProps),{el:this.rootEl}))},t}(Ar);function Xr(){var e,t,n=[];return function(i,r){return t&&kt(t,r)&&i===e||(e=i,t=r,n=Kr(i,r)),n}}function Kr(e,t){return"function"==typeof e&&(e=e(t)),kn(e)}function $r(e,t){return"function"==typeof e?e(t,kr):e}var Qr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.normalizeClassNames=Xr(),t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,i={view:t.viewApi},r=this.normalizeClassNames(n.viewClassNames,i);return kr(Zr,{hookProps:i,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount,elRef:e.elRef},(function(t){return e.children(t,["fc-"+e.viewSpec.type+"-view","fc-view"].concat(r))}))},t}(Ar);function Jr(e){return wt(e,eo)}function eo(e){var t,n="function"==typeof e?{component:e}:e,r=n.component;return n.content&&(t=n,r=function(e){return kr(Nr.Consumer,null,(function(n){return kr(Qr,{viewSpec:n.viewSpec},(function(r,o){var a=i(i({},e),{nextDayThreshold:n.options.nextDayThreshold});return kr(zr,{hookProps:a,classNames:t.classNames,content:t.content,didMount:t.didMount,willUnmount:t.willUnmount,elRef:r},(function(e,t,n,i){return kr("div",{className:o.concat(t).join(" "),ref:e},i)}))}))}))}),{superType:n.type,component:r,rawOptions:n}}function to(e,t,n,r){var o=Jr(e),a=Jr(t.views);return wt(function(e,t){var n,i={};for(n in e)Br(n,i,e,t);for(n in t)Br(n,i,e,t);return i}(o,a),(function(e){return function(e,t,n,r,o){var a=e.overrides.duration||e.defaults.duration||r.duration||n.duration,s=null,l="",d="",c={};if(a&&(s=function(e){var t=JSON.stringify(e),n=no[t];return void 0===n&&(n=Nt(e),no[t]=n),n}(a))){var u=Yt(s);l=u.unit,1===u.value&&(d=l,c=t[l]?t[l].rawOptions:{})}var h=function(t){var n=t.buttonText||{},i=e.defaults.buttonTextKey;return null!=i&&null!=n[i]?n[i]:null!=n[e.type]?n[e.type]:null!=n[d]?n[d]:null},p=function(t){var n=t.buttonHints||{},i=e.defaults.buttonTextKey;return null!=i&&null!=n[i]?n[i]:null!=n[e.type]?n[e.type]:null!=n[d]?n[d]:null};return{type:e.type,component:e.component,duration:s,durationUnit:l,singleUnit:d,optionDefaults:e.defaults,optionOverrides:i(i({},c),e.overrides),buttonTextOverride:h(r)||h(n)||e.overrides.buttonText,buttonTextDefault:h(o)||e.defaults.buttonText||h(cn)||e.type,buttonTitleOverride:p(r)||p(n)||e.overrides.buttonHint,buttonTitleDefault:p(o)||e.defaults.buttonHint||p(cn)}}(e,a,t,n,r)}))}var no={},io=function(){function e(e){this.props=e,this.nowDate=Si(e.nowInput,e.dateEnv),this.initHiddenDays()}return e.prototype.buildPrev=function(e,t,n){var i=this.props.dateEnv,r=i.subtract(i.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(r,-1,n)},e.prototype.buildNext=function(e,t,n){var i=this.props.dateEnv,r=i.add(i.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(r,1,n)},e.prototype.build=function(e,t,n){void 0===n&&(n=!0);var i,r,o,a,s,l,d,c,u=this.props;return i=this.buildValidRange(),i=this.trimHiddenDays(i),n&&(d=e,e=null!=(c=i).start&&d<c.start?c.start:null!=c.end&&d>=c.end?new Date(c.end.valueOf()-1):d),r=this.buildCurrentRangeInfo(e,t),o=/^(year|month|week|day)$/.test(r.unit),a=this.buildRenderRange(this.trimHiddenDays(r.range),r.unit,o),s=a=this.trimHiddenDays(a),u.showNonCurrentDates||(s=Bn(s,r.range)),s=Bn(s=this.adjustActiveRange(s),i),l=jn(r.range,i),{validRange:i,currentRange:r.range,currentRangeUnit:r.unit,isRangeAllDay:o,activeRange:s,renderRange:a,slotMinTime:u.slotMinTime,slotMaxTime:u.slotMaxTime,isValid:l,dateIncrement:this.buildDateIncrement(r.duration)}},e.prototype.buildValidRange=function(){var e=this.props.validRangeInput,t="function"==typeof e?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}},e.prototype.buildCurrentRangeInfo=function(e,t){var n,i=this.props,r=null,o=null,a=null;return i.duration?(r=i.duration,o=i.durationUnit,a=this.buildRangeFromDuration(e,t,r,o)):(n=this.props.dayCount)?(o="day",a=this.buildRangeFromDayCount(e,t,n)):(a=this.buildCustomVisibleRange(e))?o=i.dateEnv.greatestWholeUnit(a.start,a.end).unit:(o=Yt(r=this.getFallbackDuration()).unit,a=this.buildRangeFromDuration(e,t,r,o)),{duration:r,unit:o,range:a}},e.prototype.getFallbackDuration=function(){return Nt({day:1})},e.prototype.adjustActiveRange=function(e){var t=this.props,n=t.dateEnv,i=t.usesMinMaxTime,r=t.slotMinTime,o=t.slotMaxTime,a=e.start,s=e.end;return i&&(Vt(r)<0&&(a=lt(a),a=n.add(a,r)),Vt(o)>1&&(s=tt(s=lt(s),-1),s=n.add(s,o))),{start:a,end:s}},e.prototype.buildRangeFromDuration=function(e,t,n,i){var r,o,a,s=this.props,l=s.dateEnv,d=s.dateAlignment;if(!d){var c=this.props.dateIncrement;d=c&&Ut(c)<Ut(n)?Yt(c).unit:i}function u(){r=l.startOf(e,d),o=l.add(r,n),a={start:r,end:o}}return Vt(n)<=1&&this.isHiddenDay(r)&&(r=lt(r=this.skipHiddenDays(r,t))),u(),this.trimHiddenDays(a)||(e=this.skipHiddenDays(e,t),u()),a},e.prototype.buildRangeFromDayCount=function(e,t,n){var i,r=this.props,o=r.dateEnv,a=r.dateAlignment,s=0,l=e;a&&(l=o.startOf(l,a)),l=lt(l),i=l=this.skipHiddenDays(l,t);do{i=tt(i,1),this.isHiddenDay(i)||(s+=1)}while(s<n);return{start:l,end:i}},e.prototype.buildCustomVisibleRange=function(e){var t=this.props,n=t.visibleRangeInput,i="function"==typeof n?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,r=this.refineRange(i);return!r||null!=r.start&&null!=r.end?r:null},e.prototype.buildRenderRange=function(e,t,n){return e},e.prototype.buildDateIncrement=function(e){var t;return this.props.dateIncrement||((t=this.props.dateAlignment)?Nt(1,t):e||Nt({days:1}))},e.prototype.refineRange=function(e){if(e){var t=(n=e,i=this.props.dateEnv,r=null,o=null,n.start&&(r=i.createMarker(n.start)),n.end&&(o=i.createMarker(n.end)),r||o?r&&o&&o<r?null:{start:r,end:o}:null);return t&&(t=Un(t)),t}var n,i,r,o;return null},e.prototype.initHiddenDays=function(){var e,t=this.props.hiddenDays||[],n=[],i=0;for(!1===this.props.weekends&&t.push(0,6),e=0;e<7;e+=1)(n[e]=-1!==t.indexOf(e))||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n},e.prototype.trimHiddenDays=function(e){var t=e.start,n=e.end;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==t||null==n||t<n?{start:t,end:n}:null},e.prototype.isHiddenDay=function(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]},e.prototype.skipHiddenDays=function(e,t,n){for(void 0===t&&(t=1),void 0===n&&(n=!1);this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=tt(e,t);return e},e}();function ro(e){for(var t in e)if(e[t].isFetching)return!0;return!1}function oo(e,t,n,r){for(var o={},a=0,s=t;a<s.length;a++){var l=s[a];o[l.sourceId]=l}return n&&(o=ao(o,n,r)),i(i({},e),o)}function ao(e,t,n){return so(e,bt(e,(function(e){return function(e,t,n){return uo(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId}(e,t,n)})),t,!1,n)}function so(e,t,n,i,r){var o={};for(var a in e){var s=e[a];t[a]?o[a]=lo(s,n,i,r):o[a]=s}return o}function lo(e,t,n,r){var o=r.options,a=r.calendarApi,s=r.pluginHooks.eventSourceDefs[e.sourceDefId],l=Ve();return s.fetch({eventSource:e,range:t,isRefetch:n,context:r},(function(n){var i=n.rawEvents;o.eventSourceSuccess&&(i=o.eventSourceSuccess.call(a,i,n.xhr)||i),e.success&&(i=e.success.call(a,i,n.xhr)||i),r.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:l,fetchRange:t,rawEvents:i})}),(function(n){console.warn(n.message,n),o.eventSourceFailure&&o.eventSourceFailure.call(a,n),e.failure&&e.failure(n),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:l,fetchRange:t,error:n})})),i(i({},e),{isFetching:!0,latestFetchId:l})}function co(e,t){return bt(e,(function(e){return uo(e,t)}))}function uo(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function ho(e,t){var n;if(t){n=[];for(var i=0,r=e;i<r.length;i++){var o=r[i],a=t(o);a?n.push(a):null==a&&n.push(o)}}else n=e;return n}function po(e,t){return Cn(e,(function(e){return e.sourceId!==t}))}function fo(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function go(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function vo(e,t){var n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function mo(e,t){var n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function yo(e,t,n,i,r){return{header:e.headerToolbar?Do(e.headerToolbar,e,t,n,i,r):null,footer:e.footerToolbar?Do(e.footerToolbar,e,t,n,i,r):null}}function Do(e,t,n,i,r,o){var a={},s=[],l=!1;for(var d in e){var c=bo(e[d],t,n,i,r,o);a[d]=c.widgets,s.push.apply(s,c.viewsWithButtons),l=l||c.hasTitle}return{sectionWidgets:a,viewsWithButtons:s,hasTitle:l}}function bo(e,t,n,i,r,o){var a="rtl"===t.direction,s=t.customButtons||{},l=n.buttonText||{},d=t.buttonText||{},c=n.buttonHints||{},u=t.buttonHints||{},h=e?e.split(" "):[],p=[],f=!1;return{widgets:h.map((function(e){return e.split(",").map((function(e){if("title"===e)return f=!0,{buttonName:e};var n,h,g,v,m,y;if(n=s[e])g=function(e){n.click&&n.click.call(e.target,e,e.target)},(v=i.getCustomButtonIconClass(n))||(v=i.getIconClass(e,a))||(m=n.text),y=n.hint||n.text;else if(h=r[e]){p.push(e),g=function(){o.changeView(e)},(m=h.buttonTextOverride)||(v=i.getIconClass(e,a))||(m=h.buttonTextDefault);var D=h.buttonTextOverride||h.buttonTextDefault;y=Xe(h.buttonTitleOverride||h.buttonTitleDefault||t.viewHint,[D,e],D)}else if(o[e])if(g=function(){o[e]()},(m=l[e])||(v=i.getIconClass(e,a))||(m=d[e]),"prevYear"===e||"nextYear"===e){var b="prevYear"===e?"prev":"next";y=Xe(c[b]||u[b],[d.year||"year","year"],d[e])}else y=function(t){return Xe(c[e]||u[e],[d[t]||t,t],d[e])};return{buttonName:e,buttonClick:g,buttonIcon:v,buttonText:m,buttonHint:y}}))})),viewsWithButtons:p,hasTitle:f}}function wo(e,t,n,i,r){var o=null;"GET"===(e=e.toUpperCase())?t=function(e,t){return e+(-1===e.indexOf("?")?"?":"&")+_o(t)}(t,n):o=_o(n);var a=new XMLHttpRequest;a.open(e,t,!0),"GET"!==e&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onload=function(){if(a.status>=200&&a.status<400){var e=!1,t=void 0;try{t=JSON.parse(a.responseText),e=!0}catch(e){}e?i(t,a):r("Failure parsing JSON",a)}else r("Request failed",a)},a.onerror=function(){r("Request failed",a)},a.send(o)}function _o(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function Co(e,t){for(var n=Ct(t.getCurrentData().eventSources),i=[],r=0,o=e;r<o.length;r++){for(var a=o[r],s=!1,l=0;l<n.length;l+=1)if(n[l]._raw===a){n.splice(l,1),s=!0;break}s||i.push(a)}for(var d=0,c=n;d<c.length;d++){var u=c[d];t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:u.sourceId})}for(var h=0,p=i;h<p.length;h++){var f=p[h];t.calendarApi.addEventSource(f)}}var ko=[Fr({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(e){return Array.isArray(e.events)?e.events:null},fetch:function(e,t){t({rawEvents:e.eventSource.meta})}}]}),Fr({eventSourceDefs:[{parseMeta:function(e){return"function"==typeof e.events?e.events:null},fetch:function(e,t,n){var i=e.context.dateEnv;vr(e.eventSource.meta.bind(null,pi(e.range,i)),(function(e){t({rawEvents:e})}),n)}}]}),Fr({eventSourceRefiners:{method:String,extraParams:yn,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:function(e){return!e.url||"json"!==e.format&&e.format?null:{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}},fetch:function(e,t,n){var r=e.eventSource.meta,o=function(e,t,n){var r,o,a,s,l=n.dateEnv,d=n.options,c={};return null==(r=e.startParam)&&(r=d.startParam),null==(o=e.endParam)&&(o=d.endParam),null==(a=e.timeZoneParam)&&(a=d.timeZoneParam),s="function"==typeof e.extraParams?e.extraParams():e.extraParams||{},i(c,s),c[r]=l.formatIso(t.start),c[o]=l.formatIso(t.end),"local"!==l.timeZone&&(c[a]=l.timeZone),c}(r,e.range,e.context);wo(r.method,r.url,o,(function(e,n){t({rawEvents:e,xhr:n})}),(function(e,t){n({message:e,xhr:t})}))}}]}),Fr({recurringTypes:[{parse:function(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){var n={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null},i=void 0;return e.duration&&(i=e.duration),!i&&e.startTime&&e.endTime&&(r=e.endTime,o=e.startTime,i={years:r.years-o.years,months:r.months-o.months,days:r.days-o.days,milliseconds:r.milliseconds-o.milliseconds}),{allDayGuess:Boolean(!e.startTime&&!e.endTime),duration:i,typeData:n}}var r,o;return null},expand:function(e,t,n){var i=Bn(t,{start:e.startRecur,end:e.endRecur});return i?function(e,t,n,i){for(var r=e?_t(e):null,o=lt(n.start),a=n.end,s=[];o<a;){var l=void 0;r&&!r[o.getUTCDay()]||(l=t?i.add(o,t):o,s.push(l)),o=tt(o,1)}return s}(e.daysOfWeek,e.startTime,i,n):[]}}],eventRefiners:{daysOfWeek:yn,startTime:Nt,endTime:Nt,duration:Nt,startRecur:yn,endRecur:yn}}),Fr({optionChangeHandlers:{events:function(e,t){Co([e],t)},eventSources:Co}}),Fr({isLoadingFuncs:[function(e){return ro(e.eventSources)}],contentTypeHandlers:{html:function(){var e=null,t="";return{render:function(n,i){n===e&&i===t||(n.innerHTML=i),e=n,t=i},destroy:function(){e.innerHTML="",e=null,t=""}}},domNodes:function(){var e=null,t=[];function n(){t.forEach(De),t=[],e=null}return{render:function(i,r){var o=Array.prototype.slice.call(r);if(i!==e||!jt(t,o)){for(var a=0,s=o;a<s.length;a++){var l=s[a];i.appendChild(l)}n()}e=i,t=o},destroy:n}}},propSetHandlers:{dateProfile:function(e,t){t.emitter.trigger("datesSet",i(i({},pi(e.activeRange,t.dateEnv)),{view:t.viewApi}))},eventStore:function(e,t){var n=t.emitter;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Ri(e,t))}}})],Eo=function(){function e(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return e.prototype.request=function(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))},e.prototype.pause=function(e){void 0===e&&(e="");var t=this.pauseDepths;t[e]=(t[e]||0)+1,this.clearTimeout()},e.prototype.resume=function(e,t){void 0===e&&(e="");var n=this.pauseDepths;e in n&&(t?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())},e.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},e.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},e.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},e.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},e.prototype.drained=function(){this.drainedOption&&this.drainedOption()},e}(),So=function(){function e(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Eo(this.drain.bind(this))}return e.prototype.request=function(e,t){this.queue.push(e),this.delayedRunner.request(t)},e.prototype.pause=function(e){this.delayedRunner.pause(e)},e.prototype.resume=function(e,t){this.delayedRunner.resume(e,t)},e.prototype.drain=function(){for(var e=this.queue;e.length;){for(var t=[],n=void 0;n=e.shift();)this.runTask(n),t.push(n);this.drained(t)}},e.prototype.runTask=function(e){this.runTaskOption&&this.runTaskOption(e)},e.prototype.drained=function(e){this.drainedOption&&this.drainedOption(e)},e}();function To(e,t,n){var i;return i=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,n.formatRange(i.start,i.end,ln(t.titleFormat||function(e){var t=e.currentRangeUnit;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};var n=st(e.currentRange.start,e.currentRange.end);return null!==n&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}var Mo=function(){function e(e){var t=this;this.computeOptionsData=qt(this._computeOptionsData),this.computeCurrentViewData=qt(this._computeCurrentViewData),this.organizeRawLocales=qt(Yi),this.buildLocale=qt(Fi),this.buildPluginHooks=function(){var e,t=[],n=[];return function(r,o){return e&&jt(r,t)&&jt(o,n)||(e=function(e,t){var n={},r={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function o(e){for(var t=0,a=e;t<a.length;t++){var s=a[t];n[s.id]||(n[s.id]=!0,o(s.deps),d=s,r={reducers:(l=r).reducers.concat(d.reducers),isLoadingFuncs:l.isLoadingFuncs.concat(d.isLoadingFuncs),contextInit:l.contextInit.concat(d.contextInit),eventRefiners:i(i({},l.eventRefiners),d.eventRefiners),eventDefMemberAdders:l.eventDefMemberAdders.concat(d.eventDefMemberAdders),eventSourceRefiners:i(i({},l.eventSourceRefiners),d.eventSourceRefiners),isDraggableTransformers:l.isDraggableTransformers.concat(d.isDraggableTransformers),eventDragMutationMassagers:l.eventDragMutationMassagers.concat(d.eventDragMutationMassagers),eventDefMutationAppliers:l.eventDefMutationAppliers.concat(d.eventDefMutationAppliers),dateSelectionTransformers:l.dateSelectionTransformers.concat(d.dateSelectionTransformers),datePointTransforms:l.datePointTransforms.concat(d.datePointTransforms),dateSpanTransforms:l.dateSpanTransforms.concat(d.dateSpanTransforms),views:i(i({},l.views),d.views),viewPropsTransformers:l.viewPropsTransformers.concat(d.viewPropsTransformers),isPropsValid:d.isPropsValid||l.isPropsValid,externalDefTransforms:l.externalDefTransforms.concat(d.externalDefTransforms),viewContainerAppends:l.viewContainerAppends.concat(d.viewContainerAppends),eventDropTransformers:l.eventDropTransformers.concat(d.eventDropTransformers),calendarInteractions:l.calendarInteractions.concat(d.calendarInteractions),componentInteractions:l.componentInteractions.concat(d.componentInteractions),themeClasses:i(i({},l.themeClasses),d.themeClasses),eventSourceDefs:l.eventSourceDefs.concat(d.eventSourceDefs),cmdFormatter:d.cmdFormatter||l.cmdFormatter,recurringTypes:l.recurringTypes.concat(d.recurringTypes),namedTimeZonedImpl:d.namedTimeZonedImpl||l.namedTimeZonedImpl,initialView:l.initialView||d.initialView,elementDraggingImpl:l.elementDraggingImpl||d.elementDraggingImpl,optionChangeHandlers:i(i({},l.optionChangeHandlers),d.optionChangeHandlers),scrollGridImpl:d.scrollGridImpl||l.scrollGridImpl,contentTypeHandlers:i(i({},l.contentTypeHandlers),d.contentTypeHandlers),listenerRefiners:i(i({},l.listenerRefiners),d.listenerRefiners),optionRefiners:i(i({},l.optionRefiners),d.optionRefiners),propSetHandlers:i(i({},l.propSetHandlers),d.propSetHandlers)})}var l,d}return e&&o(e),o(t),r}(r,o)),t=r,n=o,e}}(),this.buildDateEnv=qt(xo),this.buildTheme=qt(Ro),this.parseToolbars=qt(yo),this.buildViewSpecs=qt(to),this.buildDateProfileGenerator=Gt(Io),this.buildViewApi=qt(Po),this.buildViewUiProps=Gt(Oo),this.buildEventUiBySource=qt(No,kt),this.buildEventUiBases=qt(Ho),this.parseContextBusinessHours=Gt(Vo),this.buildTitle=qt(To),this.emitter=new mr,this.actionRunner=new So(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return t.data},this.dispatch=function(e){t.actionRunner.request(e)},this.props=e,this.actionRunner.pause();var n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),o=r.calendarOptions.initialView||r.pluginHooks.initialView,a=this.computeCurrentViewData(o,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);var s,l,d,c=(s=r.calendarOptions,l=r.dateEnv,null!=(d=s.initialDate)?l.createMarker(d):Si(s.now,l)),u=a.dateProfileGenerator.build(c);Gn(u.activeRange,c)||(c=u.currentRange.start);for(var h={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},p=0,f=r.pluginHooks.contextInit;p<f.length;p++)(0,f[p])(h);for(var g=function(e,t,n){var i=t?t.activeRange:null;return oo({},function(e,t){var n=Ei(t),i=[].concat(e.eventSources||[]),r=[];e.initialEvents&&i.unshift(e.initialEvents),e.events&&i.unshift(e.events);for(var o=0,a=i;o<a.length;o++){var s=ki(a[o],t,n);s&&r.push(s)}return r}(e,n),i,n)}(r.calendarOptions,u,h),v={dynamicOptionOverrides:n,currentViewType:o,currentDate:c,dateProfile:u,businessHours:this.parseContextBusinessHours(h),eventSources:g,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(h).selectionConfig},m=i(i({},h),v),y=0,D=r.pluginHooks.reducers;y<D.length;y++){var b=D[y];i(v,b(null,null,m))}Ao(v,h)&&this.emitter.trigger("loading",!0),this.state=v,this.updateData(),this.actionRunner.resume()}return e.prototype.resetOptions=function(e,t){var n=this.props;n.optionOverrides=t?i(i({},n.optionOverrides),e):e,this.actionRunner.request({type:"NOTHING"})},e.prototype._handleAction=function(e){var t=this,n=t.props,r=t.state,o=t.emitter,a=function(e,t){var n;return"SET_OPTION"===t.type?i(i({},e),((n={})[t.optionName]=t.rawOptionValue,n)):e}(r.dynamicOptionOverrides,e),s=this.computeOptionsData(n.optionOverrides,a,n.calendarApi),l=function(e,t){if("CHANGE_VIEW_TYPE"===t.type)e=t.viewType;return e}(r.currentViewType,e),d=this.computeCurrentViewData(l,s,n.optionOverrides,a);n.calendarApi.currentDataManager=this,o.setThisContext(n.calendarApi),o.setOptions(d.options);var c={dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:o,getCurrentData:this.getCurrentData},u=r.currentDate,h=r.dateProfile;this.data&&this.data.dateProfileGenerator!==d.dateProfileGenerator&&(h=d.dateProfileGenerator.build(u)),h=function(e,t,n,i){var r;switch(t.type){case"CHANGE_VIEW_TYPE":return i.build(t.dateMarker||n);case"CHANGE_DATE":return i.build(t.dateMarker);case"PREV":if((r=i.buildPrev(e,n)).isValid)return r;break;case"NEXT":if((r=i.buildNext(e,n)).isValid)return r}return e}(h,e,u=function(e,t){return"CHANGE_DATE"===t.type?t.dateMarker:e}(u,e),d.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&Gn(h.currentRange,u)||(u=h.currentRange.start);for(var p=function(e,t,n,r){var o,a,s=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return oo(e,t.sources,s,r);case"REMOVE_EVENT_SOURCE":return o=e,a=t.sourceId,bt(o,(function(e){return e.sourceId!==a}));case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?ao(e,s,r):e;case"FETCH_EVENT_SOURCES":return so(e,t.sourceIds?_t(t.sourceIds):co(e,r),s,t.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function(e,t,n,r){var o,a=e[t];return a&&n===a.latestFetchId?i(i({},e),((o={})[t]=i(i({},a),{isFetching:!1,fetchRange:r}),o)):e}(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}(r.eventSources,e,h,c),f=function(e,t,n,i,r){switch(t.type){case"RECEIVE_EVENTS":return function(e,t,n,i,r,o){if(t&&n===t.latestFetchId){var a=Dn(function(e,t,n){var i=n.options.eventDataTransform,r=t?t.eventDataTransform:null;return r&&(e=ho(e,r)),i&&(e=ho(e,i)),e}(r,t,o),t,o);return i&&(a=xt(a,i,o)),_n(po(e,t.sourceId),a)}return e}(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,r);case"ADD_EVENTS":return function(e,t,n,i){return n&&(t=xt(t,n,i)),_n(e,t)}(e,t.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return _n(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?xt(e,i.activeRange,r):e;case"REMOVE_EVENTS":return function(e,t){var n=e.defs,i=e.instances,r={},o={};for(var a in n)t.defs[a]||(r[a]=n[a]);for(var s in i)!t.instances[s]&&r[i[s].defId]&&(o[s]=i[s]);return{defs:r,instances:o}}(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return po(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Cn(e,(function(e){return!e.sourceId}));case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return e}}(r.eventStore,e,p,h,c),g=ro(p)&&!d.options.progressiveEventRendering&&r.renderableEventStore||f,v=this.buildViewUiProps(c),m=v.eventUiSingleBase,y=v.selectionConfig,D=this.buildEventUiBySource(p),b={dynamicOptionOverrides:a,currentViewType:l,currentDate:u,dateProfile:h,eventSources:p,eventStore:f,renderableEventStore:g,selectionConfig:y,eventUiBases:this.buildEventUiBases(g.defs,m,D),businessHours:this.parseContextBusinessHours(c),dateSelection:fo(r.dateSelection,e),eventSelection:go(r.eventSelection,e),eventDrag:vo(r.eventDrag,e),eventResize:mo(r.eventResize,e)},w=i(i({},c),b),_=0,C=s.pluginHooks.reducers;_<C.length;_++){var k=C[_];i(b,k(r,e,w))}var E=Ao(r,c),S=Ao(b,c);!E&&S?o.trigger("loading",!0):E&&!S&&o.trigger("loading",!1),this.state=b,n.onAction&&n.onAction(e)},e.prototype.updateData=function(){var e,t,n,r,o,a,s,l,d,c=this.props,u=this.state,h=this.data,p=this.computeOptionsData(c.optionOverrides,u.dynamicOptionOverrides,c.calendarApi),f=this.computeCurrentViewData(u.currentViewType,p,c.optionOverrides,u.dynamicOptionOverrides),g=this.data=i(i(i({viewTitle:this.buildTitle(u.dateProfile,f.options,p.dateEnv),calendarApi:c.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},p),f),u),v=p.pluginHooks.optionChangeHandlers,m=h&&h.calendarOptions,y=p.calendarOptions;if(m&&m!==y)for(var D in m.timeZone!==y.timeZone&&(u.eventSources=g.eventSources=(a=g.eventSources,l=g,d=(s=u.dateProfile)?s.activeRange:null,so(a,co(a,l),d,!0,l)),u.eventStore=g.eventStore=(e=g.eventStore,t=h.dateEnv,n=g.dateEnv,r=e.defs,o=wt(e.instances,(function(e){var o=r[e.defId];return o.allDay||o.recurringDef?e:i(i({},e),{range:{start:n.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:n.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:e.forcedEndTzo})})),{defs:r,instances:o})),v)m[D]!==y[D]&&v[D](y[D],g);c.onData&&c.onData(g)},e.prototype._computeOptionsData=function(e,t,n){var i=this.processRawCalendarOptions(e,t),r=i.refinedOptions,o=i.pluginHooks,a=i.localeDefaults,s=i.availableLocaleData;Uo(i.extra);var l=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,o,s,r.defaultRangeSeparator),d=this.buildViewSpecs(o.views,e,t,a),c=this.buildTheme(r,o);return{calendarOptions:r,pluginHooks:o,dateEnv:l,viewSpecs:d,theme:c,toolbarConfig:this.parseToolbars(r,e,c,d,n),localeDefaults:a,availableRawLocales:s.map}},e.prototype.processRawCalendarOptions=function(e,t){var n=vn([cn,e,t]),r=n.locales,o=n.locale,a=this.organizeRawLocales(r),s=a.map,l=this.buildLocale(o||a.defaultCode,s).options,d=this.buildPluginHooks(e.plugins||[],ko),c=this.currentCalendarOptionsRefiners=i(i(i(i(i({},dn),un),hn),d.listenerRefiners),d.optionRefiners),u={},h=vn([cn,l,e,t]),p={},f=this.currentCalendarOptionsInput,g=this.currentCalendarOptionsRefined,v=!1;for(var m in h)"plugins"!==m&&(h[m]===f[m]||pn[m]&&m in f&&pn[m](f[m],h[m])?p[m]=g[m]:c[m]?(p[m]=c[m](h[m]),v=!0):u[m]=f[m]);return v&&(this.currentCalendarOptionsInput=h,this.currentCalendarOptionsRefined=p),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:d,availableLocaleData:a,localeDefaults:l,extra:u}},e.prototype._computeCurrentViewData=function(e,t,n,i){var r=t.viewSpecs[e];if(!r)throw new Error('viewType "'+e+"\" is not available. Please make sure you've loaded all neccessary plugins");var o=this.processRawViewOptions(r,t.pluginHooks,t.localeDefaults,n,i),a=o.refinedOptions;return Uo(o.extra),{viewSpec:r,options:a,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:r.optionDefaults.dateProfileGeneratorClass,duration:r.duration,durationUnit:r.durationUnit,usesMinMaxTime:r.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,nowInput:a.now,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,monthMode:a.monthMode,fixedWeekCount:a.fixedWeekCount}),viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}},e.prototype.processRawViewOptions=function(e,t,n,r,o){var a=vn([cn,e.optionDefaults,n,r,e.optionOverrides,o]),s=i(i(i(i(i(i({},dn),un),hn),gn),t.listenerRefiners),t.optionRefiners),l={},d=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,u=!1,h={};for(var p in a)a[p]===d[p]?l[p]=c[p]:(a[p]===this.currentCalendarOptionsInput[p]?p in this.currentCalendarOptionsRefined&&(l[p]=this.currentCalendarOptionsRefined[p]):s[p]?l[p]=s[p](a[p]):h[p]=a[p],u=!0);return u&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}},e}();function xo(e,t,n,i,r,o,a,s){var l=Fi(t||a.defaultCode,a.map);return new Ai({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:i,weekText:r,cmdFormatter:o.cmdFormatter,defaultSeparator:s})}function Ro(e,t){return new(t.themeClasses[e.themeSystem]||Wr)(e)}function Io(e){return new(e.dateProfileGeneratorClass||io)(e)}function Po(e,t,n){return new _i(e,t,n)}function No(e){return wt(e,(function(e){return e.ui}))}function Ho(e,t,n){var i={"":t};for(var r in e){var o=e[r];o.sourceId&&n[o.sourceId]&&(i[r]=n[o.sourceId])}return i}function Oo(e){var t=e.options;return{eventUiSingleBase:Tn({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"==typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:Tn({constraint:t.selectConstraint,overlap:"boolean"==typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function Ao(e,t){for(var n=0,i=t.pluginHooks.isLoadingFuncs;n<i.length;n++)if((0,i[n])(e))return!0;return!1}function Vo(e){return qi(e.options.businessHours,e)}function Uo(e,t){for(var n in e)console.warn("Unknown option '"+n+"'"+(t?" for view '"+t+"'":""))}var Lo=function(e){function t(t){var n=e.call(this,t)||this;return n.handleData=function(e){n.dataManager?n.setState(e):n.state=e},n.dataManager=new Mo({optionOverrides:t.optionOverrides,calendarApi:t.calendarApi,onData:n.handleData}),n}return n(t,e),t.prototype.render=function(){return this.props.children(this.state)},t.prototype.componentDidUpdate=function(e){var t=this.props.optionOverrides;t!==e.optionOverrides&&this.dataManager.resetOptions(t)},t}(Cr),Yo=function(){function e(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return e.prototype.addSegs=function(e){for(var t=[],n=0,i=e;n<i.length;n++){var r=i[n];this.insertEntry(r,t)}return t},e.prototype.insertEntry=function(e,t){var n=this.findInsertion(e);return this.isInsertionValid(n,e)?(this.insertEntryAt(e,n),1):this.handleInvalidInsertion(n,e,t)},e.prototype.isInsertionValid=function(e,t){return(-1===this.maxCoord||e.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)},e.prototype.handleInvalidInsertion=function(e,t,n){return this.allowReslicing&&e.touchingEntry?this.splitEntry(t,e.touchingEntry,n):(n.push(t),0)},e.prototype.splitEntry=function(e,t,n){var i=0,o=[],a=e.span,s=t.span;return a.start<s.start&&(i+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.start,end:s.start}},o)),a.end>s.end&&(i+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:a.end}},o)),i?(n.push.apply(n,r([{index:e.index,thickness:e.thickness,span:jo(s,a)}],o)),i):(n.push(e),0)},e.prototype.insertEntryAt=function(e,t){var n=this.entriesByLevel,i=this.levelCoords;-1===t.lateral?(qo(i,t.level,t.levelCoord),qo(n,t.level,[e])):qo(n[t.level],t.lateral,e),this.stackCnts[Wo(e)]=t.stackCnt},e.prototype.findInsertion=function(e){for(var t=this,n=t.levelCoords,i=t.entriesByLevel,r=t.strictOrder,o=t.stackCnts,a=n.length,s=0,l=-1,d=-1,c=null,u=0,h=0;h<a;h+=1){var p=n[h];if(!r&&p>=s+e.thickness)break;for(var f=i[h],g=void 0,v=Go(f,e.span.start,Fo),m=v[0]+v[1];(g=f[m])&&g.span.start<e.span.end;){var y=p+g.thickness;y>s&&(s=y,c=g,l=h,d=m),y===s&&(u=Math.max(u,o[Wo(g)]+1)),m+=1}}var D=0;if(c)for(D=l+1;D<a&&n[D]<s;)D+=1;var b=-1;return D<a&&n[D]===s&&(b=Go(i[D],e.span.end,Fo)[0]),{touchingLevel:l,touchingLateral:d,touchingEntry:c,stackCnt:u,levelCoord:s,level:D,lateral:b}},e.prototype.toRects=function(){for(var e=this.entriesByLevel,t=this.levelCoords,n=e.length,r=[],o=0;o<n;o+=1)for(var a=e[o],s=t[o],l=0,d=a;l<d.length;l++){var c=d[l];r.push(i(i({},c),{levelCoord:s}))}return r},e}();function Fo(e){return e.span.end}function Wo(e){return e.index+":"+e.span.start}function Bo(e){for(var t=[],n=0,i=e;n<i.length;n++){for(var r=i[n],o=[],a={span:r.span,entries:[r]},s=0,l=t;s<l.length;s++){var d=l[s];jo(d.span,a.span)?a={entries:d.entries.concat(a.entries),span:zo(d.span,a.span)}:o.push(d)}o.push(a),t=o}return t}function zo(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function jo(e,t){var n=Math.max(e.start,t.start),i=Math.min(e.end,t.end);return n<i?{start:n,end:i}:null}function qo(e,t,n){e.splice(t,0,n)}function Go(e,t,n){var i=0,r=e.length;if(!r||t<n(e[i]))return[0,0];if(t>n(e[r-1]))return[r,0];for(;i<r;){var o=Math.floor(i+(r-i)/2),a=n(e[o]);if(t<a)r=o;else{if(!(t>a))return[o,1];i=o+1}}return[i,0]}var Zo=function(){function e(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}return e.prototype.destroy=function(){},e}();function Xo(e,t){return{component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null}}function Ko(e){var t;return(t={})[e.component.uid]=e,t}var $o={},Qo=function(){function e(e,t){this.emitter=new mr}return e.prototype.destroy=function(){},e.prototype.setMirrorIsVisible=function(e){},e.prototype.setMirrorNeedsRevert=function(e){},e.prototype.setAutoScrollEnabled=function(e){},e}(),Jo={},ea={startTime:Nt,duration:Nt,create:Boolean,sourceId:String};function ta(e){var t=mn(e,ea),n=t.refined,i=t.extra;return{startTime:n.startTime||null,duration:n.duration||null,create:null==n.create||n.create,sourceId:n.sourceId,leftoverProps:i}}var na=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this,t=this.props.widgetGroups.map((function(t){return e.renderWidgetGroup(t)}));return kr.apply(void 0,r(["div",{className:"fc-toolbar-chunk"}],t))},t.prototype.renderWidgetGroup=function(e){for(var t=this.props,n=this.context.theme,i=[],o=!0,a=0,s=e;a<s.length;a++){var l=s[a],d=l.buttonName,c=l.buttonClick,u=l.buttonText,h=l.buttonIcon,p=l.buttonHint;if("title"===d)o=!1,i.push(kr("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{var f=d===t.activeButton,g=!t.isTodayEnabled&&"today"===d||!t.isPrevEnabled&&"prev"===d||!t.isNextEnabled&&"next"===d,v=["fc-"+d+"-button",n.getClass("button")];f&&v.push(n.getClass("buttonActive")),i.push(kr("button",{type:"button",title:"function"==typeof p?p(t.navUnit):p,disabled:g,"aria-pressed":f,className:v.join(" "),onClick:c},u||(h?kr("span",{className:h}):"")))}}if(i.length>1){var m=o&&n.getClass("buttonGroup")||"";return kr.apply(void 0,r(["div",{className:m}],i))}return i[0]},t}(Ar),ia=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e,t,n=this.props,i=n.model,r=n.extraClassName,o=!1,a=i.sectionWidgets,s=a.center;return a.left?(o=!0,e=a.left):e=a.start,a.right?(o=!0,t=a.right):t=a.end,kr("div",{className:[r||"","fc-toolbar",o?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",e||[]),this.renderSection("center",s||[]),this.renderSection("end",t||[]))},t.prototype.renderSection=function(e,t){var n=this.props;return kr(na,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})},t}(Ar),ra=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={availableWidth:null},t.handleEl=function(e){t.el=e,Lr(t.props.elRef,e),t.updateAvailableWidth()},t.handleResize=function(){t.updateAvailableWidth()},t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.state,n=e.aspectRatio,i=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],r="",o="";return n?null!==t.availableWidth?r=t.availableWidth/n:o=1/n*100+"%":r=e.height||"",kr("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:r,paddingBottom:o}},e.children)},t.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},t.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},t.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},t}(Ar),oa=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSegClick=function(e,t){var i=n.component,r=i.context,o=$n(t);if(o&&i.isValidSegDownEl(e.target)){var a=be(e.target,".fc-event-forced-url"),s=a?a.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:t,event:new Mi(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:e,view:r.viewApi}),s&&!e.defaultPrevented&&(window.location.href=s)}},n.destroy=Ie(t.el,"click",".fc-event",n.handleSegClick),n}return n(t,e),t}(Zo),aa=function(e){function t(t){var n,i,r,o,a=e.call(this,t)||this;return a.handleEventElRemove=function(e){e===a.currentSegEl&&a.handleSegLeave(null,a.currentSegEl)},a.handleSegEnter=function(e,t){$n(t)&&(a.currentSegEl=t,a.triggerEvent("eventMouseEnter",e,t))},a.handleSegLeave=function(e,t){a.currentSegEl&&(a.currentSegEl=null,a.triggerEvent("eventMouseLeave",e,t))},a.removeHoverListeners=(n=t.el,".fc-event",i=a.handleSegEnter,r=a.handleSegLeave,Ie(n,"mouseover",".fc-event",(function(e,t){if(t!==o){o=t,i(e,t);var n=function(e){o=null,r(e,t),t.removeEventListener("mouseleave",n)};t.addEventListener("mouseleave",n)}}))),a}return n(t,e),t.prototype.destroy=function(){this.removeHoverListeners()},t.prototype.triggerEvent=function(e,t,n){var i=this.component,r=i.context,o=$n(n);t&&!i.isValidSegDownEl(t.target)||r.emitter.trigger(e,{el:n,event:new Mi(r,o.eventRange.def,o.eventRange.instance),jsEvent:t,view:r.viewApi})},t}(Zo),sa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildViewContext=qt(Hr),t.buildViewPropTransformers=qt(da),t.buildToolbarProps=qt(la),t.headerRef=Sr(),t.footerRef=Sr(),t.interactionsStore={},t.state={viewLabelId:xe()},t.registerInteractiveComponent=function(e,n){var i=Xo(e,n),r=[oa,aa].concat(t.props.pluginHooks.componentInteractions).map((function(e){return new e(i)}));t.interactionsStore[e.uid]=r,$o[e.uid]=i},t.unregisterInteractiveComponent=function(e){var n=t.interactionsStore[e.uid];if(n){for(var i=0,r=n;i<r.length;i++)r[i].destroy();delete t.interactionsStore[e.uid]}delete $o[e.uid]},t.resizeRunner=new Eo((function(){t.props.emitter.trigger("_resize",!0),t.props.emitter.trigger("windowResize",{view:t.props.viewApi})})),t.handleWindowResize=function(e){var n=t.props.options;n.handleWindowResize&&e.target===window&&t.resizeRunner.request(n.windowResizeDelay)},t}return n(t,e),t.prototype.render=function(){var e,t=this.props,n=t.toolbarConfig,r=t.options,o=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,Si(t.options.now,t.dateEnv),t.viewTitle),a=!1,s="";t.isHeightAuto||t.forPrint?s="":null!=r.height?a=!0:null!=r.contentHeight?s=r.contentHeight:e=Math.max(r.aspectRatio,.5);var l=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),d=n.header&&n.header.hasTitle?this.state.viewLabelId:"";return kr(Nr.Provider,{value:l},n.header&&kr(ia,i({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:d},o)),kr(ra,{liquid:a,height:s,aspectRatio:e,labeledById:d},this.renderView(t),this.buildAppendContent()),n.footer&&kr(ia,i({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},o)))},t.prototype.componentDidMount=function(){var e=this.props;this.calendarInteractions=e.pluginHooks.calendarInteractions.map((function(t){return new t(e)})),window.addEventListener("resize",this.handleWindowResize);var t=e.pluginHooks.propSetHandlers;for(var n in t)t[n](e[n],e)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.pluginHooks.propSetHandlers;for(var i in n)t[i]!==e[i]&&n[i](t[i],t)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var e=0,t=this.calendarInteractions;e<t.length;e++)t[e].destroy();this.props.emitter.trigger("_unmount")},t.prototype.buildAppendContent=function(){var e=this.props,t=e.pluginHooks.viewContainerAppends.map((function(t){return t(e)}));return kr.apply(void 0,r([Tr,{}],t))},t.prototype.renderView=function(e){for(var t=e.pluginHooks,n=e.viewSpec,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},o=0,a=this.buildViewPropTransformers(t.viewPropsTransformers);o<a.length;o++){var s=a[o];i(r,s.transform(r,e))}var l=n.component;return kr(l,i({},r))},t}(Or);function la(e,t,n,i,r,o){var a=n.build(r,void 0,!1),s=n.buildPrev(t,i,!1),l=n.buildNext(t,i,!1);return{title:o,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:a.isValid&&!Gn(t.currentRange,r),isPrevEnabled:s.isValid,isNextEnabled:l.isValid}}function da(e){return e.map((function(e){return new e}))}var ca=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={forPrint:!1},t.handleBeforePrint=function(){t.setState({forPrint:!0})},t.handleAfterPrint=function(){t.setState({forPrint:!1})},t}return n(t,e),t.prototype.render=function(){var e=this.props,t=e.options,n=this.state.forPrint,i=n||"auto"===t.height||"auto"===t.contentHeight,r=i||null==t.height?"":t.height,o=["fc",n?"fc-media-print":"fc-media-screen","fc-direction-"+t.direction,e.theme.getClass("root")];return Qi()||o.push("fc-liquid-hack"),e.children(o,r,i,n)},t.prototype.componentDidMount=function(){var e=this.props.emitter;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)},t.prototype.componentWillUnmount=function(){var e=this.props.emitter;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)},t}(Ar);function ua(e,t){return ln(!e||t>10?{weekday:"short"}:t>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}var ha="fc-col-header-cell";function pa(e){return e.text}var fa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.context,t=e.dateEnv,n=e.options,r=e.theme,o=e.viewApi,a=this.props,s=a.date,l=a.dateProfile,d=nr(s,a.todayRange,null,l),c=[ha].concat(ir(d,r)),u=t.format(s,a.dayHeaderFormat),h=!d.isDisabled&&a.colCnt>1?ar(this.context,s):{},p=i(i(i({date:t.toDate(s),view:o},a.extraHookProps),{text:u}),d);return kr(zr,{hookProps:p,classNames:n.dayHeaderClassNames,content:n.dayHeaderContent,defaultContent:pa,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},(function(e,t,n,r){return kr("th",i({ref:e,role:"columnheader",className:c.concat(t).join(" "),"data-date":d.isDisabled?void 0:Wt(s),colSpan:a.colSpan},a.extraDataAttrs),kr("div",{className:"fc-scrollgrid-sync-inner"},!d.isDisabled&&kr("a",i({ref:n,className:["fc-col-header-cell-cushion",a.isSticky?"fc-sticky":""].join(" ")},h),r)))}))},t}(Ar),ga=ln({weekday:"long"}),va=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.dateEnv,r=t.theme,o=t.viewApi,a=t.options,s=tt(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},d=[ha].concat(ir(l,r),e.extraClassNames||[]),c=n.format(s,e.dayHeaderFormat),u=i(i(i(i({date:s},l),{view:o}),e.extraHookProps),{text:c});return kr(zr,{hookProps:u,classNames:a.dayHeaderClassNames,content:a.dayHeaderContent,defaultContent:pa,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},(function(t,r,o,a){return kr("th",i({ref:t,role:"columnheader",className:d.concat(r).join(" "),colSpan:e.colSpan},e.extraDataAttrs),kr("div",{className:"fc-scrollgrid-sync-inner"},kr("a",{"aria-label":n.format(s,ga),className:["fc-col-header-cell-cushion",e.isSticky?"fc-sticky":""].join(" "),ref:o},a)))}))},t}(Ar),ma=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.initialNowDate=Si(n.options.now,n.dateEnv),i.initialNowQueriedMs=(new Date).valueOf(),i.state=i.computeTiming().currentState,i}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.state;return e.children(t.nowDate,t.todayRange)},t.prototype.componentDidMount=function(){this.setTimeout()},t.prototype.componentDidUpdate=function(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},t.prototype.componentWillUnmount=function(){this.clearTimeout()},t.prototype.computeTiming=function(){var e=this.props,t=this.context,n=nt(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),i=t.dateEnv.startOf(n,e.unit),r=t.dateEnv.add(i,Nt(1,e.unit)),o=r.valueOf()-n.valueOf();return o=Math.min(864e5,o),{currentState:{nowDate:i,todayRange:ya(i)},nextState:{nowDate:r,todayRange:ya(r)},waitMs:o}},t.prototype.setTimeout=function(){var e=this,t=this.computeTiming(),n=t.nextState,i=t.waitMs;this.timeoutId=setTimeout((function(){e.setState(n,(function(){e.setTimeout()}))}),i)},t.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},t.contextType=Nr,t}(Cr);function ya(e){var t=lt(e);return{start:t,end:tt(t,1)}}var Da=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createDayHeaderFormatter=qt(ba),t}return n(t,e),t.prototype.render=function(){var e=this.context,t=this.props,n=t.dates,i=t.dateProfile,r=t.datesRepDistinctDays,o=t.renderIntro,a=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,n.length);return kr(ma,{unit:"day"},(function(e,t){return kr("tr",{role:"row"},o&&o("day"),n.map((function(e){return r?kr(fa,{key:e.toISOString(),date:e,dateProfile:i,todayRange:t,colCnt:n.length,dayHeaderFormat:a}):kr(va,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:a})})))}))},t}(Ar);function ba(e,t,n){return e||ua(t,n)}var wa=function(){function e(e,t){for(var n=e.start,i=e.end,r=[],o=[],a=-1;n<i;)t.isHiddenDay(n)?r.push(a+.5):(a+=1,r.push(a),o.push(n)),n=tt(n,1);this.dates=o,this.indices=r,this.cnt=o.length}return e.prototype.sliceRange=function(e){var t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(tt(e.end,-1)),i=Math.max(0,t),r=Math.min(this.cnt-1,n);return(i=Math.ceil(i))<=(r=Math.floor(r))?{firstIndex:i,lastIndex:r,isStart:t===i,isEnd:n===r}:null},e.prototype.getDateDayIndex=function(e){var t=this.indices,n=Math.floor(rt(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},e}(),_a=function(){function e(e,t){var n,i,r,o=e.dates;if(t){for(i=o[0].getUTCDay(),n=1;n<o.length&&o[n].getUTCDay()!==i;n+=1);r=Math.ceil(o.length/n)}else r=1,n=o.length;this.rowCnt=r,this.colCnt=n,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return e.prototype.buildCells=function(){for(var e=[],t=0;t<this.rowCnt;t+=1){for(var n=[],i=0;i<this.colCnt;i+=1)n.push(this.buildCell(t,i));e.push(n)}return e},e.prototype.buildCell=function(e,t){var n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}},e.prototype.buildHeaderDates=function(){for(var e=[],t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e},e.prototype.sliceRange=function(e){var t=this.colCnt,n=this.daySeries.sliceRange(e),i=[];if(n)for(var r=n.firstIndex,o=n.lastIndex,a=r;a<=o;){var s=Math.floor(a/t),l=Math.min((s+1)*t,o+1);i.push({row:s,firstCol:a%t,lastCol:(l-1)%t,isStart:n.isStart&&a===r,isEnd:n.isEnd&&l-1===o}),a=l}return i},e}(),Ca=function(){function e(){this.sliceBusinessHours=qt(this._sliceBusinessHours),this.sliceDateSelection=qt(this._sliceDateSpan),this.sliceEventStore=qt(this._sliceEventStore),this.sliceEventDrag=qt(this._sliceInteraction),this.sliceEventResize=qt(this._sliceInteraction),this.forceDayIfListItem=!1}return e.prototype.sliceProps=function(e,t,n,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];var s=e.eventUiBases,l=this.sliceEventStore.apply(this,r([e.eventStore,s,t,n],o));return{dateSelectionSegs:this.sliceDateSelection.apply(this,r([e.dateSelection,s,i],o)),businessHourSegs:this.sliceBusinessHours.apply(this,r([e.businessHours,t,n,i],o)),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag.apply(this,r([e.eventDrag,s,t,n],o)),eventResize:this.sliceEventResize.apply(this,r([e.eventResize,s,t,n],o)),eventSelection:e.eventSelection}},e.prototype.sliceNowDate=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this._sliceDateSpan.apply(this,r([{range:{start:e,end:nt(e,1)},allDay:!1},{},t],n))},e.prototype._sliceBusinessHours=function(e,t,n,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];return e?this._sliceEventStore.apply(this,r([xt(e,ka(t,Boolean(n)),i),{},t,n],o)).bg:[]},e.prototype._sliceEventStore=function(e,t,n,i){for(var r=[],o=4;o<arguments.length;o++)r[o-4]=arguments[o];if(e){var a=Zn(e,t,ka(n,Boolean(i)),i);return{bg:this.sliceEventRanges(a.bg,r),fg:this.sliceEventRanges(a.fg,r)}}return{bg:[],fg:[]}},e.prototype._sliceInteraction=function(e,t,n,i){for(var r=[],o=4;o<arguments.length;o++)r[o-4]=arguments[o];if(!e)return null;var a=Zn(e.mutatedEvents,t,ka(n,Boolean(i)),i);return{segs:this.sliceEventRanges(a.fg,r),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}},e.prototype._sliceDateSpan=function(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];if(!e)return[];for(var a=gi(e,t,n),s=this.sliceRange.apply(this,r([e.range],i)),l=0,d=s;l<d.length;l++){var c=d[l];c.eventRange=a}return s},e.prototype.sliceEventRanges=function(e,t){for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i];n.push.apply(n,this.sliceEventRange(o,t))}return n},e.prototype.sliceEventRange=function(e,t){var n=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(n={start:n.start,end:tt(n.start,1)});for(var i=this.sliceRange.apply(this,r([n],t)),o=0,a=i;o<a.length;o++){var s=a[o];s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd}return i},e}();function ka(e,t){var n=e.activeRange;return t?n:{start:nt(n.start,e.slotMinTime.milliseconds),end:nt(n.end,e.slotMaxTime.milliseconds-864e5)}}function Ea(e,t,n){var i=e.mutatedEvents.instances;for(var r in i)if(!qn(t.validRange,i[r].range))return!1;return Ta({eventDrag:e},n)}function Sa(e,t,n){return!!qn(t.validRange,e.range)&&Ta({dateSelection:e},n)}function Ta(e,t){var n=t.getCurrentData(),r=i({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||Ma)(r,t)}function Ma(e,t,n,r){return void 0===n&&(n={}),!(e.eventDrag&&!function(e,t,n,r){var o=t.getCurrentData(),a=e.eventDrag,s=a.mutatedEvents,l=s.defs,d=s.instances,c=Qn(l,a.isEvent?e.eventUiBases:{"":o.selectionConfig});r&&(c=wt(c,r));var u,h,p=(u=e.eventStore,h=a.affectedEvents.instances,{defs:u.defs,instances:bt(u.instances,(function(e){return!h[e.instanceId]}))}),f=p.defs,g=p.instances,v=Qn(f,e.eventUiBases);for(var m in d){var y=d[m],D=y.range,b=c[y.defId],w=l[y.defId];if(!xa(b.constraints,D,p,e.businessHours,t))return!1;var _=t.options.eventOverlap,C="function"==typeof _?_:null;for(var k in g){var E=g[k];if(jn(D,E.range)){if(!1===v[E.defId].overlap&&a.isEvent)return!1;if(!1===b.overlap)return!1;if(C&&!C(new Mi(t,f[E.defId],E),new Mi(t,w,y)))return!1}}for(var S=o.eventStore,T=0,M=b.allows;T<M.length;T++){var x,R=M[T],I=i(i({},n),{range:y.range,allDay:w.allDay}),P=S.defs[w.defId],N=S.instances[m];if(x=P?new Mi(t,P,N):new Mi(t,w),!R(mi(I,t),x))return!1}}return!0}(e,t,n,r)||e.dateSelection&&!function(e,t,n,r){var o=e.eventStore,a=o.defs,s=o.instances,l=e.dateSelection,d=l.range,c=t.getCurrentData().selectionConfig;if(r&&(c=r(c)),!xa(c.constraints,d,o,e.businessHours,t))return!1;var u=t.options.selectOverlap,h="function"==typeof u?u:null;for(var p in s){var f=s[p];if(jn(d,f.range)){if(!1===c.overlap)return!1;if(h&&!h(new Mi(t,a[f.defId],f),null))return!1}}for(var g=0,v=c.allows;g<v.length;g++)if(!(0,v[g])(mi(i(i({},n),l),t),null))return!1;return!0}(e,t,n,r))}function xa(e,t,n,i,r){for(var o=0,a=e;o<a.length;o++)if(!Pa(Ra(a[o],t,n,i,r),t))return!1;return!0}function Ra(e,t,n,i,r){return"businessHours"===e?Ia(xt(i,t,r)):"string"==typeof e?Ia(Cn(n,(function(t){return t.groupId===e}))):"object"==typeof e&&e?Ia(xt(e,t,r)):[]}function Ia(e){var t=e.instances,n=[];for(var i in t)n.push(t[i].range);return n}function Pa(e,t){for(var n=0,i=e;n<i.length;n++)if(qn(i[n],t))return!0;return!1}var Na=/^(visible|hidden)$/,Ha=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleEl=function(e){t.el=e,Lr(t.props.elRef,e)},t}return n(t,e),t.prototype.render=function(){var e=this.props,t=e.liquid,n=e.liquidIsAbsolute,i=t&&n,r=["fc-scroller"];return t&&(n?r.push("fc-scroller-liquid-absolute"):r.push("fc-scroller-liquid")),kr("div",{ref:this.handleEl,className:r.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)},t.prototype.needsXScrolling=function(){if(Na.test(this.props.overflowX))return!1;for(var e=this.el,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),n=e.children,i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().width>t)return!0;return!1},t.prototype.needsYScrolling=function(){if(Na.test(this.props.overflowY))return!1;for(var e=this.el,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),n=e.children,i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().height>t)return!0;return!1},t.prototype.getXScrollbarWidth=function(){return Na.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},t.prototype.getYScrollbarWidth=function(){return Na.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},t}(Ar),Oa=function(){function e(e){var t=this;this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(e,n){var i=t,r=i.depths,o=i.currentMap,a=!1,s=!1;null!==e?(a=n in o,o[n]=e,r[n]=(r[n]||0)+1,s=!0):(r[n]-=1,r[n]||(delete o[n],delete t.callbackMap[n],a=!0)),t.masterCallback&&(a&&t.masterCallback(null,String(n)),s&&t.masterCallback(e,String(n)))}}return e.prototype.createRef=function(e){var t=this,n=this.callbackMap[e];return n||(n=this.callbackMap[e]=function(n){t.handleValue(n,String(e))}),n},e.prototype.collect=function(e,t,n){return Mt(this.currentMap,e,t,n)},e.prototype.getAll=function(){return Ct(this.currentMap)},e}();function Aa(e){for(var t=0,n=0,i=_e(e,".fc-scrollgrid-shrink");n<i.length;n++){var r=i[n];t=Math.max(t,Qe(r))}return Math.ceil(t)}function Va(e,t){return e.liquid&&t.liquid}function Ua(e,t){return null!=t.maxHeight||Va(e,t)}function La(e,t,n,i){var r=n.expandRows;return"function"==typeof t.content?t.content(n):kr("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:r?n.clientHeight:""}},n.tableColGroupNode,kr(i?"thead":"tbody",{role:"presentation"},"function"==typeof t.rowContent?t.rowContent(n):t.rowContent))}function Ya(e,t){return jt(e,t,kt)}function Fa(e,t){for(var n=[],i=0,o=e;i<o.length;i++)for(var a=o[i],s=a.span||1,l=0;l<s;l+=1)n.push(kr("col",{style:{width:"shrink"===a.width?Wa(t):a.width||"",minWidth:a.minWidth||""}}));return kr.apply(void 0,r(["colgroup",{}],n))}function Wa(e){return null==e?4:e}function Ba(e){for(var t=0,n=e;t<n.length;t++)if("shrink"===n[t].width)return!0;return!1}function za(e,t){var n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}function ja(e,t){var n=["fc-scrollgrid-section","fc-scrollgrid-section-"+e.type,e.className];return t&&e.liquid&&null==e.maxHeight&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function qa(e){return kr("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function Ga(e){var t=e.stickyHeaderDates;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}function Za(e){var t=e.stickyFooterScrollbar;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}var Xa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processCols=qt((function(e){return e}),Ya),t.renderMicroColGroup=qt(Fa),t.scrollerRefs=new Oa,t.scrollerElRefs=new Oa(t._handleScrollerEl.bind(t)),t.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},t.handleSizing=function(){t.setState(i({shrinkWidth:t.computeShrinkWidth()},t.computeScrollerDims()))},t}return n(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.state,i=e.context,o=t.sections||[],a=this.processCols(t.cols),s=this.renderMicroColGroup(a,n.shrinkWidth),l=za(t.liquid,i);t.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");for(var d,c=o.length,u=0,h=[],p=[],f=[];u<c&&"header"===(d=o[u]).type;)h.push(this.renderSection(d,s,!0)),u+=1;for(;u<c&&"body"===(d=o[u]).type;)p.push(this.renderSection(d,s,!1)),u+=1;for(;u<c&&"footer"===(d=o[u]).type;)f.push(this.renderSection(d,s,!0)),u+=1;var g=!Qi(),v={role:"rowgroup"};return kr("table",{role:"grid",className:l.join(" "),style:{height:t.height}},Boolean(!g&&h.length)&&kr.apply(void 0,r(["thead",v],h)),Boolean(!g&&p.length)&&kr.apply(void 0,r(["tbody",v],p)),Boolean(!g&&f.length)&&kr.apply(void 0,r(["tfoot",v],f)),g&&kr.apply(void 0,r(r(r(["tbody",v],h),p),f)))},t.prototype.renderSection=function(e,t,n){return"outerContent"in e?kr(Tr,{key:e.key},e.outerContent):kr("tr",{key:e.key,role:"presentation",className:ja(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))},t.prototype.renderChunkTd=function(e,t,n,i){if("outerContent"in n)return n.outerContent;var r=this.props,o=this.state,a=o.forceYScrollbars,s=o.scrollerClientWidths,l=o.scrollerClientHeights,d=Ua(r,e),c=Va(r,e),u=r.liquid?a?"scroll":d?"auto":"hidden":"visible",h=e.key,p=La(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:r.collapsibleWidth||void 0===s[h]?null:s[h],clientHeight:void 0!==l[h]?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},i);return kr(i?"th":"td",{ref:n.elRef,role:"presentation"},kr("div",{className:"fc-scroller-harness"+(c?" fc-scroller-harness-liquid":"")},kr(Ha,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:u,overflowX:r.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},p)))},t.prototype._handleScrollerEl=function(e,t){var n=function(e,t){for(var n=0,i=e;n<i.length;n++){var r=i[n];if(r.key===t)return r}return null}(this.props.sections,t);n&&Lr(n.chunk.scrollerElRef,e)},t.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},t.prototype.componentDidUpdate=function(){this.handleSizing()},t.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},t.prototype.computeShrinkWidth=function(){return Ba(this.props.cols)?Aa(this.scrollerElRefs.getAll()):0},t.prototype.computeScrollerDims=function(){var e=cr(),t=this.scrollerRefs,n=this.scrollerElRefs,i=!1,r={},o={};for(var a in t.currentMap){var s=t.currentMap[a];if(s&&s.needsYScrolling()){i=!0;break}}for(var l=0,d=this.props.sections;l<d.length;l++){a=d[l].key;var c=n.currentMap[a];if(c){var u=c.parentNode;r[a]=Math.floor(u.getBoundingClientRect().width-(i?e.y:0)),o[a]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:r,scrollerClientHeights:o}},t}(Ar);Xa.addStateEquality({scrollerClientWidths:kt,scrollerClientHeights:kt});var Ka=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.elRef=Sr(),t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,i=e.seg,r=i.eventRange,o=r.ui,a={event:new Mi(t,r.def,r.instance),view:t.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&ni(i,t),isStartResizable:!e.disableResizing&&ii(i,t),isEndResizable:!e.disableResizing&&ri(i),isMirror:Boolean(e.isDragging||e.isResizing||e.isDateSelecting),isStart:Boolean(i.isStart),isEnd:Boolean(i.isEnd),isPast:Boolean(e.isPast),isFuture:Boolean(e.isFuture),isToday:Boolean(e.isToday),isSelected:Boolean(e.isSelected),isDragging:Boolean(e.isDragging),isResizing:Boolean(e.isResizing)},s=si(a).concat(o.classNames);return kr(zr,{hookProps:a,classNames:n.eventClassNames,content:n.eventContent,defaultContent:e.defaultContent,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount,elRef:this.elRef},(function(t,n,i,r){return e.children(t,s.concat(n),i,r,a)}))},t.prototype.componentDidMount=function(){Kn(this.elRef.current,this.props.seg)},t.prototype.componentDidUpdate=function(e){var t=this.props.seg;t!==e.seg&&Kn(this.elRef.current,t)},t}(Ar),$a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=e.seg,r=t.options.eventTimeFormat||e.defaultTimeFormat,o=oi(n,r,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return kr(Ka,{seg:n,timeText:o,disableDragging:e.disableDragging,disableResizing:e.disableResizing,defaultContent:e.defaultContent||Qa,isDragging:e.isDragging,isResizing:e.isResizing,isDateSelecting:e.isDateSelecting,isSelected:e.isSelected,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(r,o,a,s,l){return kr("a",i({className:e.extraClassNames.concat(o).join(" "),style:{borderColor:l.borderColor,backgroundColor:l.backgroundColor},ref:r},di(n,t)),kr("div",{className:"fc-event-main",ref:a,style:{color:l.textColor}},s),l.isStartResizable&&kr("div",{className:"fc-event-resizer fc-event-resizer-start"}),l.isEndResizable&&kr("div",{className:"fc-event-resizer fc-event-resizer-end"}))}))},t}(Ar);function Qa(e){return kr("div",{className:"fc-event-main-frame"},e.timeText&&kr("div",{className:"fc-event-time"},e.timeText),kr("div",{className:"fc-event-title-container"},kr("div",{className:"fc-event-title fc-sticky"},e.event.title||kr(Tr,null," "))))}var Ja=function(e){return kr(Nr.Consumer,null,(function(t){var n=t.options,i={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return kr(zr,{hookProps:i,classNames:n.nowIndicatorClassNames,content:n.nowIndicatorContent,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},e.children)}))},es=ln({day:"numeric"}),ts=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,i=ns({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraProps:e.extraHookProps,viewApi:t.viewApi,dateEnv:t.dateEnv});return kr(qr,{hookProps:i,content:n.dayCellContent,defaultContent:e.defaultContent},e.children)},t}(Ar);function ns(e){var t=e.date,n=e.dateEnv,r=nr(t,e.todayRange,null,e.dateProfile);return i(i(i({date:n.toDate(t),view:e.viewApi},r),{dayNumberText:e.showDayNumber?n.format(t,es):""}),e.extraProps)}var is=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refineHookProps=Gt(ns),t.normalizeClassNames=Xr(),t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,i=this.refineHookProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraProps:e.extraHookProps,viewApi:t.viewApi,dateEnv:t.dateEnv}),r=ir(i,t.theme).concat(i.isDisabled?[]:this.normalizeClassNames(n.dayCellClassNames,i)),o=i.isDisabled?{}:{"data-date":Wt(e.date)};return kr(Zr,{hookProps:i,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount,elRef:e.elRef},(function(t){return e.children(t,r,o,i.isDisabled)}))},t}(Ar);function rs(e){return kr("div",{className:"fc-"+e})}var os=function(e){return kr(Ka,{defaultContent:as,seg:e.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(e,t,n,i,r){return kr("div",{ref:e,className:["fc-bg-event"].concat(t).join(" "),style:{backgroundColor:r.backgroundColor}},i)}))};function as(e){return e.event.title&&kr("div",{className:"fc-event-title"},e.event.title)}var ss=function(e){return kr(Nr.Consumer,null,(function(t){var n=t.dateEnv,i=t.options,r=e.date,o=i.weekNumberFormat||e.defaultFormat,a=n.computeWeekNumber(r),s=n.format(r,o);return kr(zr,{hookProps:{num:a,text:s,date:r},classNames:i.weekNumberClassNames,content:i.weekNumberContent,defaultContent:ls,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount},e.children)}))};function ls(e){return e.text}var ds=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={titleId:xe()},t.handleRootEl=function(e){t.rootEl=e,t.props.elRef&&Lr(t.props.elRef,e)},t.handleDocumentMouseDown=function(e){var n=Se(e);t.rootEl.contains(n)||t.handleCloseClick()},t.handleDocumentKeyDown=function(e){"Escape"===e.key&&t.handleCloseClick()},t.handleCloseClick=function(){var e=t.props.onClose;e&&e()},t}return n(t,e),t.prototype.render=function(){var e=this.context,t=e.theme,n=e.options,r=this.props,o=this.state,a=["fc-popover",t.getClass("popover")].concat(r.extraClassNames||[]);return xr(kr("div",i({id:r.id,className:a.join(" "),"aria-labelledby":o.titleId},r.extraAttrs,{ref:this.handleRootEl}),kr("div",{className:"fc-popover-header "+t.getClass("popoverHeader")},kr("span",{className:"fc-popover-title",id:o.titleId},r.title),kr("span",{className:"fc-popover-close "+t.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),kr("div",{className:"fc-popover-body "+t.getClass("popoverContent")},r.children)),r.parentEl)},t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)},t.prototype.updateSize=function(){var e=this.context.isRtl,t=this.props,n=t.alignmentEl,i=t.alignGridTop,r=this.rootEl,o=function(e){for(var t=gr(e),n=e.getBoundingClientRect(),i=0,r=t;i<r.length;i++){var o=Zi(n,r[i].getBoundingClientRect());if(!o)return null;n=o}return n}(n);if(o){var a=r.getBoundingClientRect(),s=i?be(n,".fc-scrollgrid").getBoundingClientRect().top:o.top,l=e?o.right-a.width:o.left;s=Math.max(s,10),l=Math.min(l,document.documentElement.clientWidth-10-a.width),l=Math.max(l,10);var d=r.offsetParent.getBoundingClientRect();ke(r,{top:s-d.top,left:l-d.left})}},t}(Ar),cs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRootEl=function(e){t.rootEl=e,e?t.context.registerInteractiveComponent(t,{el:e,useEventCenter:!1}):t.context.unregisterInteractiveComponent(t)},t}return n(t,e),t.prototype.render=function(){var e=this.context,t=e.options,n=e.dateEnv,i=this.props,r=i.startDate,o=i.todayRange,a=i.dateProfile,s=n.format(r,t.dayPopoverFormat);return kr(is,{date:r,dateProfile:a,todayRange:o,elRef:this.handleRootEl},(function(e,t,n){return kr(ds,{elRef:e,id:i.id,title:s,extraClassNames:["fc-more-popover"].concat(t),extraAttrs:n,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},kr(ts,{date:r,dateProfile:a,todayRange:o},(function(e,t){return t&&kr("div",{className:"fc-more-popover-misc",ref:e},t)})),i.children)}))},t.prototype.queryHit=function(e,t,n,r){var o=this.rootEl,a=this.props;return e>=0&&e<n&&t>=0&&t<r?{dateProfile:a.dateProfile,dateSpan:i({allDay:!0,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:o,rect:{left:0,top:0,right:n,bottom:r},layer:1}:null},t}(Yr),us=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linkElRef=Sr(),t.state={isPopoverOpen:!1,popoverId:xe()},t.handleClick=function(e){var n=t,i=n.props,r=n.context,o=r.options.moreLinkClick,a=ps(i).start;function s(e){var t=e.eventRange,n=t.def,i=t.instance,o=t.range;return{event:new Mi(r,n,i),start:r.dateEnv.toDate(o.start),end:r.dateEnv.toDate(o.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof o&&(o=o({date:a,allDay:Boolean(i.allDayDate),allSegs:i.allSegs.map(s),hiddenSegs:i.hiddenSegs.map(s),jsEvent:e,view:r.viewApi})),o&&"popover"!==o?"string"==typeof o&&r.calendarApi.zoomTo(a,o):t.setState({isPopoverOpen:!0})},t.handlePopoverClose=function(){t.setState({isPopoverOpen:!1})},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.state;return kr(Nr.Consumer,null,(function(i){var r=i.viewApi,o=i.options,a=i.calendarApi,s=o.moreLinkText,l=t.moreCnt,d=ps(t),c="function"==typeof s?s.call(a,l):"+"+l+" "+s,u=Xe(o.moreLinkHint,[l],c),h={num:l,shortText:"+"+l,text:c,view:r};return kr(Tr,null,Boolean(t.moreCnt)&&kr(zr,{elRef:e.linkElRef,hookProps:h,classNames:o.moreLinkClassNames,content:o.moreLinkContent,defaultContent:t.defaultContent||hs,didMount:o.moreLinkDidMount,willUnmount:o.moreLinkWillUnmount},(function(i,r,o,a){return t.children(i,["fc-more-link"].concat(r),o,a,e.handleClick,u,n.isPopoverOpen,n.isPopoverOpen?n.popoverId:"")})),n.isPopoverOpen&&kr(cs,{id:n.popoverId,startDate:d.start,endDate:d.end,dateProfile:t.dateProfile,todayRange:t.todayRange,extraDateSpan:t.extraDateSpan,parentEl:e.parentEl,alignmentEl:t.alignmentElRef.current,alignGridTop:t.alignGridTop,onClose:e.handlePopoverClose},t.popoverContent()))}))},t.prototype.componentDidMount=function(){this.updateParentEl()},t.prototype.componentDidUpdate=function(){this.updateParentEl()},t.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=be(this.linkElRef.current,".fc-view-harness"))},t}(Ar);function hs(e){return e.text}function ps(e){if(e.allDayDate)return{start:e.allDayDate,end:tt(e.allDayDate,1)};var t,n=e.hiddenSegs;return{start:fs(n),end:(t=n,t.reduce(vs).eventRange.range.end)}}function fs(e){return e.reduce(gs).eventRange.range.start}function gs(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function vs(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}var ms=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.isRendering=!1,r.isRendered=!1,r.currentClassNames=[],r.customContentRenderId=0,r.handleAction=function(e){switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":r.renderRunner.tryDrain()}},r.handleData=function(e){r.currentData=e,r.renderRunner.request(e.calendarOptions.rerenderDelay)},r.handleRenderRequest=function(){if(r.isRendering){r.isRendered=!0;var e=r.currentData;Rr((function(){Er(kr(ca,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},(function(t,n,o,a){return r.setClassNames(t),r.setHeight(n),kr(jr.Provider,{value:r.customContentRenderId},kr(sa,i({isHeightAuto:o,forPrint:a},e)))})),r.el)}))}else r.isRendered&&(r.isRendered=!1,Ir(r.el),r.setClassNames([]),r.setHeight(""))},r.el=t,r.renderRunner=new Eo(r.handleRenderRequest),new Mo({optionOverrides:n,calendarApi:r,onAction:r.handleAction,onData:r.handleData}),r}return n(t,e),Object.defineProperty(t.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()},t.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},t.prototype.updateSize=function(){var t=this;Rr((function(){e.prototype.updateSize.call(t)}))},t.prototype.batchRendering=function(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")},t.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},t.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},t.prototype.resetOptions=function(e,t){this.currentDataManager.resetOptions(e,t)},t.prototype.setClassNames=function(e){if(!jt(e,this.currentClassNames)){for(var t=this.el.classList,n=0,i=this.currentClassNames;n<i.length;n++){var r=i[n];t.remove(r)}for(var o=0,a=e;o<a.length;o++)r=a[o],t.add(r);this.currentClassNames=e}},t.prototype.setHeight=function(e){Ee(this.el,"height",e)},t}(Ti);Jo.touchMouseIgnoreWait=500;var ys=0,Ds=0,bs=!1,ws=function(){function e(e){var t=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(e){if(!t.shouldIgnoreMouse()&&function(e){return 0===e.button&&!e.ctrlKey}(e)&&t.tryStart(e)){var n=t.createEventFromMouse(e,!0);t.emitter.trigger("pointerdown",n),t.initScrollWatch(n),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(e){var n=t.createEventFromMouse(e);t.recordCoords(n),t.emitter.trigger("pointermove",n)},this.handleMouseUp=function(e){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(e)),t.cleanup()},this.handleTouchStart=function(e){if(t.tryStart(e)){t.isTouchDragging=!0;var n=t.createEventFromTouch(e,!0);t.emitter.trigger("pointerdown",n),t.initScrollWatch(n);var i=e.target;t.shouldIgnoreMove||i.addEventListener("touchmove",t.handleTouchMove),i.addEventListener("touchend",t.handleTouchEnd),i.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(e){var n=t.createEventFromTouch(e);t.recordCoords(n),t.emitter.trigger("pointermove",n)},this.handleTouchEnd=function(e){if(t.isDragging){var n=e.target;n.removeEventListener("touchmove",t.handleTouchMove),n.removeEventListener("touchend",t.handleTouchEnd),n.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(e)),t.cleanup(),t.isTouchDragging=!1,ys+=1,setTimeout((function(){ys-=1}),Jo.touchMouseIgnoreWait)}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(e){if(!t.shouldIgnoreMove){var n=window.pageXOffset-t.prevScrollX+t.prevPageX,i=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:e,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:n,pageY:i,deltaX:n-t.origPageX,deltaY:i-t.origPageY})}},this.containerEl=e,this.emitter=new mr,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),1===(Ds+=1)&&window.addEventListener("touchmove",_s,{passive:!1})}return e.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),(Ds-=1)||window.removeEventListener("touchmove",_s,{passive:!1})},e.prototype.tryStart=function(e){var t=this.querySubjectEl(e),n=e.target;return!(!t||this.handleSelector&&!be(n,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))},e.prototype.cleanup=function(){bs=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},e.prototype.querySubjectEl=function(e){return this.selector?be(e.target,this.selector):this.containerEl},e.prototype.shouldIgnoreMouse=function(){return ys||this.isTouchDragging},e.prototype.cancelTouchScroll=function(){this.isDragging&&(bs=!0)},e.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},e.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},e.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},e.prototype.createEventFromMouse=function(e,t){var n=0,i=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:i}},e.prototype.createEventFromTouch=function(e,t){var n,i,r=e.touches,o=0,a=0;return r&&r.length?(n=r[0].pageX,i=r[0].pageY):(n=e.pageX,i=e.pageY),t?(this.origPageX=n,this.origPageY=i):(o=n-this.origPageX,a=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:i,deltaX:o,deltaY:a}},e}();function _s(e){bs&&e.preventDefault()}var Cs=function(){function e(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return e.prototype.start=function(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},e.prototype.handleMove=function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},e.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},e.prototype.stop=function(e,t){var n=this,i=function(){n.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)},e.prototype.doRevertAnimation=function(e,t){var n=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",ke(n,{left:i.left,top:i.top}),Ne(n,(function(){n.style.transition="",e()}))},e.prototype.cleanup=function(){this.mirrorEl&&(De(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},e.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&ke(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},e.prototype.getMirrorEl=function(){var e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),t.classList.add("fc-event-dragging"),ke(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},e}(),ks=function(e){function t(t,n){var i=e.call(this)||this;return i.handleScroll=function(){i.scrollTop=i.scrollController.getScrollTop(),i.scrollLeft=i.scrollController.getScrollLeft(),i.handleScrollChange()},i.scrollController=t,i.doesListening=n,i.scrollTop=i.origScrollTop=t.getScrollTop(),i.scrollLeft=i.origScrollLeft=t.getScrollLeft(),i.scrollWidth=t.getScrollWidth(),i.scrollHeight=t.getScrollHeight(),i.clientWidth=t.getClientWidth(),i.clientHeight=t.getClientHeight(),i.clientRect=i.computeClientRect(),i.doesListening&&i.getEventTarget().addEventListener("scroll",i.handleScroll),i}return n(t,e),t.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},t.prototype.getScrollTop=function(){return this.scrollTop},t.prototype.getScrollLeft=function(){return this.scrollLeft},t.prototype.setScrollTop=function(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())},t.prototype.setScrollLeft=function(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())},t.prototype.getClientWidth=function(){return this.clientWidth},t.prototype.getClientHeight=function(){return this.clientHeight},t.prototype.getScrollWidth=function(){return this.scrollWidth},t.prototype.getScrollHeight=function(){return this.scrollHeight},t.prototype.handleScrollChange=function(){},t}(Dr),Es=function(e){function t(t,n){return e.call(this,new br(t),n)||this}return n(t,e),t.prototype.getEventTarget=function(){return this.scrollController.el},t.prototype.computeClientRect=function(){return pr(this.scrollController.el)},t}(ks),Ss=function(e){function t(t){return e.call(this,new wr,t)||this}return n(t,e),t.prototype.getEventTarget=function(){return window},t.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},t.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},t}(ks),Ts="function"==typeof performance?performance.now:Date.now,Ms=function(){function e(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var t=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(t){var n=Ts();e.handleSide(t,(n-e.msSinceRequest)/1e3),e.requestAnimation(n)}else e.isAnimating=!1}}}return e.prototype.start=function(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))},e.prototype.handleMove=function(e,t){if(this.isEnabled){var n=e-window.pageXOffset,i=t-window.pageYOffset,r=null===this.pointerScreenY?0:i-this.pointerScreenY,o=null===this.pointerScreenX?0:n-this.pointerScreenX;r<0?this.everMovedUp=!0:r>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Ts()))}},e.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy();this.scrollCaches=null}},e.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},e.prototype.handleSide=function(e,t){var n=e.scrollCache,i=this.edgeThreshold,r=i-e.distance,o=r*r/(i*i)*this.maxVelocity*t,a=1;switch(e.name){case"left":a=-1;case"right":n.setScrollLeft(n.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":n.setScrollTop(n.getScrollTop()+o*a)}},e.prototype.computeBestEdge=function(e,t){for(var n=this.edgeThreshold,i=null,r=0,o=this.scrollCaches||[];r<o.length;r++){var a=o[r],s=a.clientRect,l=e-s.left,d=s.right-e,c=t-s.top,u=s.bottom-t;l>=0&&d>=0&&c>=0&&u>=0&&(c<=n&&this.everMovedUp&&a.canScrollUp()&&(!i||i.distance>c)&&(i={scrollCache:a,name:"top",distance:c}),u<=n&&this.everMovedDown&&a.canScrollDown()&&(!i||i.distance>u)&&(i={scrollCache:a,name:"bottom",distance:u}),l<=n&&this.everMovedLeft&&a.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:a,name:"left",distance:l}),d<=n&&this.everMovedRight&&a.canScrollRight()&&(!i||i.distance>d)&&(i={scrollCache:a,name:"right",distance:d}))}return i},e.prototype.buildCaches=function(e){return this.queryScrollEls(e).map((function(e){return e===window?new Ss(!1):new Es(e,!1)}))},e.prototype.queryScrollEls=function(e){for(var t=[],n=0,i=this.scrollQuery;n<i.length;n++){var r=i[n];"object"==typeof r?t.push(r):t.push.apply(t,Array.prototype.slice.call(Te(e).querySelectorAll(r)))}return t},e}(),xs=function(e){function t(t,n){var i=e.call(this,t)||this;i.containerEl=t,i.delay=null,i.minDistance=0,i.touchScrollAllowed=!0,i.mirrorNeedsRevert=!1,i.isInteracting=!1,i.isDragging=!1,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,i.delayTimeoutId=null,i.onPointerDown=function(e){i.isDragging||(i.isInteracting=!0,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,Ye(document.body),We(document.body),e.isTouch||e.origEvent.preventDefault(),i.emitter.trigger("pointerdown",e),i.isInteracting&&!i.pointer.shouldIgnoreMove&&(i.mirror.setIsVisible(!1),i.mirror.start(e.subjectEl,e.pageX,e.pageY),i.startDelay(e),i.minDistance||i.handleDistanceSurpassed(e)))},i.onPointerMove=function(e){if(i.isInteracting){if(i.emitter.trigger("pointermove",e),!i.isDistanceSurpassed){var t=i.minDistance,n=e.deltaX,r=e.deltaY;n*n+r*r>=t*t&&i.handleDistanceSurpassed(e)}i.isDragging&&("scroll"!==e.origEvent.type&&(i.mirror.handleMove(e.pageX,e.pageY),i.autoScroller.handleMove(e.pageX,e.pageY)),i.emitter.trigger("dragmove",e))}},i.onPointerUp=function(e){i.isInteracting&&(i.isInteracting=!1,Fe(document.body),Be(document.body),i.emitter.trigger("pointerup",e),i.isDragging&&(i.autoScroller.stop(),i.tryStopDrag(e)),i.delayTimeoutId&&(clearTimeout(i.delayTimeoutId),i.delayTimeoutId=null))};var r=i.pointer=new ws(t);return r.emitter.on("pointerdown",i.onPointerDown),r.emitter.on("pointermove",i.onPointerMove),r.emitter.on("pointerup",i.onPointerUp),n&&(r.selector=n),i.mirror=new Cs,i.autoScroller=new Ms,i}return n(t,e),t.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},t.prototype.startDelay=function(e){var t=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout((function(){t.delayTimeoutId=null,t.handleDelayEnd(e)}),this.delay):this.handleDelayEnd(e)},t.prototype.handleDelayEnd=function(e){this.isDelayEnded=!0,this.tryStartDrag(e)},t.prototype.handleDistanceSurpassed=function(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)},t.prototype.tryStartDrag=function(e){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))},t.prototype.tryStopDrag=function(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))},t.prototype.stopDrag=function(e){this.isDragging=!1,this.emitter.trigger("dragend",e)},t.prototype.setIgnoreMove=function(e){this.pointer.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){this.mirror.setIsVisible(e)},t.prototype.setMirrorNeedsRevert=function(e){this.mirrorNeedsRevert=e},t.prototype.setAutoScrollEnabled=function(e){this.autoScroller.isEnabled=e},t}(Qo),Rs=function(){function e(e){this.origRect=fr(e),this.scrollCaches=gr(e).map((function(e){return new Es(e,!0)}))}return e.prototype.destroy=function(){for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy()},e.prototype.computeLeft=function(){for(var e=this.origRect.left,t=0,n=this.scrollCaches;t<n.length;t++){var i=n[t];e+=i.origScrollLeft-i.getScrollLeft()}return e},e.prototype.computeTop=function(){for(var e=this.origRect.top,t=0,n=this.scrollCaches;t<n.length;t++){var i=n[t];e+=i.origScrollTop-i.getScrollTop()}return e},e.prototype.isWithinClipping=function(e,t){for(var n,i={left:e,top:t},r=0,o=this.scrollCaches;r<o.length;r++){var a=o[r];if(void 0,"HTML"!==(n=a.getEventTarget().tagName)&&"BODY"!==n&&!Gi(i,a.clientRect))return!1}return!0},e}(),Is=function(){function e(e,t){var n=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(e){var t=n.dragging;n.initialHit=null,n.movingHit=null,n.finalHit=null,n.prepareHits(),n.processFirstCoord(e),n.initialHit||!n.requireInitial?(t.setIgnoreMove(!1),n.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=function(e){n.emitter.trigger("dragstart",e),n.handleMove(e,!0)},this.handleDragMove=function(e){n.emitter.trigger("dragmove",e),n.handleMove(e)},this.handlePointerUp=function(e){n.releaseHits(),n.emitter.trigger("pointerup",e)},this.handleDragEnd=function(e){n.movingHit&&n.emitter.trigger("hitupdate",null,!0,e),n.finalHit=n.movingHit,n.movingHit=null,n.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new mr}return e.prototype.processFirstCoord=function(e){var t,n={left:e.pageX,top:e.pageY},i=n,r=e.subjectEl;r instanceof HTMLElement&&(i=Xi(i,t=fr(r)));var o=this.initialHit=this.queryHitForOffset(i.left,i.top);if(o){if(this.useSubjectCenter&&t){var a=Zi(t,o.rect);a&&(i=Ki(a))}this.coordAdjust=$i(i,n)}else this.coordAdjust={left:0,top:0}},e.prototype.handleMove=function(e,t){var n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);!t&&Ps(this.movingHit,n)||(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))},e.prototype.prepareHits=function(){this.offsetTrackers=wt(this.droppableStore,(function(e){return e.component.prepareHits(),new Rs(e.el)}))},e.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}},e.prototype.queryHitForOffset=function(e,t){var n=this.droppableStore,i=this.offsetTrackers,r=null;for(var o in n){var a=n[o].component,s=i[o];if(s&&s.isWithinClipping(e,t)){var l=s.computeLeft(),d=s.computeTop(),c=e-l,u=t-d,h=s.origRect,p=h.right-h.left,f=h.bottom-h.top;if(c>=0&&c<p&&u>=0&&u<f){var g=a.queryHit(c,u,p,f);g&&qn(g.dateProfile.activeRange,g.dateSpan.range)&&(!r||g.layer>r.layer)&&(g.componentId=o,g.context=a.context,g.rect.left+=l,g.rect.right+=l,g.rect.top+=d,g.rect.bottom+=d,r=g)}}}return r},e}();function Ps(e,t){return!e&&!t||Boolean(e)===Boolean(t)&&hi(e.dateSpan,t.dateSpan)}function Ns(e,t){for(var n,r,o={},a=0,s=t.pluginHooks.datePointTransforms;a<s.length;a++){var l=s[a];i(o,l(e,t))}return i(o,(n=e,{date:(r=t.dateEnv).toDate(n.range.start),dateStr:r.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay})),o}var Hs=function(e){function t(t){var n=e.call(this,t)||this;n.handlePointerDown=function(e){var t=n.dragging,i=e.origEvent.target;t.setIgnoreMove(!n.component.isValidDateDownEl(i))},n.handleDragEnd=function(e){var t=n.component;if(!n.dragging.pointer.wasTouchScroll){var r=n.hitDragging,o=r.initialHit,a=r.finalHit;if(o&&a&&Ps(o,a)){var s=t.context,l=i(i({},Ns(o.dateSpan,s)),{dayEl:o.dayEl,jsEvent:e.origEvent,view:s.viewApi||s.calendarApi.view});s.emitter.trigger("dateClick",l)}}},n.dragging=new xs(t.el),n.dragging.autoScroller.isEnabled=!1;var r=n.hitDragging=new Is(n.dragging,Ko(t));return r.emitter.on("pointerdown",n.handlePointerDown),r.emitter.on("dragend",n.handleDragEnd),n}return n(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t}(Zo),Os=function(e){function t(t){var n=e.call(this,t)||this;n.dragSelection=null,n.handlePointerDown=function(e){var t=n,i=t.component,r=t.dragging,o=i.context.options.selectable&&i.isValidDateDownEl(e.origEvent.target);r.setIgnoreMove(!o),r.delay=e.isTouch?function(e){var t=e.context.options,n=t.selectLongPressDelay;return null==n&&(n=t.longPressDelay),n}(i):null},n.handleDragStart=function(e){n.component.context.calendarApi.unselect(e)},n.handleHitUpdate=function(e,t){var r=n.component.context,o=null,a=!1;if(e){var s=n.hitDragging.initialHit;e.componentId===s.componentId&&n.isHitComboAllowed&&!n.isHitComboAllowed(s,e)||(o=function(e,t,n){var r=e.dateSpan,o=t.dateSpan,a=[r.range.start,r.range.end,o.range.start,o.range.end];a.sort(Ke);for(var s={},l=0,d=n;l<d.length;l++){var c=(0,d[l])(e,t);if(!1===c)return null;c&&i(s,c)}return s.range={start:a[0],end:a[3]},s.allDay=r.allDay,s}(s,e,r.pluginHooks.dateSelectionTransformers)),o&&Sa(o,e.dateProfile,r)||(a=!0,o=null)}o?r.dispatch({type:"SELECT_DATES",selection:o}):t||r.dispatch({type:"UNSELECT_DATES"}),a?Ue():Le(),t||(n.dragSelection=o)},n.handlePointerUp=function(e){n.dragSelection&&(vi(n.dragSelection,e,n.component.context),n.dragSelection=null)};var r=t.component.context.options,o=n.dragging=new xs(t.el);o.touchScrollAllowed=!1,o.minDistance=r.selectMinDistance||0,o.autoScroller.isEnabled=r.dragScroll;var a=n.hitDragging=new Is(n.dragging,Ko(t));return a.emitter.on("pointerdown",n.handlePointerDown),a.emitter.on("dragstart",n.handleDragStart),a.emitter.on("hitupdate",n.handleHitUpdate),a.emitter.on("pointerup",n.handlePointerUp),n}return n(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t}(Zo),As=function(e){function t(n){var r=e.call(this,n)||this;r.subjectEl=null,r.subjectSeg=null,r.isDragging=!1,r.eventRange=null,r.relevantEvents=null,r.receivingContext=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(e){var t=e.origEvent.target,n=r,i=n.component,o=n.dragging,a=o.mirror,s=i.context.options,l=i.context;r.subjectEl=e.subjectEl;var d=r.subjectSeg=$n(e.subjectEl),c=(r.eventRange=d.eventRange).instance.instanceId;r.relevantEvents=wn(l.getCurrentData().eventStore,c),o.minDistance=e.isTouch?0:s.eventDragMinDistance,o.delay=e.isTouch&&c!==i.props.eventSelection?function(e){var t=e.context.options,n=t.eventLongPressDelay;return null==n&&(n=t.longPressDelay),n}(i):null,s.fixedMirrorParent?a.parentNode=s.fixedMirrorParent:a.parentNode=be(t,".fc"),a.revertDuration=s.dragRevertDuration;var u=i.isValidSegDownEl(t)&&!be(t,".fc-event-resizer");o.setIgnoreMove(!u),r.isDragging=u&&e.subjectEl.classList.contains("fc-event-draggable")},r.handleDragStart=function(e){var t=r.component.context,n=r.eventRange,i=n.instance.instanceId;e.isTouch?i!==r.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:i}):t.dispatch({type:"UNSELECT_EVENT"}),r.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:r.subjectEl,event:new Mi(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi}))},r.handleHitUpdate=function(e,t){if(r.isDragging){var n=r.relevantEvents,i=r.hitDragging.initialHit,o=r.component.context,a=null,s=null,l=null,d=!1,c={affectedEvents:n,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(e){var u=(a=e.context).options;o===a||u.editable&&u.droppable?(s=function(e,t,n){var i=e.dateSpan,r=t.dateSpan,o=i.range.start,a=r.range.start,s={};i.allDay!==r.allDay&&(s.allDay=r.allDay,s.hasEnd=t.context.options.allDayMaintainDuration,r.allDay&&(o=lt(o)));var l=Yn(o,a,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);l.milliseconds&&(s.allDay=!1);for(var d={datesDelta:l,standardProps:s},c=0,u=n;c<u.length;c++)(0,u[c])(d,e,t);return d}(i,e,a.getCurrentData().pluginHooks.eventDragMutationMassagers))&&(l=Di(n,a.getCurrentData().eventUiBases,s,a),c.mutatedEvents=l,Ea(c,e.dateProfile,a)||(d=!0,s=null,l=null,c.mutatedEvents={defs:{},instances:{}})):a=null}r.displayDrag(a,c),d?Ue():Le(),t||(o===a&&Ps(i,e)&&(s=null),r.dragging.setMirrorNeedsRevert(!s),r.dragging.setMirrorIsVisible(!e||!Te(r.subjectEl).querySelector(".fc-event-mirror")),r.receivingContext=a,r.validMutation=s,r.mutatedRelevantEvents=l)}},r.handlePointerUp=function(){r.isDragging||r.cleanup()},r.handleDragEnd=function(e){if(r.isDragging){var t=r.component.context,n=t.viewApi,o=r,a=o.receivingContext,s=o.validMutation,l=r.eventRange.def,d=r.eventRange.instance,c=new Mi(t,l,d),u=r.relevantEvents,h=r.mutatedRelevantEvents,p=r.hitDragging.finalHit;if(r.clearDrag(),t.emitter.trigger("eventDragStop",{el:r.subjectEl,event:c,jsEvent:e.origEvent,view:n}),s){if(a===t){var f=new Mi(t,h.defs[l.defId],d?h.instances[d.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:h});for(var g={oldEvent:c,event:f,relatedEvents:Ri(h,t,d),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:u})}},v={},m=0,y=t.getCurrentData().pluginHooks.eventDropTransformers;m<y.length;m++){var D=y[m];i(v,D(s,t))}t.emitter.trigger("eventDrop",i(i(i({},g),v),{el:e.subjectEl,delta:s.datesDelta,jsEvent:e.origEvent,view:n})),t.emitter.trigger("eventChange",g)}else if(a){var b={event:c,relatedEvents:Ri(u,t,d),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:u})}};t.emitter.trigger("eventLeave",i(i({},b),{draggedEl:e.subjectEl,view:n})),t.dispatch({type:"REMOVE_EVENTS",eventStore:u}),t.emitter.trigger("eventRemove",b);var w=h.defs[l.defId],_=h.instances[d.instanceId],C=new Mi(a,w,_);a.dispatch({type:"MERGE_EVENTS",eventStore:h});var k={event:C,relatedEvents:Ri(h,a,_),revert:function(){a.dispatch({type:"REMOVE_EVENTS",eventStore:h})}};a.emitter.trigger("eventAdd",k),e.isTouch&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:d.instanceId}),a.emitter.trigger("drop",i(i({},Ns(p.dateSpan,a)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:p.context.viewApi})),a.emitter.trigger("eventReceive",i(i({},k),{draggedEl:e.subjectEl,view:p.context.viewApi}))}}else t.emitter.trigger("_noEventDrop")}r.cleanup()};var o=r.component.context.options,a=r.dragging=new xs(n.el);a.pointer.selector=t.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=o.dragScroll;var s=r.hitDragging=new Is(r.dragging,$o);return s.useSubjectCenter=n.useEventCenter,s.emitter.on("pointerdown",r.handlePointerDown),s.emitter.on("dragstart",r.handleDragStart),s.emitter.on("hitupdate",r.handleHitUpdate),s.emitter.on("pointerup",r.handlePointerUp),s.emitter.on("dragend",r.handleDragEnd),r}return n(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.displayDrag=function(e,t){var n=this.component.context,i=this.receivingContext;i&&i!==e&&(i===n?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},t.prototype.clearDrag=function(){var e=this.component.context,t=this.receivingContext;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})},t.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},t.SELECTOR=".fc-event-draggable, .fc-event-resizable",t}(Zo),Vs=function(e){function t(t){var n=e.call(this,t)||this;n.draggingSegEl=null,n.draggingSeg=null,n.eventRange=null,n.relevantEvents=null,n.validMutation=null,n.mutatedRelevantEvents=null,n.handlePointerDown=function(e){var t=n.component,i=$n(n.querySegEl(e)),r=n.eventRange=i.eventRange;n.dragging.minDistance=t.context.options.eventDragMinDistance,n.dragging.setIgnoreMove(!n.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&n.component.props.eventSelection!==r.instance.instanceId)},n.handleDragStart=function(e){var t=n.component.context,i=n.eventRange;n.relevantEvents=wn(t.getCurrentData().eventStore,n.eventRange.instance.instanceId);var r=n.querySegEl(e);n.draggingSegEl=r,n.draggingSeg=$n(r),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:r,event:new Mi(t,i.def,i.instance),jsEvent:e.origEvent,view:t.viewApi})},n.handleHitUpdate=function(e,t,i){var r=n.component.context,o=n.relevantEvents,a=n.hitDragging.initialHit,s=n.eventRange.instance,l=null,d=null,c=!1,u={affectedEvents:o,mutatedEvents:{defs:{},instances:{}},isEvent:!0};e&&(e.componentId===a.componentId&&n.isHitComboAllowed&&!n.isHitComboAllowed(a,e)||(l=function(e,t,n,i){var r=e.context.dateEnv,o=Yn(e.dateSpan.range.start,t.dateSpan.range.start,r,e.largeUnit);if(n){if(r.add(i.start,o)<i.end)return{startDelta:o}}else if(r.add(i.end,o)>i.start)return{endDelta:o};return null}(a,e,i.subjectEl.classList.contains("fc-event-resizer-start"),s.range))),l&&(d=Di(o,r.getCurrentData().eventUiBases,l,r),u.mutatedEvents=d,Ea(u,e.dateProfile,r)||(c=!0,l=null,d=null,u.mutatedEvents=null)),d?r.dispatch({type:"SET_EVENT_RESIZE",state:u}):r.dispatch({type:"UNSET_EVENT_RESIZE"}),c?Ue():Le(),t||(l&&Ps(a,e)&&(l=null),n.validMutation=l,n.mutatedRelevantEvents=d)},n.handleDragEnd=function(e){var t=n.component.context,r=n.eventRange.def,o=n.eventRange.instance,a=new Mi(t,r,o),s=n.relevantEvents,l=n.mutatedRelevantEvents;if(t.emitter.trigger("eventResizeStop",{el:n.draggingSegEl,event:a,jsEvent:e.origEvent,view:t.viewApi}),n.validMutation){var d=new Mi(t,l.defs[r.defId],o?l.instances[o.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:l});var c={oldEvent:a,event:d,relatedEvents:Ri(l,t,o),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:s})}};t.emitter.trigger("eventResize",i(i({},c),{el:n.draggingSegEl,startDelta:n.validMutation.startDelta||Nt(0),endDelta:n.validMutation.endDelta||Nt(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",c)}else t.emitter.trigger("_noEventResize");n.draggingSeg=null,n.relevantEvents=null,n.validMutation=null};var r=t.component,o=n.dragging=new xs(t.el);o.pointer.selector=".fc-event-resizer",o.touchScrollAllowed=!1,o.autoScroller.isEnabled=r.context.options.dragScroll;var a=n.hitDragging=new Is(n.dragging,Ko(t));return a.emitter.on("pointerdown",n.handlePointerDown),a.emitter.on("dragstart",n.handleDragStart),a.emitter.on("hitupdate",n.handleHitUpdate),a.emitter.on("dragend",n.handleDragEnd),n}return n(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.querySegEl=function(e){return be(e.subjectEl,".fc-event")},t}(Zo),Us=function(){function e(e){var t=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(e){e.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(e){var n=t.context.options.unselectCancel,i=Se(e.origEvent);t.matchesCancel=!!be(i,n),t.matchesEvent=!!be(i,As.SELECTOR)},this.onDocumentPointerUp=function(e){var n=t.context,i=t.documentPointer,r=n.getCurrentData();if(!i.wasTouchScroll){if(r.dateSelection&&!t.isRecentPointerDateSelect){var o=n.options.unselectAuto;!o||o&&t.matchesCancel||n.calendarApi.unselect(e)}r.eventSelection&&!t.matchesEvent&&n.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1};var n=this.documentPointer=new ws(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return e.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},e}(),Ls={fixedMirrorParent:yn},Ys={dateClick:yn,eventDragStart:yn,eventDragStop:yn,eventDrop:yn,eventResizeStart:yn,eventResizeStop:yn,eventResize:yn,drop:yn,eventReceive:yn,eventLeave:yn},Fs=function(){function e(e,t){var n=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(e){n.dragMeta=n.buildDragMeta(e.subjectEl)},this.handleHitUpdate=function(e,t,r){var o=n.hitDragging.dragging,a=null,s=null,l=!1,d={affectedEvents:{defs:{},instances:{}},mutatedEvents:{defs:{},instances:{}},isEvent:n.dragMeta.create};e&&(a=e.context,n.canDropElOnCalendar(r.subjectEl,a)&&(s=function(e,t,n){for(var r=i({},t.leftoverProps),o=0,a=n.pluginHooks.externalDefTransforms;o<a.length;o++){var s=a[o];i(r,s(e,t))}var l=Hn(r,n),d=An(l.refined,l.extra,t.sourceId,e.allDay,n.options.forceEventDuration||Boolean(t.duration),n),c=e.range.start;e.allDay&&t.startTime&&(c=n.dateEnv.add(c,t.startTime));var u=t.duration?n.dateEnv.add(c,t.duration):yi(e.allDay,c,n);return{def:d,instance:mt(d.defId,{start:c,end:u})}}(e.dateSpan,n.dragMeta,a),d.mutatedEvents=bn(s),(l=!Ea(d,e.dateProfile,a))&&(d.mutatedEvents={defs:{},instances:{}},s=null))),n.displayDrag(a,d),o.setMirrorIsVisible(t||!s||!document.querySelector(".fc-event-mirror")),l?Ue():Le(),t||(o.setMirrorNeedsRevert(!s),n.receivingContext=a,n.droppableEvent=s)},this.handleDragEnd=function(e){var t=n,r=t.receivingContext,o=t.droppableEvent;if(n.clearDrag(),r&&o){var a=n.hitDragging.finalHit,s=a.context.viewApi,l=n.dragMeta;if(r.emitter.trigger("drop",i(i({},Ns(a.dateSpan,r)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:s})),l.create){var d=bn(o);r.dispatch({type:"MERGE_EVENTS",eventStore:d}),e.isTouch&&r.dispatch({type:"SELECT_EVENT",eventInstanceId:o.instance.instanceId}),r.emitter.trigger("eventReceive",{event:new Mi(r,o.def,o.instance),relatedEvents:[],revert:function(){r.dispatch({type:"REMOVE_EVENTS",eventStore:d})},draggedEl:e.subjectEl,view:s})}}n.receivingContext=null,n.droppableEvent=null};var r=this.hitDragging=new Is(e,$o);r.requireInitial=!1,r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}return e.prototype.buildDragMeta=function(e){return"object"==typeof this.suppliedDragMeta?ta(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?ta(this.suppliedDragMeta(e)):ta((t=function(e,t){var n=Jo.dataAttrPrefix,i=(n?n+"-":"")+"event";return e.getAttribute("data-"+i)||""}(e))?JSON.parse(t):{create:!1});var t},e.prototype.displayDrag=function(e,t){var n=this.receivingContext;n&&n!==e&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},e.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.canDropElOnCalendar=function(e,t){var n=t.options.dropAccept;return"function"==typeof n?n.call(t.calendarApi,e):"string"!=typeof n||!n||Boolean(we(e,n))},e}();Jo.dataAttrPrefix="";var Ws=function(){function e(e,t){var n=this;void 0===t&&(t={}),this.handlePointerDown=function(e){var t=n.dragging,i=n.settings,r=i.minDistance,o=i.longPressDelay;t.minDistance=null!=r?r:e.isTouch?0:cn.eventDragMinDistance,t.delay=e.isTouch?null!=o?o:cn.longPressDelay:0},this.handleDragStart=function(e){e.isTouch&&n.dragging.delay&&e.subjectEl.classList.contains("fc-event")&&n.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=t;var i=this.dragging=new xs(e);i.touchScrollAllowed=!1,null!=t.itemSelector&&(i.pointer.selector=t.itemSelector),null!=t.appendTo&&(i.mirror.parentNode=t.appendTo),i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),new Fs(i,t.eventData)}return e.prototype.destroy=function(){this.dragging.destroy()},e}(),Bs=function(e){function t(t){var n=e.call(this,t)||this;n.shouldIgnoreMove=!1,n.mirrorSelector="",n.currentMirrorEl=null,n.handlePointerDown=function(e){n.emitter.trigger("pointerdown",e),n.shouldIgnoreMove||n.emitter.trigger("dragstart",e)},n.handlePointerMove=function(e){n.shouldIgnoreMove||n.emitter.trigger("dragmove",e)},n.handlePointerUp=function(e){n.emitter.trigger("pointerup",e),n.shouldIgnoreMove||n.emitter.trigger("dragend",e)};var i=n.pointer=new ws(t);return i.emitter.on("pointerdown",n.handlePointerDown),i.emitter.on("pointermove",n.handlePointerMove),i.emitter.on("pointerup",n.handlePointerUp),n}return n(t,e),t.prototype.destroy=function(){this.pointer.destroy()},t.prototype.setIgnoreMove=function(e){this.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){if(e)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var t=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;t&&(this.currentMirrorEl=t,t.style.visibility="hidden")}},t}(Qo),zs=function(){function e(e,t){var n=document;e===document||e instanceof Element?(n=e,t=t||{}):t=e||{};var i=this.dragging=new Bs(n);"string"==typeof t.itemSelector?i.pointer.selector=t.itemSelector:n===document&&(i.pointer.selector="[data-event]"),"string"==typeof t.mirrorSelector&&(i.mirrorSelector=t.mirrorSelector),new Fs(i,t.eventData)}return e.prototype.destroy=function(){this.dragging.destroy()},e}(),js=Fr({componentInteractions:[Hs,Os,As,Vs],calendarInteractions:[Us],elementDraggingImpl:xs,optionRefiners:Ls,listenerRefiners:Ys}),qs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.headerElRef=Sr(),t}return n(t,e),t.prototype.renderSimpleLayout=function(e,t){var n=this.props,i=this.context,r=[],o=Ga(i.options);return e&&r.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),kr(Qr,{viewSpec:i.viewSpec},(function(e,t){return kr("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},kr(Xa,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:r}))}))},t.prototype.renderHScrollLayout=function(e,t,n,i){var r=this.context.pluginHooks.scrollGridImpl;if(!r)throw new Error("No ScrollGrid implementation");var o=this.props,a=this.context,s=!o.forPrint&&Ga(a.options),l=!o.forPrint&&Za(a.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:s,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),l&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:qa}]}),kr(Qr,{viewSpec:a.viewSpec},(function(e,t){return kr("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},kr(r,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:n,minWidth:i}]}],sections:d}))}))},t}(Yr);function Gs(e,t){for(var n=[],i=0;i<t;i+=1)n[i]=[];for(var r=0,o=e;r<o.length;r++){var a=o[r];n[a.row].push(a)}return n}function Zs(e,t){for(var n=[],i=0;i<t;i+=1)n[i]=[];for(var r=0,o=e;r<o.length;r++){var a=o[r];n[a.firstCol].push(a)}return n}function Xs(e,t){var n=[];if(e){for(a=0;a<t;a+=1)n[a]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var i=0,r=e.segs;i<r.length;i++){var o=r[i];n[o.row].segs.push(o)}}else for(var a=0;a<t;a+=1)n[a]=null;return n}var Ks=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=ar(this.context,e.date);return kr(ts,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraHookProps:e.extraHookProps,defaultContent:$s},(function(n,r){return(r||e.forceDayTop)&&kr("div",{className:"fc-daygrid-day-top",ref:n},kr("a",i({id:e.dayNumberId,className:"fc-daygrid-day-number"},t),r||kr(Tr,null," ")))}))},t}(Ar);function $s(e){return e.dayNumberText}var Qs=ln({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Js(e){var t=e.eventRange.ui.display;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}var el=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props;return kr($a,i({},e,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Qs,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))},t}(Ar),tl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options.eventTimeFormat||Qs,r=oi(e.seg,n,t,!0,e.defaultDisplayEventEnd);return kr(Ka,{seg:e.seg,timeText:r,defaultContent:nl,isDragging:e.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:e.isSelected,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(n,r,o,a){return kr("a",i({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(r).join(" "),ref:n},di(e.seg,t)),a)}))},t}(Ar);function nl(e){return kr(Tr,null,kr("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&kr("div",{className:"fc-event-time"},e.timeText),kr("div",{className:"fc-event-title"},e.event.title||kr(Tr,null," ")))}var il=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.compileSegs=qt(rl),t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.compileSegs(e.singlePlacements),n=t.allSegs,r=t.invisibleSegs;return kr(us,{dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:function(){var t=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return kr(Tr,null,n.map((function(n){var r=n.eventRange.instance.instanceId;return kr("div",{className:"fc-daygrid-event-harness",key:r,style:{visibility:t[r]?"hidden":""}},Js(n)?kr(tl,i({seg:n,isDragging:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},ai(n,e.todayRange))):kr(el,i({seg:n,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},ai(n,e.todayRange))))})))}},(function(e,t,n,r,o,a,s,l){return kr("a",i({ref:e,className:["fc-daygrid-more-link"].concat(t).join(" "),title:a,"aria-expanded":s,"aria-controls":l},He(o)),r)}))},t}(Ar);function rl(e){for(var t=[],n=[],i=0,r=e;i<r.length;i++){var o=r[i];t.push(o.seg),o.isVisible||n.push(o.seg)}return{allSegs:t,invisibleSegs:n}}var ol=ln({week:"narrow"}),al=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=Sr(),t.state={dayNumberId:xe()},t.handleRootEl=function(e){Lr(t.rootElRef,e),Lr(t.props.elRef,e)},t}return n(t,e),t.prototype.render=function(){var e=this,t=e.context,n=e.props,r=e.state,o=e.rootElRef,a=n.date,s=n.dateProfile,l=ar(t,a,"week");return kr(is,{date:a,dateProfile:s,todayRange:n.todayRange,showDayNumber:n.showDayNumber,extraHookProps:n.extraHookProps,elRef:this.handleRootEl},(function(e,t,d,c){return kr("td",i({ref:e,role:"gridcell",className:["fc-daygrid-day"].concat(t,n.extraClassNames||[]).join(" ")},d,n.extraDataAttrs,n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),kr("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:n.innerElRef},n.showWeekNumber&&kr(ss,{date:a,defaultFormat:ol},(function(e,t,n,r){return kr("a",i({ref:e,className:["fc-daygrid-week-number"].concat(t).join(" ")},l),r)})),!c&&kr(Ks,{date:a,dateProfile:s,showDayNumber:n.showDayNumber,dayNumberId:r.dayNumberId,forceDayTop:n.forceDayTop,todayRange:n.todayRange,extraHookProps:n.extraHookProps}),kr("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,kr("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},kr(il,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:o,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),kr("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}))},t}(Yr);function sl(e,t,n,r){if(e.firstCol===t&&e.lastCol===n-1)return e;var o=e.eventRange,a=o.range,s=Bn(a,{start:r[t].date,end:tt(r[n-1].date,1)});return i(i({},e),{firstCol:t,lastCol:n-1,eventRange:{def:o.def,ui:i(i({},o.ui),{durationEditable:!1}),instance:o.instance,range:s},isStart:e.isStart&&s.start.valueOf()===a.start.valueOf(),isEnd:e.isEnd&&s.end.valueOf()===a.end.valueOf()})}var ll=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hiddenConsumes=!1,t.forceHidden={},t}return n(t,e),t.prototype.addSegs=function(t){for(var n=this,i=e.prototype.addSegs.call(this,t),r=this.entriesByLevel,o=function(e){return!n.forceHidden[Wo(e)]},a=0;a<r.length;a+=1)r[a]=r[a].filter(o);return i},t.prototype.handleInvalidInsertion=function(t,n,r){var o=this.entriesByLevel,a=this.forceHidden,s=t.touchingEntry,l=t.touchingLevel,d=t.touchingLateral;if(this.hiddenConsumes&&s){var c=Wo(s);if(!a[c])if(this.allowReslicing){var u=i(i({},s),{span:jo(s.span,n.span)});a[Wo(u)]=!0,o[l][d]=u,this.splitEntry(s,n,r)}else a[c]=!0,r.push(s)}return e.prototype.handleInvalidInsertion.call(this,t,n,r)},t}(Yo),dl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellElRefs=new Oa,t.frameElRefs=new Oa,t.fgElRefs=new Oa,t.segHarnessRefs=new Oa,t.rootElRef=Sr(),t.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},t}return n(t,e),t.prototype.render=function(){var e=this,t=this,n=t.props,i=t.state,r=t.context.options,o=n.cells.length,a=Zs(n.businessHourSegs,o),s=Zs(n.bgEventSegs,o),l=Zs(this.getHighlightSegs(),o),d=Zs(this.getMirrorSegs(),o),c=function(e,t,n,i,r,o,a){var s=new ll;s.allowReslicing=!0,s.strictOrder=i,!0===t||!0===n?(s.maxCoord=o,s.hiddenConsumes=!0):"number"==typeof t?s.maxStackCnt=t:"number"==typeof n&&(s.maxStackCnt=n,s.hiddenConsumes=!0);for(var l=[],d=[],c=0;c<e.length;c+=1){var u=r[(E=e[c]).eventRange.instance.instanceId];null!=u?l.push({index:c,thickness:u,span:{start:E.firstCol,end:E.lastCol+1}}):d.push(E)}for(var h=s.addSegs(l),p=function(e,t,n){for(var i=function(e,t){for(var n=[],i=0;i<t;i+=1)n.push([]);for(var r=0,o=e;r<o.length;r++){var a=o[r];for(i=a.span.start;i<a.span.end;i+=1)n[i].push(a)}return n}(e,n.length),r=[],o=[],a=[],s=0;s<n.length;s+=1){for(var l=i[s],d=[],c=0,u=0,h=0,p=l;h<p.length;h++){var f=t[(y=p[h]).index];d.push({seg:sl(f,s,s+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:y.levelCoord,marginTop:y.levelCoord-c}),c=y.levelCoord+y.thickness}var g=[];c=0,u=0;for(var v=0,m=l;v<m.length;v++){f=t[(y=m[v]).index];var y,D=y.span.end-y.span.start>1,b=y.span.start===s;u+=y.levelCoord-c,c=y.levelCoord+y.thickness,D?(u+=y.thickness,b&&g.push({seg:sl(f,y.span.start,y.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:y.levelCoord,marginTop:0})):b&&(g.push({seg:sl(f,y.span.start,y.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:y.levelCoord,marginTop:u}),u=0)}r.push(d),o.push(g),a.push(u)}return{singleColPlacements:r,multiColPlacements:o,leftoverMargins:a}}(s.toRects(),e,a),f=p.singleColPlacements,g=p.multiColPlacements,v=p.leftoverMargins,m=[],y=[],D=0,b=d;D<b.length;D++){g[(E=b[D]).firstCol].push({seg:E,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var w=E.firstCol;w<=E.lastCol;w+=1)f[w].push({seg:sl(E,w,w+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(w=0;w<a.length;w+=1)m.push(0);for(var _=0,C=h;_<C.length;_++){var k=C[_],E=e[k.index],S=k.span;for(g[S.start].push({seg:sl(E,S.start,S.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0}),w=S.start;w<S.end;w+=1)m[w]+=1,f[w].push({seg:sl(E,w,w+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(w=0;w<a.length;w+=1)y.push(v[w]);return{singleColPlacements:f,multiColPlacements:g,moreCnts:m,moreMarginTops:y}}(ei(n.fgEventSegs,r.eventOrder),n.dayMaxEvents,n.dayMaxEventRows,r.eventOrderStrict,i.eventInstanceHeights,i.maxContentHeight,n.cells),u=c.singleColPlacements,h=c.multiColPlacements,p=c.moreCnts,f=c.moreMarginTops,g=n.eventDrag&&n.eventDrag.affectedInstances||n.eventResize&&n.eventResize.affectedInstances||{};return kr("tr",{ref:this.rootElRef,role:"row"},n.renderIntro&&n.renderIntro(),n.cells.map((function(t,i){var r=e.renderFgSegs(i,n.forPrint?u[i]:h[i],n.todayRange,g),o=e.renderFgSegs(i,function(e,t){if(!e.length)return[];var n=function(e){for(var t={},n=0,i=e;n<i.length;n++)for(var r=0,o=i[n];r<o.length;r++){var a=o[r];t[a.seg.eventRange.instance.instanceId]=a.absoluteTop}return t}(t);return e.map((function(e){return{seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0}}))}(d[i],h),n.todayRange,{},Boolean(n.eventDrag),Boolean(n.eventResize),!1);return kr(al,{key:t.key,elRef:e.cellElRefs.createRef(t.key),innerElRef:e.frameElRefs.createRef(t.key),dateProfile:n.dateProfile,date:t.date,showDayNumber:n.showDayNumbers,showWeekNumber:n.showWeekNumbers&&0===i,forceDayTop:n.showWeekNumbers,todayRange:n.todayRange,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,extraHookProps:t.extraHookProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:p[i],moreMarginTop:f[i],singlePlacements:u[i],fgContentElRef:e.fgElRefs.createRef(t.key),fgContent:kr(Tr,null,kr(Tr,null,r),kr(Tr,null,o)),bgContent:kr(Tr,null,e.renderFillSegs(l[i],"highlight"),e.renderFillSegs(a[i],"non-business"),e.renderFillSegs(s[i],"bg-event"))})})))},t.prototype.componentDidMount=function(){this.updateSizing(!0)},t.prototype.componentDidUpdate=function(e,t){var n=this.props;this.updateSizing(!kt(e,n))},t.prototype.getHighlightSegs=function(){var e=this.props;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs},t.prototype.getMirrorSegs=function(){var e=this.props;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]},t.prototype.renderFgSegs=function(e,t,n,r,o,a,s){var l=this.context,d=this.props.eventSelection,c=this.state.framePositions,u=1===this.props.cells.length,h=o||a||s,p=[];if(c)for(var f=0,g=t;f<g.length;f++){var v=g[f],m=v.seg,y=m.eventRange.instance.instanceId,D=y+":"+e,b=v.isVisible&&!r[y],w=v.isAbsolute,_="",C="";w&&(l.isRtl?(C=0,_=c.lefts[m.lastCol]-c.lefts[m.firstCol]):(_=0,C=c.rights[m.firstCol]-c.rights[m.lastCol])),p.push(kr("div",{className:"fc-daygrid-event-harness"+(w?" fc-daygrid-event-harness-abs":""),key:D,ref:h?null:this.segHarnessRefs.createRef(D),style:{visibility:b?"":"hidden",marginTop:w?"":v.marginTop,top:w?v.absoluteTop:"",left:_,right:C}},Js(m)?kr(tl,i({seg:m,isDragging:o,isSelected:y===d,defaultDisplayEventEnd:u},ai(m,n))):kr(el,i({seg:m,isDragging:o,isResizing:a,isDateSelecting:s,isSelected:y===d,defaultDisplayEventEnd:u},ai(m,n)))))}return p},t.prototype.renderFillSegs=function(e,t){var n=this.context.isRtl,o=this.props.todayRange,a=this.state.framePositions,s=[];if(a)for(var l=0,d=e;l<d.length;l++){var c=d[l],u=n?{right:0,left:a.lefts[c.lastCol]-a.lefts[c.firstCol]}:{left:0,right:a.rights[c.firstCol]-a.rights[c.lastCol]};s.push(kr("div",{key:li(c.eventRange),className:"fc-daygrid-bg-harness",style:u},"bg-event"===t?kr(os,i({seg:c},ai(c,o))):rs(t)))}return kr.apply(void 0,r([Tr,{}],s))},t.prototype.updateSizing=function(e){var t=this.props,n=this.frameElRefs;if(!t.forPrint&&null!==t.clientWidth){if(e){var r=t.cells.map((function(e){return n.currentMap[e.key]}));if(r.length){var o=this.rootElRef.current;this.setState({framePositions:new yr(o,r,!0,!1)})}}var a=this.state.eventInstanceHeights,s=this.queryEventInstanceHeights(),l=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.setState({eventInstanceHeights:i(i({},a),s),maxContentHeight:l?this.computeMaxContentHeight():null})}},t.prototype.queryEventInstanceHeights=function(){var e=this.segHarnessRefs.currentMap,t={};for(var n in e){var i=Math.round(e[n].getBoundingClientRect().height),r=n.split(":")[0];t[r]=Math.max(t[r]||0,i)}return t},t.prototype.computeMaxContentHeight=function(){var e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top},t.prototype.getCellEls=function(){var e=this.cellElRefs.currentMap;return this.props.cells.map((function(t){return e[t.key]}))},t}(Yr);dl.addStateEquality({eventInstanceHeights:kt});var cl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitBusinessHourSegs=qt(Gs),t.splitBgEventSegs=qt(Gs),t.splitFgEventSegs=qt(Gs),t.splitDateSelectionSegs=qt(Gs),t.splitEventDrag=qt(Xs),t.splitEventResize=qt(Xs),t.rowRefs=new Oa,t.handleRootEl=function(e){t.rootEl=e,e?t.context.registerInteractiveComponent(t,{el:e,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.dateProfile,i=t.dayMaxEventRows,r=t.dayMaxEvents,o=t.expandRows,a=t.cells.length,s=this.splitBusinessHourSegs(t.businessHourSegs,a),l=this.splitBgEventSegs(t.bgEventSegs,a),d=this.splitFgEventSegs(t.fgEventSegs,a),c=this.splitDateSelectionSegs(t.dateSelectionSegs,a),u=this.splitEventDrag(t.eventDrag,a),h=this.splitEventResize(t.eventResize,a),p=!0===r||!0===i;return p&&!o&&(p=!1,i=null,r=null),kr("div",{className:["fc-daygrid-body",p?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",o?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},kr(ma,{unit:"day"},(function(p,f){return kr(Tr,null,kr("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:o?t.clientHeight:""}},t.colGroupNode,kr("tbody",{role:"presentation"},t.cells.map((function(o,p){return kr(dl,{ref:e.rowRefs.createRef(p),key:o.length?o[0].date.toISOString():p,showDayNumbers:a>1,showWeekNumbers:t.showWeekNumbers,todayRange:f,dateProfile:n,cells:o,renderIntro:t.renderRowIntro,businessHourSegs:s[p],eventSelection:t.eventSelection,bgEventSegs:l[p].filter(ul),fgEventSegs:d[p],dateSelectionSegs:c[p],eventDrag:u[p],eventResize:h[p],dayMaxEvents:r,dayMaxEventRows:i,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint})})))))})))},t.prototype.prepareHits=function(){this.rowPositions=new yr(this.rootEl,this.rowRefs.collect().map((function(e){return e.getCellEls()[0]})),!1,!0),this.colPositions=new yr(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},t.prototype.queryHit=function(e,t){var n=this.colPositions,r=this.rowPositions,o=n.leftToIndex(e),a=r.topToIndex(t);if(null!=a&&null!=o){var s=this.props.cells[a][o];return{dateProfile:this.props.dateProfile,dateSpan:i({range:this.getCellRange(a,o),allDay:!0},s.extraDateSpan),dayEl:this.getCellEl(a,o),rect:{left:n.lefts[o],right:n.rights[o],top:r.tops[a],bottom:r.bottoms[a]},layer:0}}return null},t.prototype.getCellEl=function(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]},t.prototype.getCellRange=function(e,t){var n=this.props.cells[e][t].date;return{start:n,end:tt(n,1)}},t}(Yr);function ul(e){return e.eventRange.def.allDay}var hl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return n(t,e),t.prototype.sliceRange=function(e,t){return t.sliceRange(e)},t}(Ca),pl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.slicer=new hl,t.tableRef=Sr(),t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context;return kr(cl,i({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))},t}(Yr),fl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayTableModel=qt(gl),t.headerRef=Sr(),t.tableRef=Sr(),t}return n(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,i=t.dateProfileGenerator,r=this.props,o=this.buildDayTableModel(r.dateProfile,i),a=n.dayHeaders&&kr(Da,{ref:this.headerRef,dateProfile:r.dateProfile,dates:o.headerDates,datesRepDistinctDays:1===o.rowCnt}),s=function(t){return kr(pl,{ref:e.tableRef,dateProfile:r.dateProfile,dayTableModel:o,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:n.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:n.dayMaxEvents,dayMaxEventRows:n.dayMaxEventRows,showWeekNumbers:n.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:r.forPrint})};return n.dayMinWidth?this.renderHScrollLayout(a,s,o.colCnt,n.dayMinWidth):this.renderSimpleLayout(a,s)},t}(qs);function gl(e,t){var n=new wa(e.renderRange,t);return new _a(n,/year|month|week/.test(e.currentRangeUnit))}var vl=Fr({initialView:"dayGridMonth",views:{dayGrid:{component:fl,dateProfileGeneratorClass:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.buildRenderRange=function(t,n,i){var r,o=this.props.dateEnv,a=e.prototype.buildRenderRange.call(this,t,n,i),s=a.start,l=a.end;return/^(year|month)$/.test(n)&&(s=o.startOfWeek(s),(r=o.startOfWeek(l)).valueOf()!==l.valueOf()&&(l=et(r,1))),this.props.monthMode&&this.props.fixedWeekCount&&(l=et(l,6-Math.ceil(it(s,l)))),{start:s,end:l}},t}(io)},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}}),ml=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},t.prototype.getKeysForDateSpan=function(e){return e.allDay?["allDay"]:["timed"]},t.prototype.getKeysForEventDef=function(e){return e.allDay?Xn(e)?["timed","allDay"]:["allDay"]:["timed"]},t}(er),yl=ln({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Dl(e){var t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return kr(Nr.Consumer,null,(function(n){if(!e.isLabeled)return kr("td",{className:t.join(" "),"data-time":e.isoTimeStr});var i=n.dateEnv,r=n.options,o=n.viewApi,a=null==r.slotLabelFormat?yl:Array.isArray(r.slotLabelFormat)?ln(r.slotLabelFormat[0]):ln(r.slotLabelFormat),s={level:0,time:e.time,date:i.toDate(e.date),view:o,text:i.format(e.date,a)};return kr(zr,{hookProps:s,classNames:r.slotLabelClassNames,content:r.slotLabelContent,defaultContent:bl,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},(function(n,i,r,o){return kr("td",{ref:n,className:t.concat(i).join(" "),"data-time":e.isoTimeStr},kr("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},kr("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:r},o)))}))}))}function bl(e){return e.text}var wl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return this.props.slatMetas.map((function(e){return kr("tr",{key:e.key},kr(Dl,i({},e)))}))},t}(Ar),_l=ln({week:"short"}),Cl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allDaySplitter=new ml,t.headerElRef=Sr(),t.rootElRef=Sr(),t.scrollerElRef=Sr(),t.state={slatCoords:null},t.handleScrollTopRequest=function(e){var n=t.scrollerElRef.current;n&&(n.scrollTop=e)},t.renderHeadAxis=function(e,n){void 0===n&&(n="");var r=t.context.options,o=t.props.dateProfile.renderRange,a=1===rt(o.start,o.end)?ar(t.context,o.start,"week"):{};return r.weekNumbers&&"day"===e?kr(ss,{date:o.start,defaultFormat:_l},(function(e,t,r,o){return kr("th",{ref:e,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(t).join(" ")},kr("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:n}},kr("a",i({ref:r,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},a),o)))})):kr("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},kr("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},t.renderTableRowAxis=function(e){var n=t.context,i=n.options,r=n.viewApi,o={text:i.allDayText,view:r};return kr(zr,{hookProps:o,classNames:i.allDayClassNames,content:i.allDayContent,defaultContent:kl,didMount:i.allDayDidMount,willUnmount:i.allDayWillUnmount},(function(t,n,i,r){return kr("td",{ref:t,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(n).join(" ")},kr("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(null==e?" fc-timegrid-axis-frame-liquid":""),style:{height:e}},kr("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:i},r)))}))},t.handleSlatCoords=function(e){t.setState({slatCoords:e})},t}return n(t,e),t.prototype.renderSimpleLayout=function(e,t,n){var i=this.context,r=this.props,o=[],a=Ga(i.options);return e&&o.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(o.push({type:"body",key:"all-day",chunk:{content:t}}),o.push({type:"body",key:"all-day-divider",outerContent:kr("tr",{role:"presentation",className:"fc-scrollgrid-section"},kr("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(i.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),kr(Qr,{viewSpec:i.viewSpec,elRef:this.rootElRef},(function(e,t){return kr("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},kr(Xa,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[{width:"shrink"}],sections:o}))}))},t.prototype.renderHScrollLayout=function(e,t,n,i,r,o,a){var s=this,l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");var d=this.context,c=this.props,u=!c.forPrint&&Ga(d.options),h=!c.forPrint&&Za(d.options),p=[];e&&p.push({type:"header",key:"header",isSticky:u,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return kr("tr",{role:"presentation"},s.renderHeadAxis("day",e.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(p.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return kr("tr",{role:"presentation"},s.renderTableRowAxis(e.rowSyncHeights[0]))}},{key:"cols",content:t}]}),p.push({key:"all-day-divider",type:"body",outerContent:kr("tr",{role:"presentation",className:"fc-scrollgrid-section"},kr("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));var f=d.options.nowIndicator;return p.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(d.options.expandRows),chunks:[{key:"axis",content:function(e){return kr("div",{className:"fc-timegrid-axis-chunk"},kr("table",{"aria-hidden":!0,style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,kr("tbody",null,kr(wl,{slatMetas:o}))),kr("div",{className:"fc-timegrid-now-indicator-container"},kr(ma,{unit:f?"minute":"day"},(function(e){var t=f&&a&&a.safeComputeTop(e);return"number"==typeof t?kr(Ja,{isAxis:!0,date:e},(function(e,n,i,r){return kr("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(n).join(" "),style:{top:t}},r)})):null}))))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),h&&p.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:qa},{key:"cols",content:qa}]}),kr(Qr,{viewSpec:d.viewSpec,elRef:this.rootElRef},(function(e,t){return kr("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},kr(l,{liquid:!c.isHeightAuto&&!c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:r}]}],sections:p}))}))},t.prototype.getAllDayMaxEventProps=function(){var e=this.context.options,t=e.dayMaxEvents,n=e.dayMaxEventRows;return!0!==t&&!0!==n||(t=void 0,n=5),{dayMaxEvents:t,dayMaxEventRows:n}},t}(Yr);function kl(e){return e.text}var El=function(){function e(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}return e.prototype.safeComputeTop=function(e){var t=this.dateProfile;if(Gn(t.currentRange,e)){var n=lt(e),i=e.valueOf()-n.valueOf();if(i>=Ut(t.slotMinTime)&&i<Ut(t.slotMaxTime))return this.computeTimeTop(Nt(i))}return null},e.prototype.computeDateTop=function(e,t){return t||(t=lt(e)),this.computeTimeTop(Nt(e.valueOf()-t.valueOf()))},e.prototype.computeTimeTop=function(e){var t,n,i=this.positions,r=this.dateProfile,o=i.els.length,a=(e.milliseconds-Ut(r.slotMinTime))/Ut(this.slotDuration);return a=Math.max(0,a),a=Math.min(o,a),t=Math.floor(a),n=a-(t=Math.min(t,o-1)),i.tops[t]+i.getHeight(t)*n},e}(),Sl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,r=e.slatElRefs;return kr("tbody",null,e.slatMetas.map((function(o,a){var s={time:o.time,date:t.dateEnv.toDate(o.date),view:t.viewApi},l=["fc-timegrid-slot","fc-timegrid-slot-lane",o.isLabeled?"":"fc-timegrid-slot-minor"];return kr("tr",{key:o.key,ref:r.createRef(o.key)},e.axis&&kr(Dl,i({},o)),kr(zr,{hookProps:s,classNames:n.slotLaneClassNames,content:n.slotLaneContent,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount},(function(e,t,n,i){return kr("td",{ref:e,className:l.concat(t).join(" "),"data-time":o.isoTimeStr},i)})))})))},t}(Ar),Tl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=Sr(),t.slatElRefs=new Oa,t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context;return kr("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},kr("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,kr(Sl,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))},t.prototype.componentDidMount=function(){this.updateSizing()},t.prototype.componentDidUpdate=function(){this.updateSizing()},t.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},t.prototype.updateSizing=function(){var e,t=this.context,n=this.props;n.onCoords&&null!==n.clientWidth&&this.rootElRef.current.offsetHeight&&n.onCoords(new El(new yr(this.rootElRef.current,(e=this.slatElRefs.currentMap,n.slatMetas.map((function(t){return e[t.key]}))),!1,!0),this.props.dateProfile,t.options.slotDuration))},t}(Ar);function Ml(e,t){var n,i=[];for(n=0;n<t;n+=1)i.push([]);if(e)for(n=0;n<e.length;n+=1)i[e[n].col].push(e[n]);return i}function xl(e,t){var n=[];if(e){for(a=0;a<t;a+=1)n[a]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var i=0,r=e.segs;i<r.length;i++){var o=r[i];n[o.col].segs.push(o)}}else for(var a=0;a<t;a+=1)n[a]=null;return n}var Rl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=Sr(),t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props;return kr(us,{allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:Il,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:function(){return Wl(t.hiddenSegs,t)}},(function(n,i,r,o,a,s,l,d){return kr("a",{ref:function(t){Lr(n,t),Lr(e.rootElRef,t)},className:["fc-timegrid-more-link"].concat(i).join(" "),style:{top:t.top,bottom:t.bottom},onClick:a,title:s,"aria-expanded":l,"aria-controls":d},kr("div",{ref:r,className:"fc-timegrid-more-link-inner fc-sticky"},o))}))},t}(Ar);function Il(e){return e.shortText}function Pl(e,t,n){var r=new Yo;null!=t&&(r.strictOrder=t),null!=n&&(r.maxStackCnt=n);var o,a,s=Bo(r.addSegs(e)),l=function(e){var t=e.entriesByLevel,n=Al((function(e,t){return e+":"+t}),(function(r,o){var a=Nl(function(e,t,n){for(var i=e.levelCoords,r=e.entriesByLevel,o=r[t][n],a=i[t]+o.thickness,s=i.length,l=t;l<s&&i[l]<a;l+=1);for(;l<s;l+=1){for(var d=r[l],c=void 0,u=Go(d,o.span.start,Fo),h=u[0]+u[1],p=h;(c=d[p])&&c.span.start<o.span.end;)p+=1;if(h<p)return{level:l,lateralStart:h,lateralEnd:p}}return null}(e,r,o),n),s=t[r][o];return[i(i({},s),{nextLevelNodes:a[0]}),s.thickness+a[1]]}));return Nl(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}(r);return o=l,1,a=Al((function(e,t,n){return Wo(e)}),(function(e,t,n){var r,o=e.nextLevelNodes,s=e.thickness,l=s+n,d=s/l,c=[];if(o.length)for(var u=0,h=o;u<h.length;u++){var p=h[u];if(void 0===r)r=(f=a(p,t,l))[0],c.push(f[1]);else{var f=a(p,r,0);c.push(f[1])}}else r=1;var g=(r-t)*d;return[r-g,i(i({},e),{thickness:g,nextLevelNodes:c})]})),{segRects:function(e){var t=[],n=Al((function(e,t,n){return Wo(e)}),(function(e,n,o){var a=i(i({},e),{levelCoord:n,stackDepth:o,stackForward:0});return t.push(a),a.stackForward=r(e.nextLevelNodes,n+e.thickness,o+1)+1}));function r(e,t,i){for(var r=0,o=0,a=e;o<a.length;o++){var s=a[o];r=Math.max(n(s,t,i),r)}return r}return r(e,0,0),t}(l=o.map((function(e){return a(e,0,0)[1]}))),hiddenGroups:s}}function Nl(e,t){if(!e)return[[],0];for(var n=e.level,i=e.lateralStart,r=e.lateralEnd,o=i,a=[];o<r;)a.push(t(n,o)),o+=1;return a.sort(Hl),[a.map(Ol),a[0][1]]}function Hl(e,t){return t[1]-e[1]}function Ol(e){return e[0]}function Al(e,t){var n={};return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e.apply(void 0,i);return o in n?n[o]:n[o]=t.apply(void 0,i)}}function Vl(e,t,n,i){void 0===n&&(n=null),void 0===i&&(i=0);var r=[];if(n)for(var o=0;o<e.length;o+=1){var a=e[o],s=n.computeDateTop(a.start,t),l=Math.max(s+(i||0),n.computeDateTop(a.end,t));r.push({start:Math.round(s),end:Math.round(l)})}return r}var Ul=ln({hour:"numeric",minute:"2-digit",meridiem:!1}),Ll=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=["fc-timegrid-event","fc-v-event"];return this.props.isShort&&e.push("fc-timegrid-event-short"),kr($a,i({},this.props,{defaultTimeFormat:Ul,extraClassNames:e}))},t}(Ar),Yl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props;return kr(ts,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraHookProps:e.extraHookProps},(function(e,t){return t&&kr("div",{className:"fc-timegrid-col-misc",ref:e},t)}))},t}(Ar),Fl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortEventSegs=qt(ei),t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context,r=n.options.selectMirror,o=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||r&&t.dateSelectionSegs||[],a=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},s=this.sortEventSegs(t.fgEventSegs,n.options.eventOrder);return kr(is,{elRef:t.elRef,date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps},(function(n,l,d){return kr("td",i({ref:n,role:"gridcell",className:["fc-timegrid-col"].concat(l,t.extraClassNames||[]).join(" ")},d,t.extraDataAttrs),kr("div",{className:"fc-timegrid-col-frame"},kr("div",{className:"fc-timegrid-col-bg"},e.renderFillSegs(t.businessHourSegs,"non-business"),e.renderFillSegs(t.bgEventSegs,"bg-event"),e.renderFillSegs(t.dateSelectionSegs,"highlight")),kr("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(s,a,!1,!1,!1)),kr("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(o,{},Boolean(t.eventDrag),Boolean(t.eventResize),Boolean(r))),kr("div",{className:"fc-timegrid-now-indicator-container"},e.renderNowIndicator(t.nowIndicatorSegs)),kr(Yl,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps})))}))},t.prototype.renderFgSegs=function(e,t,n,i,r){var o=this.props;return o.forPrint?Wl(e,o):this.renderPositionedFgSegs(e,t,n,i,r)},t.prototype.renderPositionedFgSegs=function(e,t,n,r,o){var a=this,s=this.context.options,l=s.eventMaxStack,d=s.eventShortHeight,c=s.eventOrderStrict,u=s.eventMinHeight,h=this.props,p=h.date,f=h.slatCoords,g=h.eventSelection,v=h.todayRange,m=h.nowDate,y=n||r||o,D=function(e,t,n,i){for(var r=[],o=[],a=0;a<e.length;a+=1){var s=t[a];s?r.push({index:a,thickness:1,span:s}):o.push(e[a])}for(var l=Pl(r,n,i),d=l.segRects,c=l.hiddenGroups,u=[],h=0,p=d;h<p.length;h++){var f=p[h];u.push({seg:e[f.index],rect:f})}for(var g=0,v=o;g<v.length;g++){var m=v[g];u.push({seg:m,rect:null})}return{segPlacements:u,hiddenGroups:c}}(e,Vl(e,p,f,u),c,l),b=D.segPlacements,w=D.hiddenGroups;return kr(Tr,null,this.renderHiddenGroups(w,e),b.map((function(e){var s=e.seg,l=e.rect,c=s.eventRange.instance.instanceId,u=y||Boolean(!t[c]&&l),h=Bl(l&&l.span),p=!y&&l?a.computeSegHStyle(l):{left:0,right:0},f=Boolean(l)&&l.stackForward>0,D=Boolean(l)&&l.span.end-l.span.start<d;return kr("div",{className:"fc-timegrid-event-harness"+(f?" fc-timegrid-event-harness-inset":""),key:c,style:i(i({visibility:u?"":"hidden"},h),p)},kr(Ll,i({seg:s,isDragging:n,isResizing:r,isDateSelecting:o,isSelected:c===g,isShort:D},ai(s,v,m))))})))},t.prototype.renderHiddenGroups=function(e,t){var n=this.props,i=n.extraDateSpan,r=n.dateProfile,o=n.todayRange,a=n.nowDate,s=n.eventSelection,l=n.eventDrag,d=n.eventResize;return kr(Tr,null,e.map((function(e){var n,c,u=Bl(e.span),h=(n=e.entries,c=t,n.map((function(e){return c[e.index]})));return kr(Rl,{key:Ft(fs(h)),hiddenSegs:h,top:u.top,bottom:u.bottom,extraDateSpan:i,dateProfile:r,todayRange:o,nowDate:a,eventSelection:s,eventDrag:l,eventResize:d})})))},t.prototype.renderFillSegs=function(e,t){var n=this.props,r=this.context,o=Vl(e,n.date,n.slatCoords,r.options.eventMinHeight).map((function(r,o){var a=e[o];return kr("div",{key:li(a.eventRange),className:"fc-timegrid-bg-harness",style:Bl(r)},"bg-event"===t?kr(os,i({seg:a},ai(a,n.todayRange,n.nowDate))):rs(t))}));return kr(Tr,null,o)},t.prototype.renderNowIndicator=function(e){var t=this.props,n=t.slatCoords,i=t.date;return n?e.map((function(e,t){return kr(Ja,{isAxis:!1,date:i,key:t},(function(t,r,o,a){return kr("div",{ref:t,className:["fc-timegrid-now-indicator-line"].concat(r).join(" "),style:{top:n.computeDateTop(e.start,i)}},a)}))})):null},t.prototype.computeSegHStyle=function(e){var t,n,i=this.context,r=i.isRtl,o=i.options.slotEventOverlap,a=e.levelCoord,s=e.levelCoord+e.thickness;o&&(s=Math.min(1,a+2*(s-a))),r?(t=1-s,n=a):(t=a,n=1-s);var l={zIndex:e.stackDepth+1,left:100*t+"%",right:100*n+"%"};return o&&!e.stackForward&&(l[r?"marginLeft":"marginRight"]=20),l},t}(Ar);function Wl(e,t){var n=t.todayRange,r=t.nowDate,o=t.eventSelection,a=t.eventDrag,s=t.eventResize,l=(a?a.affectedInstances:null)||(s?s.affectedInstances:null)||{};return kr(Tr,null,e.map((function(e){var t=e.eventRange.instance.instanceId;return kr("div",{key:t,style:{visibility:l[t]?"hidden":""}},kr(Ll,i({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:t===o,isShort:!1},ai(e,n,r))))})))}function Bl(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}var zl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitFgEventSegs=qt(Ml),t.splitBgEventSegs=qt(Ml),t.splitBusinessHourSegs=qt(Ml),t.splitNowIndicatorSegs=qt(Ml),t.splitDateSelectionSegs=qt(Ml),t.splitEventDrag=qt(xl),t.splitEventResize=qt(xl),t.rootElRef=Sr(),t.cellElRefs=new Oa,t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),i=t.cells.length,r=this.splitFgEventSegs(t.fgEventSegs,i),o=this.splitBgEventSegs(t.bgEventSegs,i),a=this.splitBusinessHourSegs(t.businessHourSegs,i),s=this.splitNowIndicatorSegs(t.nowIndicatorSegs,i),l=this.splitDateSelectionSegs(t.dateSelectionSegs,i),d=this.splitEventDrag(t.eventDrag,i),c=this.splitEventResize(t.eventResize,i);return kr("div",{className:"fc-timegrid-cols",ref:this.rootElRef},kr("table",{role:"presentation",style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,kr("tbody",{role:"presentation"},kr("tr",{role:"row"},t.axis&&kr("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},kr("div",{className:"fc-timegrid-col-frame"},kr("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof n&&kr(Ja,{isAxis:!0,date:t.nowDate},(function(e,t,i,r){return kr("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(t).join(" "),style:{top:n}},r)}))))),t.cells.map((function(n,i){return kr(Fl,{key:n.key,elRef:e.cellElRefs.createRef(n.key),dateProfile:t.dateProfile,date:n.date,nowDate:t.nowDate,todayRange:t.todayRange,extraHookProps:n.extraHookProps,extraDataAttrs:n.extraDataAttrs,extraClassNames:n.extraClassNames,extraDateSpan:n.extraDateSpan,fgEventSegs:r[i],bgEventSegs:o[i],businessHourSegs:a[i],nowIndicatorSegs:s[i],dateSelectionSegs:l[i],eventDrag:d[i],eventResize:c[i],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint})}))))))},t.prototype.componentDidMount=function(){this.updateCoords()},t.prototype.componentDidUpdate=function(){this.updateCoords()},t.prototype.updateCoords=function(){var e,t=this.props;t.onColCoords&&null!==t.clientWidth&&t.onColCoords(new yr(this.rootElRef.current,(e=this.cellElRefs.currentMap,t.cells.map((function(t){return e[t.key]}))),!0,!1))},t}(Ar),jl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processSlotOptions=qt(ql),t.state={slatCoords:null},t.handleRootEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t.handleScrollRequest=function(e){var n=t.props.onScrollTopRequest,i=t.state.slatCoords;if(n&&i){if(e.time){var r=i.computeTimeTop(e.time);(r=Math.ceil(r))&&(r+=1),n(r)}return!0}return!1},t.handleColCoords=function(e){t.colCoords=e},t.handleSlatCoords=function(e){t.setState({slatCoords:e}),t.props.onSlatCoords&&t.props.onSlatCoords(e)},t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.state;return kr("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},kr(Tl,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),kr(zl,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))},t.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},t.prototype.componentDidUpdate=function(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)},t.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},t.prototype.queryHit=function(e,t){var n=this.context,r=n.dateEnv,o=n.options,a=this.colCoords,s=this.props.dateProfile,l=this.state.slatCoords,d=this.processSlotOptions(this.props.slotDuration,o.snapDuration),c=d.snapDuration,u=d.snapsPerSlot,h=a.leftToIndex(e),p=l.positions.topToIndex(t);if(null!=h&&null!=p){var f=this.props.cells[h],g=l.positions.tops[p],v=l.positions.getHeight(p),m=(t-g)/v,y=p*u+Math.floor(m*u),D=this.props.cells[h].date,b=Ot(s.slotMinTime,At(c,y)),w=r.add(D,b),_=r.add(w,c);return{dateProfile:s,dateSpan:i({range:{start:w,end:_},allDay:!1},f.extraDateSpan),dayEl:a.els[h],rect:{left:a.lefts[h],right:a.rights[h],top:g,bottom:g+v},layer:0}}return null},t}(Yr);function ql(e,t){var n=t||e,i=Lt(e,n);return null===i&&(n=e,i=1),{snapDuration:n,snapsPerSlot:i}}var Gl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.sliceRange=function(e,t){for(var n=[],i=0;i<t.length;i+=1){var r=Bn(e,t[i]);r&&n.push({start:r.start,end:r.end,isStart:r.start.valueOf()===e.start.valueOf(),isEnd:r.end.valueOf()===e.end.valueOf(),col:i})}return n},t}(Ca),Zl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayRanges=qt(Xl),t.slicer=new Gl,t.timeColsRef=Sr(),t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context,r=t.dateProfile,o=t.dayTableModel,a=n.options.nowIndicator,s=this.buildDayRanges(o,r,n.dateEnv);return kr(ma,{unit:a?"minute":"day"},(function(l,d){return kr(jl,i({ref:e.timeColsRef},e.slicer.sliceProps(t,r,null,n,s),{forPrint:t.forPrint,axis:t.axis,dateProfile:r,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:o.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:l,nowIndicatorSegs:a&&e.slicer.sliceNowDate(l,n,s),todayRange:d,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords}))}))},t}(Yr);function Xl(e,t,n){for(var i=[],r=0,o=e.headerDates;r<o.length;r++){var a=o[r];i.push({start:n.add(a,t.slotMinTime),end:n.add(a,t.slotMaxTime)})}return i}var Kl=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function $l(e,t,n,i,r){for(var o=new Date(0),a=e,s=Nt(0),l=n||function(e){var t,n,i;for(t=Kl.length-1;t>=0;t-=1)if(null!==(i=Lt(n=Nt(Kl[t]),e))&&i>1)return n;return e}(i),d=[];Ut(a)<Ut(t);){var c=r.add(o,a),u=null!==Lt(s,l);d.push({date:c,time:a,key:c.toISOString(),isoTimeStr:Bt(c),isLabeled:u}),a=Ot(a,i),s=Ot(s,i)}return d}var Ql=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildTimeColsModel=qt(Jl),t.buildSlatMetas=qt($l),t}return n(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,r=t.dateEnv,o=t.dateProfileGenerator,a=this.props,s=a.dateProfile,l=this.buildTimeColsModel(s,o),d=this.allDaySplitter.splitProps(a),c=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,n.slotLabelInterval,n.slotDuration,r),u=n.dayMinWidth,h=!u,p=u,f=n.dayHeaders&&kr(Da,{dates:l.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:h?this.renderHeadAxis:null}),g=!1!==n.allDaySlot&&function(t){return kr(pl,i({},d.allDay,{dateProfile:s,dayTableModel:l,nextDayThreshold:n.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:h?e.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:a.forPrint},e.getAllDayMaxEventProps()))},v=function(t){return kr(Zl,i({},d.timed,{dayTableModel:l,dateProfile:s,axis:h,slotDuration:n.slotDuration,slatMetas:c,forPrint:a.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:e.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:e.handleScrollTopRequest}))};return p?this.renderHScrollLayout(f,g,v,l.colCnt,u,c,this.state.slatCoords):this.renderSimpleLayout(f,g,v)},t}(Cl);function Jl(e,t){var n=new wa(e.renderRange,t);return new _a(n,!1)}var ed=Fr({initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:Ql,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),td=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={textId:xe()},t}return n(t,e),t.prototype.render=function(){var e=this.context,t=e.theme,n=e.dateEnv,r=e.options,o=e.viewApi,a=this.props,s=a.cellId,l=a.dayDate,d=a.todayRange,c=this.state.textId,u=nr(l,d),h=r.listDayFormat?n.format(l,r.listDayFormat):"",p=r.listDaySideFormat?n.format(l,r.listDaySideFormat):"",f=i({date:n.toDate(l),view:o,textId:c,text:h,sideText:p,navLinkAttrs:ar(this.context,l),sideNavLinkAttrs:ar(this.context,l,"day",!1)},u),g=["fc-list-day"].concat(ir(u,t));return kr(zr,{hookProps:f,classNames:r.dayHeaderClassNames,content:r.dayHeaderContent,defaultContent:nd,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},(function(e,n,i,r){return kr("tr",{ref:e,className:g.concat(n).join(" "),"data-date":Wt(l)},kr("th",{scope:"colgroup",colSpan:3,id:s,"aria-labelledby":c},kr("div",{className:"fc-list-day-cushion "+t.getClass("tableCellShaded"),ref:i},r)))}))},t}(Ar);function nd(e){return kr(Tr,null,e.text&&kr("a",i({id:e.textId,className:"fc-list-day-text"},e.navLinkAttrs),e.text),e.sideText&&kr("a",i({"aria-hidden":!0,className:"fc-list-day-side-text"},e.sideNavLinkAttrs),e.sideText))}var id=ln({hour:"numeric",minute:"2-digit",meridiem:"short"}),rd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=e.seg,r=e.timeHeaderId,o=e.eventHeaderId,a=e.dateHeaderId,s=t.options.eventTimeFormat||id;return kr(Ka,{seg:n,timeText:"",disableDragging:!0,disableResizing:!0,defaultContent:function(){return function(e,t){var n=di(e,t);return kr("a",i({},n),e.eventRange.def.title)}(n,t)},isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,isSelected:e.isSelected,isDragging:e.isDragging,isResizing:e.isResizing,isDateSelecting:e.isDateSelecting},(function(e,i,l,d,c){return kr("tr",{className:["fc-list-event",c.event.url?"fc-event-forced-url":""].concat(i).join(" "),ref:e},function(e,t,n,i,r){var o=n.options;if(!1!==o.displayEventTime){var a=e.eventRange.def,s=e.eventRange.instance,l=!1,d=void 0;if(a.allDay?l=!0:Ln(e.eventRange.range)?e.isStart?d=oi(e,t,n,null,null,s.range.start,e.end):e.isEnd?d=oi(e,t,n,null,null,e.start,s.range.end):l=!0:d=oi(e,t,n),l){var c={text:n.options.allDayText,view:n.viewApi};return kr(zr,{hookProps:c,classNames:o.allDayClassNames,content:o.allDayContent,defaultContent:od,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount},(function(e,t,n,o){return kr("td",{ref:e,headers:i+" "+r,className:["fc-list-event-time"].concat(t).join(" ")},o)}))}return kr("td",{className:"fc-list-event-time"},d)}return null}(n,s,t,r,a),kr("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},kr("span",{className:"fc-list-event-dot",style:{borderColor:c.borderColor||c.backgroundColor}})),kr("td",{ref:l,headers:o+" "+a,className:"fc-list-event-title"},d))}))},t}(Ar);function od(e){return e.text}var ad=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.computeDateVars=qt(ld),t.eventStoreToSegs=qt(t._eventStoreToSegs),t.state={timeHeaderId:xe(),eventHeaderId:xe(),dateHeaderIdRoot:xe()},t.setRootEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e}):t.context.unregisterInteractiveComponent(t)},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context,i=["fc-list",n.theme.getClass("table"),!1!==n.options.stickyHeaderDates?"fc-list-sticky":""],r=this.computeDateVars(t.dateProfile),o=r.dayDates,a=r.dayRanges,s=this.eventStoreToSegs(t.eventStore,t.eventUiBases,a);return kr(Qr,{viewSpec:n.viewSpec,elRef:this.setRootEl},(function(n,r){return kr("div",{ref:n,className:i.concat(r).join(" ")},kr(Ha,{liquid:!t.isHeightAuto,overflowX:t.isHeightAuto?"visible":"hidden",overflowY:t.isHeightAuto?"visible":"auto"},s.length>0?e.renderSegList(s,o):e.renderEmptyMessage()))}))},t.prototype.renderEmptyMessage=function(){var e=this.context,t=e.options,n=e.viewApi,i={text:t.noEventsText,view:n};return kr(zr,{hookProps:i,classNames:t.noEventsClassNames,content:t.noEventsContent,defaultContent:sd,didMount:t.noEventsDidMount,willUnmount:t.noEventsWillUnmount},(function(e,t,n,i){return kr("div",{className:["fc-list-empty"].concat(t).join(" "),ref:e},kr("div",{className:"fc-list-empty-cushion",ref:n},i))}))},t.prototype.renderSegList=function(e,t){var n=this.context,r=n.theme,o=n.options,a=this.state,s=a.timeHeaderId,l=a.eventHeaderId,d=a.dateHeaderIdRoot,c=function(e){var t,n,i=[];for(t=0;t<e.length;t+=1)(i[(n=e[t]).dayIndex]||(i[n.dayIndex]=[])).push(n);return i}(e);return kr(ma,{unit:"day"},(function(e,n){for(var a=[],u=0;u<c.length;u+=1){var h=c[u];if(h){var p=Wt(t[u]),f=d+"-"+p;a.push(kr(td,{key:p,cellId:f,dayDate:t[u],todayRange:n}));for(var g=0,v=h=ei(h,o.eventOrder);g<v.length;g++){var m=v[g];a.push(kr(rd,i({key:p+":"+m.eventRange.instance.instanceId,seg:m,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:s,eventHeaderId:l,dateHeaderId:f},ai(m,n,e))))}}}return kr("table",{className:"fc-list-table "+r.getClass("table")},kr("thead",null,kr("tr",null,kr("th",{scope:"col",id:s},o.timeHint),kr("th",{scope:"col","aria-hidden":!0}),kr("th",{scope:"col",id:l},o.eventHint))),kr("tbody",null,a))}))},t.prototype._eventStoreToSegs=function(e,t,n){return this.eventRangesToSegs(Zn(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)},t.prototype.eventRangesToSegs=function(e,t){for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i];n.push.apply(n,this.eventRangeToSegs(o,t))}return n},t.prototype.eventRangeToSegs=function(e,t){var n,i,r,o=this.context.dateEnv,a=this.context.options.nextDayThreshold,s=e.range,l=e.def.allDay,d=[];for(n=0;n<t.length;n+=1)if((i=Bn(s,t[n]))&&(r={component:this,eventRange:e,start:i.start,end:i.end,isStart:e.isStart&&i.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&i.end.valueOf()===s.end.valueOf(),dayIndex:n},d.push(r),!r.isEnd&&!l&&n+1<t.length&&s.end<o.add(t[n+1].start,a))){r.end=s.end,r.isEnd=!0;break}return d},t}(Yr);function sd(e){return e.text}function ld(e){for(var t=lt(e.renderRange.start),n=e.renderRange.end,i=[],r=[];t<n;)i.push(t),r.push({start:t,end:tt(t,1)}),t=tt(t,1);return{dayDates:i,dayRanges:r}}function dd(e){return!1===e?null:ln(e)}var cd=Fr({optionRefiners:{listDayFormat:dd,listDaySideFormat:dd,noEventsClassNames:yn,noEventsContent:yn,noEventsDidMount:yn,noEventsWillUnmount:yn},views:{list:{component:ad,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}}),ud=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(_r);ud.prototype.classes={root:"fc-theme-bootstrap",table:"table-bordered",tableCellShaded:"table-active",buttonGroup:"btn-group",button:"btn btn-primary",buttonActive:"active",popover:"popover",popoverHeader:"popover-header",popoverContent:"popover-body"},ud.prototype.baseIconClass="fa",ud.prototype.iconClasses={close:"fa-times",prev:"fa-chevron-left",next:"fa-chevron-right",prevYear:"fa-angle-double-left",nextYear:"fa-angle-double-right"},ud.prototype.rtlIconClasses={prev:"fa-chevron-right",next:"fa-chevron-left",prevYear:"fa-angle-double-right",nextYear:"fa-angle-double-left"},ud.prototype.iconOverrideOption="bootstrapFontAwesome",ud.prototype.iconOverrideCustomButtonOption="bootstrapFontAwesome",ud.prototype.iconOverridePrefix="fa-";var hd=Fr({themeClasses:{bootstrap:ud}}),pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(_r);pd.prototype.classes={root:"fc-theme-bootstrap5",tableCellShaded:"fc-theme-bootstrap5-shaded",buttonGroup:"btn-group",button:"btn btn-primary",buttonActive:"active",popover:"popover",popoverHeader:"popover-header",popoverContent:"popover-body"},pd.prototype.baseIconClass="bi",pd.prototype.iconClasses={close:"bi-x-lg",prev:"bi-chevron-left",next:"bi-chevron-right",prevYear:"bi-chevron-double-left",nextYear:"bi-chevron-double-right"},pd.prototype.rtlIconClasses={prev:"bi-chevron-right",next:"bi-chevron-left",prevYear:"bi-chevron-double-right",nextYear:"bi-chevron-double-left"},pd.prototype.iconOverrideOption="buttonIcons",pd.prototype.iconOverrideCustomButtonOption="icon",pd.prototype.iconOverridePrefix="bi-";var fd=Fr({themeClasses:{bootstrap5:pd}}),gd=Fr({eventSourceDefs:[{parseMeta:function(e){var t=e.googleCalendarId;return!t&&e.url&&(t=function(e){var t;return/^[^/]+@([^/.]+\.)*(google|googlemail|gmail)\.com$/.test(e)?e:(t=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^/]*)/.exec(e))||(t=/^https?:\/\/www.google.com\/calendar\/feeds\/([^/]*)/.exec(e))?decodeURIComponent(t[1]):null}(e.url)),t?{googleCalendarId:t,googleCalendarApiKey:e.googleCalendarApiKey,googleCalendarApiBase:e.googleCalendarApiBase,extraParams:e.extraParams}:null},fetch:function(e,t,n){var r=e.context,o=r.dateEnv,a=r.options,s=e.eventSource.meta,l=s.googleCalendarApiKey||a.googleCalendarApiKey;if(l){var d=function(e){var t=e.googleCalendarApiBase;return t||(t="https://www.googleapis.com/calendar/v3/calendars"),t+"/"+encodeURIComponent(e.googleCalendarId)+"/events"}(s),c=s.extraParams,u="function"==typeof c?c():c,h=function(e,t,n,r){var o,a,s;return r.canComputeOffset?(a=r.formatIso(e.start),s=r.formatIso(e.end)):(a=tt(e.start,-1).toISOString(),s=tt(e.end,1).toISOString()),o=i(i({},n||{}),{key:t,timeMin:a,timeMax:s,singleEvents:!0,maxResults:9999}),"local"!==r.timeZone&&(o.timeZone=r.timeZone),o}(e.range,l,u,o);wo("GET",d,h,(function(e,i){var r,o;e.error?n({message:"Google Calendar API: "+e.error.message,errors:e.error.errors,xhr:i}):t({rawEvents:(r=e.items,o=h.timeZone,r.map((function(e){return function(e,t){var n=e.htmlLink||null;return n&&t&&(n=function(e,t){return e.replace(/(\?.*?)?(#|$)/,(function(e,n,i){return(n?n+"&":"?")+t+i}))}(n,"ctz="+t)),{id:e.id,title:e.summary,start:e.start.dateTime||e.start.date,end:e.end.dateTime||e.end.date,url:n,location:e.location,description:e.description,attachments:e.attachments||[],extendedProps:(e.extendedProperties||{}).shared||{}}}(e,o)}))),xhr:i})}),(function(e,t){n({message:e,xhr:t})}))}else n({message:"Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"})}}],optionRefiners:{googleCalendarApiKey:String},eventSourceRefiners:{googleCalendarApiKey:String,googleCalendarId:String,googleCalendarApiBase:String,extraParams:yn}});return ko.push(js,vl,ed,cd,hd,fd,gd),e.BASE_OPTION_DEFAULTS=cn,e.BASE_OPTION_REFINERS=dn,e.BaseComponent=Ar,e.BgEvent=os,e.BootstrapTheme=ud,e.Calendar=ms,e.CalendarApi=Ti,e.CalendarContent=sa,e.CalendarDataManager=Mo,e.CalendarDataProvider=Lo,e.CalendarRoot=ca,e.Component=Cr,e.ContentHook=qr,e.CustomContentRenderContext=jr,e.DateComponent=Yr,e.DateEnv=Ai,e.DateProfileGenerator=io,e.DayCellContent=ts,e.DayCellRoot=is,e.DayGridView=fl,e.DayHeader=Da,e.DaySeriesModel=wa,e.DayTable=pl,e.DayTableModel=_a,e.DayTableSlicer=hl,e.DayTimeCols=Zl,e.DayTimeColsSlicer=Gl,e.DayTimeColsView=Ql,e.DelayedRunner=Eo,e.Draggable=Ws,e.ElementDragging=Qo,e.ElementScrollController=br,e.Emitter=mr,e.EventApi=Mi,e.EventRoot=Ka,e.EventSourceApi=ye,e.FeaturefulElementDragging=xs,e.Fragment=Tr,e.Interaction=Zo,e.ListView=ad,e.MoreLinkRoot=us,e.MountHook=Zr,e.NamedTimeZoneImpl=function(e){this.timeZoneName=e},e.NowIndicatorRoot=Ja,e.NowTimer=ma,e.PointerDragging=ws,e.PositionCache=yr,e.RefMap=Oa,e.RenderHook=zr,e.ScrollController=Dr,e.ScrollResponder=Pr,e.Scroller=Ha,e.SegHierarchy=Yo,e.SimpleScrollGrid=Xa,e.Slicer=Ca,e.Splitter=er,e.StandardEvent=$a,e.Table=cl,e.TableDateCell=fa,e.TableDowCell=va,e.TableView=qs,e.Theme=_r,e.ThirdPartyDraggable=zs,e.TimeCols=jl,e.TimeColsSlatsCoords=El,e.TimeColsView=Cl,e.ViewApi=_i,e.ViewContextType=Nr,e.ViewRoot=Qr,e.WeekNumberRoot=ss,e.WindowScrollController=wr,e.addDays=tt,e.addDurations=Ot,e.addMs=nt,e.addWeeks=et,e.allowContextMenu=Be,e.allowSelection=Fe,e.applyMutationToEventStore=Di,e.applyStyle=ke,e.applyStyleProp=Ee,e.asCleanDays=function(e){return e.years||e.months||e.milliseconds?0:e.days},e.asRoughMinutes=function(e){return Ut(e)/6e4},e.asRoughMs=Ut,e.asRoughSeconds=function(e){return Ut(e)/1e3},e.binarySearch=Go,e.buildClassNameNormalizer=Xr,e.buildDayRanges=Xl,e.buildDayTableModel=gl,e.buildEntryKey=Wo,e.buildEventApis=Ri,e.buildEventRangeKey=li,e.buildHashFromArray=function(e,t){for(var n={},i=0;i<e.length;i+=1){var r=t(e[i],i);n[r[0]]=r[1]}return n},e.buildIsoString=Ft,e.buildNavLinkAttrs=ar,e.buildSegCompareObj=ti,e.buildSegTimeText=oi,e.buildSlatMetas=$l,e.buildTimeColsModel=Jl,e.collectFromHash=Mt,e.combineEventUis=Mn,e.compareByFieldSpec=qe,e.compareByFieldSpecs=je,e.compareNumbers=Ke,e.compareObjs=St,e.computeEarliestSegStart=fs,e.computeEdges=hr,e.computeFallbackHeaderFormat=ua,e.computeHeightAndMargins=function(e){return e.getBoundingClientRect().height+function(e){var t=window.getComputedStyle(e);return parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)}(e)},e.computeInnerRect=pr,e.computeRect=fr,e.computeSegDraggable=ni,e.computeSegEndResizable=ri,e.computeSegStartResizable=ii,e.computeShrinkWidth=Aa,e.computeSmallestCellWidth=Qe,e.computeVisibleDayRange=Un,e.config=Jo,e.constrainPoint=Xi,e.createAriaClickAttrs=He,e.createContext=Mr,e.createDuration=Nt,e.createElement=kr,e.createEmptyEventStore=function(){return{defs:{},instances:{}}},e.createEventInstance=mt,e.createEventUi=Tn,e.createFormatter=ln,e.createPlugin=Fr,e.createPortal=xr,e.createRef=Sr,e.diffDates=Yn,e.diffDayAndTime=ot,e.diffDays=rt,e.diffPoints=$i,e.diffWeeks=it,e.diffWholeDays=st,e.diffWholeWeeks=at,e.disableCursor=Ue,e.elementClosest=be,e.elementMatches=we,e.enableCursor=Le,e.eventTupleToStore=bn,e.filterEventStoreDefs=Cn,e.filterHash=bt,e.findDirectChildren=function(e,t){for(var n=e instanceof HTMLElement?[e]:e,i=[],r=0;r<n.length;r+=1)for(var o=n[r].children,a=0;a<o.length;a+=1){var s=o[a];t&&!we(s,t)||i.push(s)}return i},e.findElements=_e,e.flexibleCompare=Ge,e.flushSync=Rr,e.formatDate=function(e,t){void 0===t&&(t={});var n=Bi(t),i=ln(t),r=n.createMarkerMeta(e);return r?n.format(r.marker,i,{forcedTzo:r.forcedTzo}):""},e.formatDayString=Wt,e.formatIsoTimeString=Bt,e.formatRange=function(e,t,n){var i=Bi("object"==typeof n&&n?n:{}),r=ln(n),o=i.createMarkerMeta(e),a=i.createMarkerMeta(t);return o&&a?i.formatRange(o.marker,a.marker,r,{forcedStartTzo:o.forcedTzo,forcedEndTzo:a.forcedTzo,isEndExclusive:n.isEndExclusive,defaultSeparator:cn.defaultRangeSeparator}):""},e.getAllowYScrolling=Ua,e.getCanVGrowWithinCell=Qi,e.getClippingParents=gr,e.getDateMeta=nr,e.getDayClassNames=ir,e.getDefaultEventEnd=yi,e.getElRoot=Te,e.getElSeg=$n,e.getEntrySpanEnd=Fo,e.getEventClassNames=si,e.getEventTargetViaRoot=Se,e.getIsRtlScrollbarOnLeft=dr,e.getRectCenter=Ki,e.getRelevantEvents=wn,e.getScrollGridClassNames=za,e.getScrollbarWidths=cr,e.getSectionClassNames=ja,e.getSectionHasLiquidHeight=Va,e.getSegAnchorAttrs=di,e.getSegMeta=ai,e.getSlotClassNames=function(e,t){var n=["fc-slot","fc-slot-"+Je[e.dow]];return e.isDisabled?n.push("fc-slot-disabled"):(e.isToday&&(n.push("fc-slot-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-slot-past"),e.isFuture&&n.push("fc-slot-future")),n},e.getStickyFooterScrollbar=Za,e.getStickyHeaderDates=Ga,e.getUnequalProps=Et,e.getUniqueDomId=xe,e.globalLocales=Vi,e.globalPlugins=ko,e.greatestDurationDenominator=Yt,e.groupIntersectingEntries=Bo,e.guid=Ve,e.hasBgRendering=Xn,e.hasShrinkWidth=Ba,e.identity=yn,e.interactionSettingsStore=$o,e.interactionSettingsToStore=Ko,e.intersectRanges=Bn,e.intersectRects=Zi,e.intersectSpans=jo,e.isArraysEqual=jt,e.isColPropsEqual=Ya,e.isDateSelectionValid=Sa,e.isDateSpansEqual=hi,e.isInt=$e,e.isInteractionValid=Ea,e.isMultiDayRange=Ln,e.isPropsEqual=kt,e.isPropsValid=Ma,e.isValidDate=gt,e.joinSpans=zo,e.listenBySelector=Ie,e.mapHash=wt,e.memoize=qt,e.memoizeArraylike=function(e,t,n){var i=this,r=[],o=[];return function(a){for(var s=r.length,l=a.length,d=0;d<s;d+=1)if(a[d]){if(!jt(r[d],a[d])){n&&n(o[d]);var c=e.apply(i,a[d]);t&&t(c,o[d])||(o[d]=c)}}else n&&n(o[d]);for(;d<l;d+=1)o[d]=e.apply(i,a[d]);return r=a,o.splice(l),o}},e.memoizeHashlike=function(e,t,n){var i=this,r={},o={};return function(a){var s={};for(var l in a)if(o[l])if(jt(r[l],a[l]))s[l]=o[l];else{n&&n(o[l]);var d=e.apply(i,a[l]);s[l]=t&&t(d,o[l])?o[l]:d}else s[l]=e.apply(i,a[l]);return r=a,o=s,s}},e.memoizeObjArg=Gt,e.mergeEventStores=_n,e.multiplyDuration=At,e.padStart=Ze,e.parseBusinessHours=qi,e.parseClassNames=kn,e.parseDragMeta=ta,e.parseEventDef=An,e.parseFieldSpecs=ze,e.parseMarker=Oi,e.pointInsideRect=Gi,e.preventContextMenu=We,e.preventDefault=Re,e.preventSelection=Ye,e.rangeContainsMarker=Gn,e.rangeContainsRange=qn,e.rangesEqual=zn,e.rangesIntersect=jn,e.refineEventDef=Hn,e.refineProps=mn,e.removeElement=De,e.removeExact=function(e,t){for(var n=0,i=0;i<e.length;)e[i]===t?(e.splice(i,1),n+=1):i+=1;return n},e.render=Er,e.renderChunkContent=La,e.renderFill=rs,e.renderMicroColGroup=Fa,e.renderScrollShim=qa,e.requestJson=wo,e.sanitizeShrinkWidth=Wa,e.setElSeg=Kn,e.setRef=Lr,e.sliceEventStore=Zn,e.sliceEvents=function(e,t){return Zn(e.eventStore,e.eventUiBases,e.dateProfile.activeRange,t?e.nextDayThreshold:null).fg},e.sortEventSegs=ei,e.startOfDay=lt,e.translateRect=function(e,t,n){return{left:e.left+t,right:e.right+t,top:e.top+n,bottom:e.bottom+n}},e.triggerDateSelect=vi,e.unmountComponentAtNode=Ir,e.unpromisify=vr,e.version="5.10.2",e.whenTransitionDone=Ne,e.wholeDivideDurations=Lt,Object.defineProperty(e,"__esModule",{value:!0}),e}({});if("undefined"==typeof jQuery)throw new Error("Tempus Dominus Bootstrap4's requires jQuery. jQuery must be included before Tempus Dominus Bootstrap4's JavaScript.");if(function(){var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||4<=e[0])throw new Error("Tempus Dominus Bootstrap4's requires at least jQuery v3.0.0 but less than v4.0.0")}(),"undefined"==typeof moment)throw new Error("Tempus Dominus Bootstrap4's requires moment.js. Moment.js must be included before Tempus Dominus Bootstrap4's JavaScript.");var version=moment.version.split(".");if(version[0]<=2&&version[1]<17||3<=version[0])throw new Error("Tempus Dominus Bootstrap4's requires at least moment.js v2.17.0 but less than v3.0.0");!function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,p,f,g,v,m,y,D,b,w,_=(e=jQuery,t=moment,o={DATA_TOGGLE:'[data-toggle="'+(i=n="datetimepicker")+'"]'},a={INPUT:n+"-input"},s={CHANGE:"change"+(r="."+i),BLUR:"blur"+r,KEYUP:"keyup"+r,KEYDOWN:"keydown"+r,FOCUS:"focus"+r,CLICK_DATA_API:"click"+r+".data-api",UPDATE:"update"+r,ERROR:"error"+r,HIDE:"hide"+r,SHOW:"show"+r},l=[{CLASS_NAME:"days",NAV_FUNCTION:"M",NAV_STEP:1},{CLASS_NAME:"months",NAV_FUNCTION:"y",NAV_STEP:1},{CLASS_NAME:"years",NAV_FUNCTION:"y",NAV_STEP:10},{CLASS_NAME:"decades",NAV_FUNCTION:"y",NAV_STEP:100}],d={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},c=["times","days","months","years","decades"],g={timeZone:"",format:!(f={time:"clock",date:"calendar",up:"arrow-up",down:"arrow-down",previous:"arrow-left",next:"arrow-right",today:"arrow-down-circle",clear:"trash-2",close:"x"}),dayViewHeaderFormat:"MMMM YYYY",extraFormats:!(p={timeZone:-39,format:-38,dayViewHeaderFormat:-37,extraFormats:-36,stepping:-35,minDate:-34,maxDate:-33,useCurrent:-32,collapse:-31,locale:-30,defaultDate:-29,disabledDates:-28,enabledDates:-27,icons:-26,tooltips:-25,useStrict:-24,sideBySide:-23,daysOfWeekDisabled:-22,calendarWeeks:-21,viewMode:-20,toolbarPlacement:-19,buttons:-18,widgetPositioning:-17,widgetParent:-16,ignoreReadonly:-15,keepOpen:-14,focusOnShow:-13,inline:-12,keepInvalid:-11,keyBinds:-10,debug:-9,allowInputToggle:-8,disabledTimeIntervals:-7,disabledHours:-6,enabledHours:-5,viewDate:-4,allowMultidate:-3,multidateSeparator:-2,updateOnlyThroughDateOption:-1,date:1}),stepping:1,minDate:!(h={}),maxDate:!(u={}),useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{type:"class",time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-calendar-check-o",clear:"fa fa-trash",close:"fa fa-times"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time",selectDate:"Select Date"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",buttons:{showToday:!1,showClear:!1,showClose:!1},widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,readonly:!1,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,keyBinds:{up:function(){if(!this.widget)return!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(e.clone().subtract(7,"d")):this.date(e.clone().add(this.stepping(),"m")),!0},down:function(){if(!this.widget)return this.show(),!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(e.clone().add(7,"d")):this.date(e.clone().subtract(this.stepping(),"m")),!0},"control up":function(){if(!this.widget)return!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(e.clone().subtract(1,"y")):this.date(e.clone().add(1,"h")),!0},"control down":function(){if(!this.widget)return!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(e.clone().add(1,"y")):this.date(e.clone().subtract(1,"h")),!0},left:function(){if(!this.widget)return!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"d")),!0},right:function(){if(!this.widget)return!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"d")),!0},pageUp:function(){if(!this.widget)return!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"M")),!0},pageDown:function(){if(!this.widget)return!1;var e=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"M")),!0},enter:function(){return!!this.widget&&(this.hide(),!0)},escape:function(){return!!this.widget&&(this.hide(),!0)},"control space":function(){return!!this.widget&&(this.widget.find(".timepicker").is(":visible")&&this.widget.find('.btn[data-action="togglePeriod"]').click(),!0)},t:function(){return!!this.widget&&(this.date(this.getMoment()),!0)},delete:function(){return!!this.widget&&(this.clear(),!0)}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1,allowMultidate:!1,multidateSeparator:", ",updateOnlyThroughDateOption:!1,promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200},function(){function p(e,t){this._options=this._getOptions(t),this._element=e,this._dates=[],this._datesFormatted=[],this._viewDate=null,this.unset=!0,this.component=!1,this.widget=!1,this.use24Hours=null,this.actualFormat=null,this.parseFormats=null,this.currentViewMode=null,this.MinViewModeNumber=0,this.isInitFormatting=!1,this.isInit=!1,this.isDateUpdateThroughDateOptionFromClientCode=!1,this.hasInitDate=!1,this.initDate=void 0,this._notifyChangeEventContext=void 0,this._currentPromptTimeTimeout=null,this._int()}var v,m=p.prototype;return m._int=function(){this.isInit=!0;var t=this._element.data("target-input");this._element.is("input")?this.input=this._element:void 0!==t&&(this.input="nearest"===t?this._element.find("input"):e(t)),this._dates=[],this._dates[0]=this.getMoment(),this._viewDate=this.getMoment().clone(),e.extend(!0,this._options,this._dataToOptions()),this.hasInitDate=!1,this.initDate=void 0,this.options(this._options),this.isInitFormatting=!0,this._initFormatting(),this.isInitFormatting=!1,void 0!==this.input&&this.input.is("input")&&0!==this.input.val().trim().length?this._setValue(this._parseInputDate(this.input.val().trim()),0):this._options.defaultDate&&void 0!==this.input&&void 0===this.input.attr("placeholder")&&this._setValue(this._options.defaultDate,0),this.hasInitDate&&this.date(this.initDate),this._options.inline&&this.show(),this.isInit=!1},m._update=function(){this.widget&&(this._fillDate(),this._fillTime())},m._setValue=function(e,t){var n=void 0===t,i=!e&&n,r=this.isDateUpdateThroughDateOptionFromClientCode,o=!this.isInit&&this._options.updateOnlyThroughDateOption&&!r,a="",s=!1,l=this.unset?null:this._dates[t];if(!l&&!this.unset&&n&&i&&(l=this._dates[this._dates.length-1]),!e)return o?void this._notifyEvent({type:p.Event.CHANGE,date:e,oldDate:l,isClear:i,isInvalid:s,isDateUpdateThroughDateOptionFromClientCode:r,isInit:this.isInit}):(!this._options.allowMultidate||1===this._dates.length||i?(this.unset=!0,this._dates=[],this._datesFormatted=[]):(a=""+this._element.data("date")+this._options.multidateSeparator,a=l&&a.replace(""+l.format(this.actualFormat)+this._options.multidateSeparator,"").replace(""+this._options.multidateSeparator+this._options.multidateSeparator,"").replace(new RegExp(this._options.multidateSeparator.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")+"\\s*$"),"")||"",this._dates.splice(t,1),this._datesFormatted.splice(t,1)),a=k(a),void 0!==this.input&&(this.input.val(a),this.input.trigger("input")),this._element.data("date",a),this._notifyEvent({type:p.Event.CHANGE,date:!1,oldDate:l,isClear:i,isInvalid:s,isDateUpdateThroughDateOptionFromClientCode:r,isInit:this.isInit}),void this._update());if(e=e.clone().locale(this._options.locale),this._hasTimeZone()&&e.tz(this._options.timeZone),1!==this._options.stepping&&e.minutes(Math.round(e.minutes()/this._options.stepping)*this._options.stepping).seconds(0),this._isValid(e)){if(o)return void this._notifyEvent({type:p.Event.CHANGE,date:e.clone(),oldDate:l,isClear:i,isInvalid:s,isDateUpdateThroughDateOptionFromClientCode:r,isInit:this.isInit});if(this._dates[t]=e,this._datesFormatted[t]=e.format("YYYY-MM-DD"),this._viewDate=e.clone(),this._options.allowMultidate&&1<this._dates.length){for(var d=0;d<this._dates.length;d++)a+=""+this._dates[d].format(this.actualFormat)+this._options.multidateSeparator;a=a.replace(new RegExp(this._options.multidateSeparator+"\\s*$"),"")}else a=this._dates[t].format(this.actualFormat);a=k(a),void 0!==this.input&&(this.input.val(a),this.input.trigger("input")),this._element.data("date",a),this.unset=!1,this._update(),this._notifyEvent({type:p.Event.CHANGE,date:this._dates[t].clone(),oldDate:l,isClear:i,isInvalid:s,isDateUpdateThroughDateOptionFromClientCode:r,isInit:this.isInit})}else s=!0,this._options.keepInvalid?this._notifyEvent({type:p.Event.CHANGE,date:e,oldDate:l,isClear:i,isInvalid:s,isDateUpdateThroughDateOptionFromClientCode:r,isInit:this.isInit}):void 0!==this.input&&(this.input.val(""+(this.unset?"":this._dates[t].format(this.actualFormat))),this.input.trigger("input")),this._notifyEvent({type:p.Event.ERROR,date:e,oldDate:l})},m._change=function(t){var n=e(t.target).val().trim(),i=n?this._parseInputDate(n):null;return this._setValue(i,0),t.stopImmediatePropagation(),!1},m._getOptions=function(t){return e.extend(!0,{},g,t&&t.icons&&"feather"===t.icons.type?{icons:f}:{},t)},m._hasTimeZone=function(){return void 0!==t.tz&&void 0!==this._options.timeZone&&null!==this._options.timeZone&&""!==this._options.timeZone},m._isEnabled=function(e){if("string"!=typeof e||1<e.length)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==this.actualFormat.indexOf("Y");case"M":return-1!==this.actualFormat.indexOf("M");case"d":return-1!==this.actualFormat.toLowerCase().indexOf("d");case"h":case"H":return-1!==this.actualFormat.toLowerCase().indexOf("h");case"m":return-1!==this.actualFormat.indexOf("m");case"s":return-1!==this.actualFormat.indexOf("s");case"a":case"A":return-1!==this.actualFormat.toLowerCase().indexOf("a");default:return!1}},m._hasTime=function(){return this._isEnabled("h")||this._isEnabled("m")||this._isEnabled("s")},m._hasDate=function(){return this._isEnabled("y")||this._isEnabled("M")||this._isEnabled("d")},m._dataToOptions=function(){var t=this._element.data(),n={};return t.dateOptions&&t.dateOptions instanceof Object&&(n=e.extend(!0,n,t.dateOptions)),e.each(this._options,(function(e){var i="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[i]?n[e]=t[i]:delete n[e]})),n},m._format=function(){return this._options.format||"YYYY-MM-DD HH:mm"},m._areSameDates=function(e,n){var i=this._format();return e&&n&&(e.isSame(n)||t(e.format(i),i).isSame(t(n.format(i),i)))},m._notifyEvent=function(e){if(e.type===p.Event.CHANGE){if(this._notifyChangeEventContext=this._notifyChangeEventContext||0,this._notifyChangeEventContext++,e.date&&this._areSameDates(e.date,e.oldDate)||!e.isClear&&!e.date&&!e.oldDate||1<this._notifyChangeEventContext)return void(this._notifyChangeEventContext=void 0);this._handlePromptTimeIfNeeded(e)}this._element.trigger(e),this._notifyChangeEventContext=void 0},m._handlePromptTimeIfNeeded=function(e){if(this._options.promptTimeOnDateChange){if(!e.oldDate&&this._options.useCurrent)return;if(e.oldDate&&e.date&&(e.oldDate.format("YYYY-MM-DD")===e.date.format("YYYY-MM-DD")||e.oldDate.format("YYYY-MM-DD")!==e.date.format("YYYY-MM-DD")&&e.oldDate.format("HH:mm:ss")!==e.date.format("HH:mm:ss")))return;var t=this;clearTimeout(this._currentPromptTimeTimeout),this._currentPromptTimeTimeout=setTimeout((function(){t.widget&&t.widget.find('[data-action="togglePicker"]').click()}),this._options.promptTimeOnDateChangeTransitionDelay)}},m._viewUpdate=function(e){"y"===e&&(e="YYYY"),this._notifyEvent({type:p.Event.UPDATE,change:e,viewDate:this._viewDate.clone()})},m._showMode=function(e){this.widget&&(e&&(this.currentViewMode=Math.max(this.MinViewModeNumber,Math.min(3,this.currentViewMode+e))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+l[this.currentViewMode].CLASS_NAME).show())},m._isInDisabledDates=function(e){return!0===this._options.disabledDates[e.format("YYYY-MM-DD")]},m._isInEnabledDates=function(e){return!0===this._options.enabledDates[e.format("YYYY-MM-DD")]},m._isInDisabledHours=function(e){return!0===this._options.disabledHours[e.format("H")]},m._isInEnabledHours=function(e){return!0===this._options.enabledHours[e.format("H")]},m._isValid=function(t,n){if(!t||!t.isValid())return!1;if(this._options.disabledDates&&"d"===n&&this._isInDisabledDates(t))return!1;if(this._options.enabledDates&&"d"===n&&!this._isInEnabledDates(t))return!1;if(this._options.minDate&&t.isBefore(this._options.minDate,n))return!1;if(this._options.maxDate&&t.isAfter(this._options.maxDate,n))return!1;if(this._options.daysOfWeekDisabled&&"d"===n&&-1!==this._options.daysOfWeekDisabled.indexOf(t.day()))return!1;if(this._options.disabledHours&&("h"===n||"m"===n||"s"===n)&&this._isInDisabledHours(t))return!1;if(this._options.enabledHours&&("h"===n||"m"===n||"s"===n)&&!this._isInEnabledHours(t))return!1;if(this._options.disabledTimeIntervals&&("h"===n||"m"===n||"s"===n)){var i=!1;if(e.each(this._options.disabledTimeIntervals,(function(){if(t.isBetween(this[0],this[1]))return!(i=!0)})),i)return!1}return!0},m._parseInputDate=function(e,n){var i=(void 0===n?{}:n).isPickerShow,r=void 0!==i&&i;return void 0===this._options.parseInputDate||r?t.isMoment(e)||(e=this.getMoment(e)):e=this._options.parseInputDate(e),e},m._keydown=function(e){var t,n,i,r,o=null,a=[],s={},l=e.which;for(t in u[l]="p",u)u.hasOwnProperty(t)&&"p"===u[t]&&(a.push(t),parseInt(t,10)!==l&&(s[t]=!0));for(t in this._options.keyBinds)if(this._options.keyBinds.hasOwnProperty(t)&&"function"==typeof this._options.keyBinds[t]&&(i=t.split(" ")).length===a.length&&d[l]===i[i.length-1]){for(r=!0,n=i.length-2;0<=n;n--)if(!(d[i[n]]in s)){r=!1;break}if(r){o=this._options.keyBinds[t];break}}o&&o.call(this)&&(e.stopPropagation(),e.preventDefault())},m._keyup=function(e){u[e.which]="r",h[e.which]&&(h[e.which]=!1,e.stopPropagation(),e.preventDefault())},m._indexGivenDates=function(t){var n={},i=this;return e.each(t,(function(){var e=i._parseInputDate(this);e.isValid()&&(n[e.format("YYYY-MM-DD")]=!0)})),!!Object.keys(n).length&&n},m._indexGivenHours=function(t){var n={};return e.each(t,(function(){n[this]=!0})),!!Object.keys(n).length&&n},m._initFormatting=function(){var e=this._options.format||"L LT",t=this;this.actualFormat=e.replace(/(\[[^\[]*])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,(function(e){return(t.isInitFormatting&&null===t._options.date?t.getMoment():t._dates[0]).localeData().longDateFormat(e)||e})),this.parseFormats=this._options.extraFormats?this._options.extraFormats.slice():[],this.parseFormats.indexOf(e)<0&&this.parseFormats.indexOf(this.actualFormat)<0&&this.parseFormats.push(this.actualFormat),this.use24Hours=this.actualFormat.toLowerCase().indexOf("a")<1&&this.actualFormat.replace(/\[.*?]/g,"").indexOf("h")<1,this._isEnabled("y")&&(this.MinViewModeNumber=2),this._isEnabled("M")&&(this.MinViewModeNumber=1),this._isEnabled("d")&&(this.MinViewModeNumber=0),this.currentViewMode=Math.max(this.MinViewModeNumber,this.currentViewMode),this.unset||this._setValue(this._dates[0],0)},m._getLastPickedDate=function(){var e=this._dates[this._getLastPickedDateIndex()];return!e&&this._options.allowMultidate&&(e=t(new Date)),e},m._getLastPickedDateIndex=function(){return this._dates.length-1},m.getMoment=function(e){var n=null==e?t().clone().locale(this._options.locale):this._hasTimeZone()?t.tz(e,this.parseFormats,this._options.locale,this._options.useStrict,this._options.timeZone):t(e,this.parseFormats,this._options.locale,this._options.useStrict);return this._hasTimeZone()&&n.tz(this._options.timeZone),n},m.toggle=function(){return this.widget?this.hide():this.show()},m.readonly=function(e){if(0===arguments.length)return this._options.readonly;if("boolean"!=typeof e)throw new TypeError("readonly() expects a boolean parameter");this._options.readonly=e,void 0!==this.input&&this.input.prop("readonly",this._options.readonly),this.widget&&(this.hide(),this.show())},m.ignoreReadonly=function(e){if(0===arguments.length)return this._options.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly() expects a boolean parameter");this._options.ignoreReadonly=e},m.options=function(t){if(0===arguments.length)return e.extend(!0,{},this._options);if(!(t instanceof Object))throw new TypeError("options() this.options parameter should be an object");e.extend(!0,this._options,t);var n=this,i=Object.keys(this._options).sort(E);e.each(i,(function(e,t){var i=n._options[t];if(void 0!==n[t]){if(n.isInit&&"date"===t)return n.hasInitDate=!0,void(n.initDate=i);n[t](i)}}))},m.date=function(e,n){if(n=n||0,0===arguments.length)return this.unset?null:this._options.allowMultidate?this._dates.join(this._options.multidateSeparator):this._dates[n].clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");"string"==typeof e&&C(e)&&(e=new Date(e)),this._setValue(null===e?null:this._parseInputDate(e),n)},m.updateOnlyThroughDateOption=function(e){if("boolean"!=typeof e)throw new TypeError("updateOnlyThroughDateOption() expects a boolean parameter");this._options.updateOnlyThroughDateOption=e},m.format=function(e){if(0===arguments.length)return this._options.format;if("string"!=typeof e&&("boolean"!=typeof e||!1!==e))throw new TypeError("format() expects a string or boolean:false parameter "+e);this._options.format=e,this.actualFormat&&this._initFormatting()},m.timeZone=function(e){if(0===arguments.length)return this._options.timeZone;if("string"!=typeof e)throw new TypeError("newZone() expects a string parameter");this._options.timeZone=e},m.dayViewHeaderFormat=function(e){if(0===arguments.length)return this._options.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");this._options.dayViewHeaderFormat=e},m.extraFormats=function(e){if(0===arguments.length)return this._options.extraFormats;if(!1!==e&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");this._options.extraFormats=e,this.parseFormats&&this._initFormatting()},m.disabledDates=function(t){if(0===arguments.length)return this._options.disabledDates?e.extend({},this._options.disabledDates):this._options.disabledDates;if(!t)return this._options.disabledDates=!1,this._update(),!0;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");this._options.disabledDates=this._indexGivenDates(t),this._options.enabledDates=!1,this._update()},m.enabledDates=function(t){if(0===arguments.length)return this._options.enabledDates?e.extend({},this._options.enabledDates):this._options.enabledDates;if(!t)return this._options.enabledDates=!1,this._update(),!0;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");this._options.enabledDates=this._indexGivenDates(t),this._options.disabledDates=!1,this._update()},m.daysOfWeekDisabled=function(e){if(0===arguments.length)return this._options.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return this._options.daysOfWeekDisabled=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(this._options.daysOfWeekDisabled=e.reduce((function(e,t){return 6<(t=parseInt(t,10))||t<0||isNaN(t)||-1===e.indexOf(t)&&e.push(t),e}),[]).sort(),this._options.useCurrent&&!this._options.keepInvalid)for(var t=0;t<this._dates.length;t++){for(var n=0;!this._isValid(this._dates[t],"d");){if(this._dates[t].add(1,"d"),31===n)throw"Tried 31 times to find a valid date";n++}this._setValue(this._dates[t],t)}this._update()},m.maxDate=function(e){if(0===arguments.length)return this._options.maxDate?this._options.maxDate.clone():this._options.maxDate;if("boolean"==typeof e&&!1===e)return this._options.maxDate=!1,this._update(),!0;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=this.getMoment()));var t=this._parseInputDate(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(this._options.minDate&&t.isBefore(this._options.minDate))throw new TypeError("maxDate() date parameter is before this.options.minDate: "+t.format(this.actualFormat));this._options.maxDate=t;for(var n=0;n<this._dates.length;n++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[n].isAfter(e)&&this._setValue(this._options.maxDate,n);this._viewDate.isAfter(t)&&(this._viewDate=t.clone().subtract(this._options.stepping,"m")),this._update()},m.minDate=function(e){if(0===arguments.length)return this._options.minDate?this._options.minDate.clone():this._options.minDate;if("boolean"==typeof e&&!1===e)return this._options.minDate=!1,this._update(),!0;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=this.getMoment()));var t=this._parseInputDate(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(this._options.maxDate&&t.isAfter(this._options.maxDate))throw new TypeError("minDate() date parameter is after this.options.maxDate: "+t.format(this.actualFormat));this._options.minDate=t;for(var n=0;n<this._dates.length;n++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[n].isBefore(e)&&this._setValue(this._options.minDate,n);this._viewDate.isBefore(t)&&(this._viewDate=t.clone().add(this._options.stepping,"m")),this._update()},m.defaultDate=function(e){if(0===arguments.length)return this._options.defaultDate?this._options.defaultDate.clone():this._options.defaultDate;if(!e)return!(this._options.defaultDate=!1);"string"==typeof e&&(e="now"===e||"moment"===e?this.getMoment():this.getMoment(e));var t=this._parseInputDate(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!this._isValid(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");this._options.defaultDate=t,(this._options.defaultDate&&this._options.inline||void 0!==this.input&&""===this.input.val().trim())&&this._setValue(this._options.defaultDate,0)},m.locale=function(e){if(0===arguments.length)return this._options.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");this._options.locale=e;for(var n=0;n<this._dates.length;n++)this._dates[n].locale(this._options.locale);this._viewDate.locale(this._options.locale),this.actualFormat&&this._initFormatting(),this.widget&&(this.hide(),this.show())},m.stepping=function(e){if(0===arguments.length)return this._options.stepping;e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),this._options.stepping=e},m.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return this._options.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));this._options.useCurrent=e},m.collapse=function(e){if(0===arguments.length)return this._options.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");if(this._options.collapse===e)return!0;this._options.collapse=e,this.widget&&(this.hide(),this.show())},m.icons=function(t){if(0===arguments.length)return e.extend({},this._options.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");e.extend(this._options.icons,t),this.widget&&(this.hide(),this.show())},m.tooltips=function(t){if(0===arguments.length)return e.extend({},this._options.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");e.extend(this._options.tooltips,t),this.widget&&(this.hide(),this.show())},m.useStrict=function(e){if(0===arguments.length)return this._options.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");this._options.useStrict=e},m.sideBySide=function(e){if(0===arguments.length)return this._options.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");this._options.sideBySide=e,this.widget&&(this.hide(),this.show())},m.viewMode=function(e){if(0===arguments.length)return this._options.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===p.ViewModes.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+p.ViewModes.join(", ")+") value");this._options.viewMode=e,this.currentViewMode=Math.max(p.ViewModes.indexOf(e)-1,this.MinViewModeNumber),this._showMode()},m.calendarWeeks=function(e){if(0===arguments.length)return this._options.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");this._options.calendarWeeks=e,this._update()},m.buttons=function(t){if(0===arguments.length)return e.extend({},this._options.buttons);if(!(t instanceof Object))throw new TypeError("buttons() expects parameter to be an Object");if(e.extend(this._options.buttons,t),"boolean"!=typeof this._options.buttons.showToday)throw new TypeError("buttons.showToday expects a boolean parameter");if("boolean"!=typeof this._options.buttons.showClear)throw new TypeError("buttons.showClear expects a boolean parameter");if("boolean"!=typeof this._options.buttons.showClose)throw new TypeError("buttons.showClose expects a boolean parameter");this.widget&&(this.hide(),this.show())},m.keepOpen=function(e){if(0===arguments.length)return this._options.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");this._options.keepOpen=e},m.focusOnShow=function(e){if(0===arguments.length)return this._options.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");this._options.focusOnShow=e},m.inline=function(e){if(0===arguments.length)return this._options.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");this._options.inline=e},m.clear=function(){this._setValue(null)},m.keyBinds=function(e){if(0===arguments.length)return this._options.keyBinds;this._options.keyBinds=e},m.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");this._options.debug=e},m.allowInputToggle=function(e){if(0===arguments.length)return this._options.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");this._options.allowInputToggle=e},m.keepInvalid=function(e){if(0===arguments.length)return this._options.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");this._options.keepInvalid=e},m.datepickerInput=function(e){if(0===arguments.length)return this._options.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");this._options.datepickerInput=e},m.parseInputDate=function(e){if(0===arguments.length)return this._options.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() should be as function");this._options.parseInputDate=e},m.disabledTimeIntervals=function(t){if(0===arguments.length)return this._options.disabledTimeIntervals?e.extend({},this._options.disabledTimeIntervals):this._options.disabledTimeIntervals;if(!t)return this._options.disabledTimeIntervals=!1,this._update(),!0;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");this._options.disabledTimeIntervals=t,this._update()},m.disabledHours=function(t){if(0===arguments.length)return this._options.disabledHours?e.extend({},this._options.disabledHours):this._options.disabledHours;if(!t)return this._options.disabledHours=!1,this._update(),!0;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(this._options.disabledHours=this._indexGivenHours(t),this._options.enabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var n=0;n<this._dates.length;n++){for(var i=0;!this._isValid(this._dates[n],"h");){if(this._dates[n].add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}this._setValue(this._dates[n],n)}this._update()},m.enabledHours=function(t){if(0===arguments.length)return this._options.enabledHours?e.extend({},this._options.enabledHours):this._options.enabledHours;if(!t)return this._options.enabledHours=!1,this._update(),!0;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(this._options.enabledHours=this._indexGivenHours(t),this._options.disabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var n=0;n<this._dates.length;n++){for(var i=0;!this._isValid(this._dates[n],"h");){if(this._dates[n].add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}this._setValue(this._dates[n],n)}this._update()},m.viewDate=function(e){if(0===arguments.length)return this._viewDate.clone();if(!e)return this._viewDate=(this._dates[0]||this.getMoment()).clone(),!0;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");this._viewDate=this._parseInputDate(e),this._update(),this._viewUpdate(l[this.currentViewMode]&&l[this.currentViewMode].NAV_FUNCTION)},m._fillDate=function(){},m._useFeatherIcons=function(){return"feather"===this._options.icons.type},m.allowMultidate=function(e){if("boolean"!=typeof e)throw new TypeError("allowMultidate() expects a boolean parameter");this._options.allowMultidate=e},m.multidateSeparator=function(e){if(0===arguments.length)return this._options.multidateSeparator;if("string"!=typeof e)throw new TypeError("multidateSeparator expects a string parameter");this._options.multidateSeparator=e},(v=[{key:"NAME",get:function(){return n}},{key:"DATA_KEY",get:function(){return i}},{key:"EVENT_KEY",get:function(){return r}},{key:"DATA_API_KEY",get:function(){return".data-api"}},{key:"DatePickerModes",get:function(){return l}},{key:"ViewModes",get:function(){return c}},{key:"Event",get:function(){return s}},{key:"Selector",get:function(){return o}},{key:"Default",get:function(){return g},set:function(e){g=e}},{key:"ClassName",get:function(){return a}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(p,v),p}());function C(e){return t=new Date(e),"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime());var t}function k(e){return e.replace(/(^\s+)|(\s+$)/g,"")}function E(e,t){return p[e]&&p[t]?p[e]<0&&p[t]<0?Math.abs(p[t])-Math.abs(p[e]):p[e]<0?-1:p[t]<0?1:p[e]-p[t]:p[e]?p[e]:p[t]?p[t]:0}function S(e){var t,n=e.data("target");return n||(n=e.attr("href")||"",n=/^#[a-z]/i.test(n)?n:null),0===(t=v(n)).length?e:(t.data(_.DATA_KEY)||v.extend({},t.data(),v(this).data()),t)}v=jQuery,m=v.fn[_.NAME],y=["top","bottom","auto"],D=["left","right","auto"],b=["default","top","bottom"],w=function(e){var t,n;function i(t,n){var i=e.call(this,t,n)||this;return i._init(),i}n=e,(t=i).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var r=i.prototype;return r._init=function(){var e;this._element.hasClass("input-group")&&(0===(e=this._element.find(".datepickerbutton")).length?this.component=this._element.find('[data-toggle="datetimepicker"]'):this.component=e)},r._iconTag=function(e){return"undefined"!=typeof feather&&this._useFeatherIcons()&&feather.icons[e]?v("<span>").html(feather.icons[e].toSvg()):v("<span>").addClass(e)},r._getDatePickerTemplate=function(){var e=v("<thead>").append(v("<tr>").append(v("<th>").addClass("prev").attr("data-action","previous").append(this._iconTag(this._options.icons.previous))).append(v("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",this._options.calendarWeeks?"6":"5")).append(v("<th>").addClass("next").attr("data-action","next").append(this._iconTag(this._options.icons.next)))),t=v("<tbody>").append(v("<tr>").append(v("<td>").attr("colspan",this._options.calendarWeeks?"8":"7")));return[v("<div>").addClass("datepicker-days").append(v("<table>").addClass("table table-sm").append(e).append(v("<tbody>"))),v("<div>").addClass("datepicker-months").append(v("<table>").addClass("table-condensed").append(e.clone()).append(t.clone())),v("<div>").addClass("datepicker-years").append(v("<table>").addClass("table-condensed").append(e.clone()).append(t.clone())),v("<div>").addClass("datepicker-decades").append(v("<table>").addClass("table-condensed").append(e.clone()).append(t.clone()))]},r._getTimePickerMainTemplate=function(){var e=v("<tr>"),t=v("<tr>"),n=v("<tr>");return this._isEnabled("h")&&(e.append(v("<td>").append(v("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(this._iconTag(this._options.icons.up)))),t.append(v("<td>").append(v("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:this._options.tooltips.pickHour}).attr("data-action","showHours"))),n.append(v("<td>").append(v("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(this._iconTag(this._options.icons.down))))),this._isEnabled("m")&&(this._isEnabled("h")&&(e.append(v("<td>").addClass("separator")),t.append(v("<td>").addClass("separator").html(":")),n.append(v("<td>").addClass("separator"))),e.append(v("<td>").append(v("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(this._iconTag(this._options.icons.up)))),t.append(v("<td>").append(v("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:this._options.tooltips.pickMinute}).attr("data-action","showMinutes"))),n.append(v("<td>").append(v("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(this._iconTag(this._options.icons.down))))),this._isEnabled("s")&&(this._isEnabled("m")&&(e.append(v("<td>").addClass("separator")),t.append(v("<td>").addClass("separator").html(":")),n.append(v("<td>").addClass("separator"))),e.append(v("<td>").append(v("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(this._iconTag(this._options.icons.up)))),t.append(v("<td>").append(v("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:this._options.tooltips.pickSecond}).attr("data-action","showSeconds"))),n.append(v("<td>").append(v("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(this._iconTag(this._options.icons.down))))),this.use24Hours||(e.append(v("<td>").addClass("separator")),t.append(v("<td>").append(v("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:this._options.tooltips.togglePeriod}))),n.append(v("<td>").addClass("separator"))),v("<div>").addClass("timepicker-picker").append(v("<table>").addClass("table-condensed").append([e,t,n]))},r._getTimePickerTemplate=function(){var e=v("<div>").addClass("timepicker-hours").append(v("<table>").addClass("table-condensed")),t=v("<div>").addClass("timepicker-minutes").append(v("<table>").addClass("table-condensed")),n=v("<div>").addClass("timepicker-seconds").append(v("<table>").addClass("table-condensed")),i=[this._getTimePickerMainTemplate()];return this._isEnabled("h")&&i.push(e),this._isEnabled("m")&&i.push(t),this._isEnabled("s")&&i.push(n),i},r._getToolbar=function(){var e,t,n=[];return this._options.buttons.showToday&&n.push(v("<td>").append(v("<a>").attr({href:"#",tabindex:"-1","data-action":"today",title:this._options.tooltips.today}).append(this._iconTag(this._options.icons.today)))),!this._options.sideBySide&&this._options.collapse&&this._hasDate()&&this._hasTime()&&(t="times"===this._options.viewMode?(e=this._options.tooltips.selectDate,this._options.icons.date):(e=this._options.tooltips.selectTime,this._options.icons.time),n.push(v("<td>").append(v("<a>").attr({href:"#",tabindex:"-1","data-action":"togglePicker",title:e}).append(this._iconTag(t))))),this._options.buttons.showClear&&n.push(v("<td>").append(v("<a>").attr({href:"#",tabindex:"-1","data-action":"clear",title:this._options.tooltips.clear}).append(this._iconTag(this._options.icons.clear)))),this._options.buttons.showClose&&n.push(v("<td>").append(v("<a>").attr({href:"#",tabindex:"-1","data-action":"close",title:this._options.tooltips.close}).append(this._iconTag(this._options.icons.close)))),0===n.length?"":v("<table>").addClass("table-condensed").append(v("<tbody>").append(v("<tr>").append(n)))},r._getTemplate=function(){var e=v("<div>").addClass(("bootstrap-datetimepicker-widget dropdown-menu "+(this._options.calendarWeeks?"tempusdominus-bootstrap-datetimepicker-widget-with-calendar-weeks":"")+" "+(this._useFeatherIcons()?"tempusdominus-bootstrap-datetimepicker-widget-with-feather-icons":"")+" ").trim()),t=v("<div>").addClass("datepicker").append(this._getDatePickerTemplate()),n=v("<div>").addClass("timepicker").append(this._getTimePickerTemplate()),i=v("<ul>").addClass("list-unstyled"),r=v("<li>").addClass(("picker-switch"+(this._options.collapse?" accordion-toggle":"")+" "+(this._useFeatherIcons()?"picker-switch-with-feathers-icons":"")).trim()).append(this._getToolbar());return this._options.inline&&e.removeClass("dropdown-menu"),this.use24Hours&&e.addClass("usetwentyfour"),(void 0!==this.input&&this.input.prop("readonly")||this._options.readonly)&&e.addClass("bootstrap-datetimepicker-widget-readonly"),this._isEnabled("s")&&!this.use24Hours&&e.addClass("wider"),this._options.sideBySide&&this._hasDate()&&this._hasTime()?(e.addClass("timepicker-sbs"),"top"===this._options.toolbarPlacement&&e.append(r),e.append(v("<div>").addClass("row").append(t.addClass("col-md-6")).append(n.addClass("col-md-6"))),"bottom"!==this._options.toolbarPlacement&&"default"!==this._options.toolbarPlacement||e.append(r),e):("top"===this._options.toolbarPlacement&&i.append(r),this._hasDate()&&i.append(v("<li>").addClass(this._options.collapse&&this._hasTime()?"collapse":"").addClass(this._options.collapse&&this._hasTime()&&"times"===this._options.viewMode?"":"show").append(t)),"default"===this._options.toolbarPlacement&&i.append(r),this._hasTime()&&i.append(v("<li>").addClass(this._options.collapse&&this._hasDate()?"collapse":"").addClass(this._options.collapse&&this._hasDate()&&"times"===this._options.viewMode?"show":"").append(n)),"bottom"===this._options.toolbarPlacement&&i.append(r),e.append(i))},r._place=function(e){var t,n=e&&e.data&&e.data.picker||this,i=n._options.widgetPositioning.vertical,r=n._options.widgetPositioning.horizontal,o=(n.component&&n.component.length?n.component:n._element).position(),a=(n.component&&n.component.length?n.component:n._element).offset();if(n._options.widgetParent)t=n._options.widgetParent.append(n.widget);else if(n._element.is("input"))t=n._element.after(n.widget).parent();else{if(n._options.inline)return void(t=n._element.append(n.widget));t=n._element,n._element.children().first().after(n.widget)}if("auto"===i&&(i=a.top+1.5*n.widget.height()>=v(window).height()+v(window).scrollTop()&&n.widget.height()+n._element.outerHeight()<a.top?"top":"bottom"),"auto"===r&&(r=t.width()<a.left+n.widget.outerWidth()/2&&a.left+n.widget.outerWidth()>v(window).width()?"right":"left"),"top"===i?n.widget.addClass("top").removeClass("bottom"):n.widget.addClass("bottom").removeClass("top"),"right"===r?n.widget.addClass("float-right"):n.widget.removeClass("float-right"),"relative"!==t.css("position")&&(t=t.parents().filter((function(){return"relative"===v(this).css("position")})).first()),0===t.length)throw new Error("datetimepicker component should be placed within a relative positioned container");n.widget.css({top:"top"===i?"auto":o.top+n._element.outerHeight()+"px",bottom:"top"===i?t.outerHeight()-(t===n._element?0:o.top)+"px":"auto",left:"left"===r?(t===n._element?0:o.left)+"px":"auto",right:"left"===r?"auto":t.outerWidth()-n._element.outerWidth()-(t===n._element?0:o.left)+"px"})},r._fillDow=function(){var e=v("<tr>"),t=this._viewDate.clone().startOf("w").startOf("d");for(!0===this._options.calendarWeeks&&e.append(v("<th>").addClass("cw").text("#"));t.isBefore(this._viewDate.clone().endOf("w"));)e.append(v("<th>").addClass("dow").text(t.format("dd"))),t.add(1,"d");this.widget.find(".datepicker-days thead").append(e)},r._fillMonths=function(){for(var e=[],t=this._viewDate.clone().startOf("y").startOf("d");t.isSame(this._viewDate,"y");)e.push(v("<span>").attr("data-action","selectMonth").addClass("month").text(t.format("MMM"))),t.add(1,"M");this.widget.find(".datepicker-months td").empty().append(e)},r._updateMonths=function(){var e=this.widget.find(".datepicker-months"),t=e.find("th"),n=e.find("tbody").find("span"),i=this,r=this._getLastPickedDate();t.eq(0).find("span").attr("title",this._options.tooltips.prevYear),t.eq(1).attr("title",this._options.tooltips.selectYear),t.eq(2).find("span").attr("title",this._options.tooltips.nextYear),e.find(".disabled").removeClass("disabled"),this._isValid(this._viewDate.clone().subtract(1,"y"),"y")||t.eq(0).addClass("disabled"),t.eq(1).text(this._viewDate.year()),this._isValid(this._viewDate.clone().add(1,"y"),"y")||t.eq(2).addClass("disabled"),n.removeClass("active"),r&&r.isSame(this._viewDate,"y")&&!this.unset&&n.eq(r.month()).addClass("active"),n.each((function(e){i._isValid(i._viewDate.clone().month(e),"M")||v(this).addClass("disabled")}))},r._getStartEndYear=function(e,t){var n=e/10,i=Math.floor(t/e)*e;return[i,i+9*n,Math.floor(t/n)*n]},r._updateYears=function(){var e=this.widget.find(".datepicker-years"),t=e.find("th"),n=this._getStartEndYear(10,this._viewDate.year()),i=this._viewDate.clone().year(n[0]),r=this._viewDate.clone().year(n[1]),o="";for(t.eq(0).find("span").attr("title",this._options.tooltips.prevDecade),t.eq(1).attr("title",this._options.tooltips.selectDecade),t.eq(2).find("span").attr("title",this._options.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),this._options.minDate&&this._options.minDate.isAfter(i,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(i.year()+"-"+r.year()),this._options.maxDate&&this._options.maxDate.isBefore(r,"y")&&t.eq(2).addClass("disabled"),o+='<span data-action="selectYear" class="year old'+(this._isValid(i,"y")?"":" disabled")+'">'+(i.year()-1)+"</span>";!i.isAfter(r,"y");)o+='<span data-action="selectYear" class="year'+(i.isSame(this._getLastPickedDate(),"y")&&!this.unset?" active":"")+(this._isValid(i,"y")?"":" disabled")+'">'+i.year()+"</span>",i.add(1,"y");o+='<span data-action="selectYear" class="year old'+(this._isValid(i,"y")?"":" disabled")+'">'+i.year()+"</span>",e.find("td").html(o)},r._updateDecades=function(){var e,t=this.widget.find(".datepicker-decades"),n=t.find("th"),i=this._getStartEndYear(100,this._viewDate.year()),r=this._viewDate.clone().year(i[0]),o=this._viewDate.clone().year(i[1]),a=this._getLastPickedDate(),s=!1,l=!1,d="";for(n.eq(0).find("span").attr("title",this._options.tooltips.prevCentury),n.eq(2).find("span").attr("title",this._options.tooltips.nextCentury),t.find(".disabled").removeClass("disabled"),(0===r.year()||this._options.minDate&&this._options.minDate.isAfter(r,"y"))&&n.eq(0).addClass("disabled"),n.eq(1).text(r.year()+"-"+o.year()),this._options.maxDate&&this._options.maxDate.isBefore(o,"y")&&n.eq(2).addClass("disabled"),r.year()-10<0?d+="<span>&nbsp;</span>":d+='<span data-action="selectDecade" class="decade old" data-selection="'+(r.year()+6)+'">'+(r.year()-10)+"</span>";!r.isAfter(o,"y");)e=r.year()+11,s=this._options.minDate&&this._options.minDate.isAfter(r,"y")&&this._options.minDate.year()<=e,l=this._options.maxDate&&this._options.maxDate.isAfter(r,"y")&&this._options.maxDate.year()<=e,d+='<span data-action="selectDecade" class="decade'+(a&&a.isAfter(r)&&a.year()<=e?" active":"")+(this._isValid(r,"y")||s||l?"":" disabled")+'" data-selection="'+(r.year()+6)+'">'+r.year()+"</span>",r.add(10,"y");d+='<span data-action="selectDecade" class="decade old" data-selection="'+(r.year()+6)+'">'+r.year()+"</span>",t.find("td").html(d)},r._fillDate=function(){e.prototype._fillDate.call(this);var t,n,i,r,o,a=this.widget.find(".datepicker-days"),s=a.find("th"),l=[];if(this._hasDate()){for(s.eq(0).find("span").attr("title",this._options.tooltips.prevMonth),s.eq(1).attr("title",this._options.tooltips.selectMonth),s.eq(2).find("span").attr("title",this._options.tooltips.nextMonth),a.find(".disabled").removeClass("disabled"),s.eq(1).text(this._viewDate.format(this._options.dayViewHeaderFormat)),this._isValid(this._viewDate.clone().subtract(1,"M"),"M")||s.eq(0).addClass("disabled"),this._isValid(this._viewDate.clone().add(1,"M"),"M")||s.eq(2).addClass("disabled"),t=this._viewDate.clone().startOf("M").startOf("w").startOf("d"),r=0;r<42;r++)0===t.weekday()&&(n=v("<tr>"),this._options.calendarWeeks&&n.append('<td class="cw">'+t.week()+"</td>"),l.push(n)),i="",t.isBefore(this._viewDate,"M")&&(i+=" old"),t.isAfter(this._viewDate,"M")&&(i+=" new"),this._options.allowMultidate?-1!==(o=this._datesFormatted.indexOf(t.format("YYYY-MM-DD")))&&t.isSame(this._datesFormatted[o],"d")&&!this.unset&&(i+=" active"):t.isSame(this._getLastPickedDate(),"d")&&!this.unset&&(i+=" active"),this._isValid(t,"d")||(i+=" disabled"),t.isSame(this.getMoment(),"d")&&(i+=" today"),0!==t.day()&&6!==t.day()||(i+=" weekend"),n.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="day'+i+'">'+t.date()+"</td>"),t.add(1,"d");v("body").addClass("tempusdominus-bootstrap-datetimepicker-widget-day-click"),v("body").append('<div class="tempusdominus-bootstrap-datetimepicker-widget-day-click-glass-panel"></div>'),a.find("tbody").empty().append(l),v("body").find(".tempusdominus-bootstrap-datetimepicker-widget-day-click-glass-panel").remove(),v("body").removeClass("tempusdominus-bootstrap-datetimepicker-widget-day-click"),this._updateMonths(),this._updateYears(),this._updateDecades()}},r._fillHours=function(){var e=this.widget.find(".timepicker-hours table"),t=this._viewDate.clone().startOf("d"),n=[],i=v("<tr>");for(11<this._viewDate.hour()&&!this.use24Hours&&t.hour(12);t.isSame(this._viewDate,"d")&&(this.use24Hours||this._viewDate.hour()<12&&t.hour()<12||11<this._viewDate.hour());)t.hour()%4==0&&(i=v("<tr>"),n.push(i)),i.append('<td data-action="selectHour" class="hour'+(this._isValid(t,"h")?"":" disabled")+'">'+t.format(this.use24Hours?"HH":"hh")+"</td>"),t.add(1,"h");e.empty().append(n)},r._fillMinutes=function(){for(var e=this.widget.find(".timepicker-minutes table"),t=this._viewDate.clone().startOf("h"),n=[],i=1===this._options.stepping?5:this._options.stepping,r=v("<tr>");this._viewDate.isSame(t,"h");)t.minute()%(4*i)==0&&(r=v("<tr>"),n.push(r)),r.append('<td data-action="selectMinute" class="minute'+(this._isValid(t,"m")?"":" disabled")+'">'+t.format("mm")+"</td>"),t.add(i,"m");e.empty().append(n)},r._fillSeconds=function(){for(var e=this.widget.find(".timepicker-seconds table"),t=this._viewDate.clone().startOf("m"),n=[],i=v("<tr>");this._viewDate.isSame(t,"m");)t.second()%20==0&&(i=v("<tr>"),n.push(i)),i.append('<td data-action="selectSecond" class="second'+(this._isValid(t,"s")?"":" disabled")+'">'+t.format("ss")+"</td>"),t.add(5,"s");e.empty().append(n)},r._fillTime=function(){var e,t,n=this.widget.find(".timepicker span[data-time-component]"),i=this._getLastPickedDate();this.use24Hours||(e=this.widget.find(".timepicker [data-action=togglePeriod]"),t=i?i.clone().add(12<=i.hours()?-12:12,"h"):void 0,i&&e.text(i.format("A")),this._isValid(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),i&&n.filter("[data-time-component=hours]").text(i.format(this.use24Hours?"HH":"hh")),i&&n.filter("[data-time-component=minutes]").text(i.format("mm")),i&&n.filter("[data-time-component=seconds]").text(i.format("ss")),this._fillHours(),this._fillMinutes(),this._fillSeconds()},r._doAction=function(e,t){var n=this._getLastPickedDate();if(v(e.currentTarget).is(".disabled"))return!1;switch(t=t||v(e.currentTarget).data("action")){case"next":var i=_.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.add(_.DatePickerModes[this.currentViewMode].NAV_STEP,i),this._fillDate(),this._viewUpdate(i);break;case"previous":var r=_.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.subtract(_.DatePickerModes[this.currentViewMode].NAV_STEP,r),this._fillDate(),this._viewUpdate(r);break;case"pickerSwitch":this._showMode(1);break;case"selectMonth":var o=v(e.target).closest("tbody").find("span").index(v(e.target));this._viewDate.month(o),this.currentViewMode===this.MinViewModeNumber?(this._setValue(n.clone().year(this._viewDate.year()).month(this._viewDate.month()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("M");break;case"selectYear":var a=parseInt(v(e.target).text(),10)||0;this._viewDate.year(a),this.currentViewMode===this.MinViewModeNumber?(this._setValue(n.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("YYYY");break;case"selectDecade":var s=parseInt(v(e.target).data("selection"),10)||0;this._viewDate.year(s),this.currentViewMode===this.MinViewModeNumber?(this._setValue(n.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("YYYY");break;case"selectDay":var l=this._viewDate.clone();v(e.target).is(".old")&&l.subtract(1,"M"),v(e.target).is(".new")&&l.add(1,"M");var d=l.date(parseInt(v(e.target).text(),10)),c=0;this._options.allowMultidate?-1!==(c=this._datesFormatted.indexOf(d.format("YYYY-MM-DD")))?this._setValue(null,c):this._setValue(d,this._getLastPickedDateIndex()+1):this._setValue(d,this._getLastPickedDateIndex()),this._hasTime()||this._options.keepOpen||this._options.inline||this._options.allowMultidate||this.hide();break;case"incrementHours":if(!n)break;var u=n.clone().add(1,"h");this._isValid(u,"h")&&(this._getLastPickedDateIndex()<0&&this.date(u),this._setValue(u,this._getLastPickedDateIndex()));break;case"incrementMinutes":if(!n)break;var h=n.clone().add(this._options.stepping,"m");this._isValid(h,"m")&&(this._getLastPickedDateIndex()<0&&this.date(h),this._setValue(h,this._getLastPickedDateIndex()));break;case"incrementSeconds":if(!n)break;var p=n.clone().add(1,"s");this._isValid(p,"s")&&(this._getLastPickedDateIndex()<0&&this.date(p),this._setValue(p,this._getLastPickedDateIndex()));break;case"decrementHours":if(!n)break;var f=n.clone().subtract(1,"h");this._isValid(f,"h")&&(this._getLastPickedDateIndex()<0&&this.date(f),this._setValue(f,this._getLastPickedDateIndex()));break;case"decrementMinutes":if(!n)break;var g=n.clone().subtract(this._options.stepping,"m");this._isValid(g,"m")&&(this._getLastPickedDateIndex()<0&&this.date(g),this._setValue(g,this._getLastPickedDateIndex()));break;case"decrementSeconds":if(!n)break;var m=n.clone().subtract(1,"s");this._isValid(m,"s")&&(this._getLastPickedDateIndex()<0&&this.date(m),this._setValue(m,this._getLastPickedDateIndex()));break;case"togglePeriod":this._setValue(n.clone().add(12<=n.hours()?-12:12,"h"),this._getLastPickedDateIndex());break;case"togglePicker":var y,D,b=v(e.target),w=b.closest("a"),C=b.closest("ul"),k=C.find(".show"),E=C.find(".collapse:not(.show)"),S=b.is("span")?b:b.find("span");if(k&&k.length){if((y=k.data("collapse"))&&y.transitioning)return!0;k.collapse?(k.collapse("hide"),E.collapse("show")):(k.removeClass("show"),E.addClass("show")),this._useFeatherIcons()?(w.toggleClass(this._options.icons.time+" "+this._options.icons.date),D=w.hasClass(this._options.icons.time)?this._options.icons.date:this._options.icons.time,w.html(this._iconTag(D))):S.toggleClass(this._options.icons.time+" "+this._options.icons.date),(this._useFeatherIcons()?w.hasClass(this._options.icons.date):S.hasClass(this._options.icons.date))?w.attr("title",this._options.tooltips.selectDate):w.attr("title",this._options.tooltips.selectTime)}break;case"showPicker":this.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),this.widget.find(".timepicker .timepicker-picker").show();break;case"showHours":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-hours").show();break;case"showMinutes":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-minutes").show();break;case"showSeconds":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-seconds").show();break;case"selectHour":var T=parseInt(v(e.target).text(),10);this.use24Hours||(12<=n.hours()?12!==T&&(T+=12):12===T&&(T=0)),this._setValue(n.clone().hours(T),this._getLastPickedDateIndex()),this._isEnabled("a")||this._isEnabled("m")||this._options.keepOpen||this._options.inline?this._doAction(e,"showPicker"):this.hide();break;case"selectMinute":this._setValue(n.clone().minutes(parseInt(v(e.target).text(),10)),this._getLastPickedDateIndex()),this._isEnabled("a")||this._isEnabled("s")||this._options.keepOpen||this._options.inline?this._doAction(e,"showPicker"):this.hide();break;case"selectSecond":this._setValue(n.clone().seconds(parseInt(v(e.target).text(),10)),this._getLastPickedDateIndex()),this._isEnabled("a")||this._options.keepOpen||this._options.inline?this._doAction(e,"showPicker"):this.hide();break;case"clear":this.clear();break;case"close":this.hide();break;case"today":var M=this.getMoment();this._isValid(M,"d")&&this._setValue(M,this._getLastPickedDateIndex())}return!1},r.hide=function(){var e,t=!1;this.widget&&(this.widget.find(".collapse").each((function(){var e=v(this).data("collapse");return!e||!e.transitioning||!(t=!0)})),t||(this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active"),this.widget.hide(),v(window).off("resize",this._place),this.widget.off("click","[data-action]"),this.widget.off("mousedown",!1),this.widget.remove(),this.widget=!1,void 0!==this.input&&void 0!==this.input.val()&&0!==this.input.val().trim().length&&this._setValue(this._parseInputDate(this.input.val().trim(),{isPickerShow:!1}),0),e=this._getLastPickedDate(),this._notifyEvent({type:_.Event.HIDE,date:this.unset?null:e?e.clone():void 0}),void 0!==this.input&&this.input.blur(),this._viewDate=e?e.clone():this.getMoment()))},r.show=function(){var e,t=!1;if(void 0!==this.input){if(this.input.prop("disabled")||!this._options.ignoreReadonly&&this.input.prop("readonly")||this.widget)return;void 0!==this.input.val()&&0!==this.input.val().trim().length?this._setValue(this._parseInputDate(this.input.val().trim(),{isPickerShow:!0}),0):t=!0}else t=!0;t&&this.unset&&this._options.useCurrent&&(e=this.getMoment(),"string"==typeof this._options.useCurrent&&(e={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}}[this._options.useCurrent](e)),this._setValue(e,0)),this.widget=this._getTemplate(),this._fillDow(),this._fillMonths(),this.widget.find(".timepicker-hours").hide(),this.widget.find(".timepicker-minutes").hide(),this.widget.find(".timepicker-seconds").hide(),this._update(),this._showMode(),v(window).on("resize",{picker:this},this._place),this.widget.on("click","[data-action]",v.proxy(this._doAction,this)),this.widget.on("mousedown",!1),this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active"),this._place(),this.widget.show(),void 0!==this.input&&this._options.focusOnShow&&!this.input.is(":focus")&&this.input.focus(),this._notifyEvent({type:_.Event.SHOW})},r.destroy=function(){this.hide(),this._element.removeData(_.DATA_KEY),this._element.removeData("date")},r.disable=function(){this.hide(),this.component&&this.component.hasClass("btn")&&this.component.addClass("disabled"),void 0!==this.input&&this.input.prop("disabled",!0)},r.enable=function(){this.component&&this.component.hasClass("btn")&&this.component.removeClass("disabled"),void 0!==this.input&&this.input.prop("disabled",!1)},r.toolbarPlacement=function(e){if(0===arguments.length)return this._options.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===b.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+b.join(", ")+") value");this._options.toolbarPlacement=e,this.widget&&(this.hide(),this.show())},r.widgetPositioning=function(e){if(0===arguments.length)return v.extend({},this._options.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===D.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+D.join(", ")+")");this._options.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===y.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+y.join(", ")+")");this._options.widgetPositioning.vertical=e.vertical}this._update()},r.widgetParent=function(e){if(0===arguments.length)return this._options.widgetParent;if("string"==typeof e&&(e=v(e)),null!==e&&"string"!=typeof e&&!(e instanceof v))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");this._options.widgetParent=e,this.widget&&(this.hide(),this.show())},r.setMultiDate=function(e){var t=this._options.format;this.clear();for(var n=0;n<e.length;n++){var i=moment(e[n],t);this._setValue(i,n)}},i._jQueryHandleThis=function(e,t,n){var r=v(e).data(_.DATA_KEY);if("object"==typeof t&&v.extend({},_.Default,t),r||(r=new i(v(e),t),v(e).data(_.DATA_KEY,r)),"string"==typeof t){if(void 0===r[t])throw new Error('No method named "'+t+'"');if(void 0===n)return r[t]();"date"===t&&(r.isDateUpdateThroughDateOptionFromClientCode=!0);var o=r[t](n);return r.isDateUpdateThroughDateOptionFromClientCode=!1,o}},i._jQueryInterface=function(e,t){return 1===this.length?i._jQueryHandleThis(this[0],e,t):this.each((function(){i._jQueryHandleThis(this,e,t)}))},i}(_),v(document).on(_.Event.CLICK_DATA_API,_.Selector.DATA_TOGGLE,(function(){var e=v(this),t=S(e),n=t.data(_.DATA_KEY);0!==t.length&&(n._options.allowInputToggle&&e.is('input[data-toggle="datetimepicker"]')||w._jQueryInterface.call(t,"toggle"))})).on(_.Event.CHANGE,"."+_.ClassName.INPUT,(function(e){var t=S(v(this));0===t.length||e.isInit||w._jQueryInterface.call(t,"_change",e)})).on(_.Event.BLUR,"."+_.ClassName.INPUT,(function(e){var t=S(v(this)),n=t.data(_.DATA_KEY);0!==t.length&&(n._options.debug||window.debug||w._jQueryInterface.call(t,"hide",e))})).on(_.Event.KEYDOWN,"."+_.ClassName.INPUT,(function(e){var t=S(v(this));0!==t.length&&w._jQueryInterface.call(t,"_keydown",e)})).on(_.Event.KEYUP,"."+_.ClassName.INPUT,(function(e){var t=S(v(this));0!==t.length&&w._jQueryInterface.call(t,"_keyup",e)})).on(_.Event.FOCUS,"."+_.ClassName.INPUT,(function(e){var t=S(v(this)),n=t.data(_.DATA_KEY);0!==t.length&&n._options.allowInputToggle&&w._jQueryInterface.call(t,"show",e)})),v.fn[_.NAME]=w._jQueryInterface,v.fn[_.NAME].Constructor=w,v.fn[_.NAME].noConflict=function(){return v.fn[_.NAME]=m,w._jQueryInterface}}(),function(e){var t=function(t){var n=e.extend({state:0,toggleCallback:!1,settingCallback:!1},t);this.toggle=function(){n.state=n.state>0?n.state-1:n.state+1,n.toggleCallback&&n.toggleCallback(n.state)},this.set=function(e){n.state=0==e?0:1,n.settingCallback&&n.settingCallback()},this.get=function(){return n.state}},n=function(n){var i=e.extend({dimensions:void 0,sheetData:void 0,toggleCallback:!1,settingCallback:!1},n);i.cells=[],i.initCells=function(){var e=i.dimensions[0],n=i.dimensions[1];if(!(2==i.dimensions.length&&e>0&&n>0))throw new Error("CSheet : wrong dimensions");for(var r=0,o=[];r<e;++r){o=[];for(var a=0;a<n;++a)o.push(new t({state:i.sheetData&&i.sheetData[r]?parseInt(i.sheetData[r][a]):0}));i.cells.push(o)}},i.areaOperate=function(t,n){var r=i.cells.length,o=i.cells[0]?i.cells[0].length:0,a=e.extend({startCell:[0,0],endCell:[r-1,o-1]},t),s=0==r||0==o;if(!(a.startCell[0]>=0&&a.endCell[0]<=r-1&&a.startCell[1]>=0&&a.endCell[1]<=o-1&&a.startCell[0]<=a.endCell[0]&&a.startCell[1]<=a.endCell[1]))throw new Error("CSheet : operation area is invalid");if(!s)for(var l=a.startCell[0];l<=a.endCell[0];++l)for(var d=a.startCell[1];d<=a.endCell[1];++d)"toggle"==n.type?i.cells[l][d].toggle():"set"==n.type&&i.cells[l][d].set(n.state)},i.initCells(),this.toggle=function(e){i.areaOperate(e,{type:"toggle"}),i.toggleCallback&&i.toggleCallback()},this.set=function(e,t){i.areaOperate(t,{type:"set",state:e}),i.settingCallback&&i.settingCallback()},this.getCellState=function(e){return i.cells[e[0]][e[1]].get()},this.getRowStates=function(e){for(var t=[],n=0;n<i.dimensions[1];++n)t.push(i.cells[e][n].get());return t},this.getSheetStates=function(){for(var e=[],t=0,n=[];t<i.dimensions[0];++t){n=[];for(var r=0;r<i.dimensions[1];++r)n.push(i.cells[t][r].get());e.push(n)}return e}};e.fn.timeSheet=function(t){var i=e(this);if(!i.is("TBODY"))throw new Error("TimeSheet needs to be bound on a TBODY element");var r=e.extend({data:{},sheetClass:"",start:!1,end:!1,remarks:null},t);if(!r.data.dimensions||2!==r.data.dimensions.length||r.data.dimensions[0]<0||r.data.dimensions[1]<0)throw new Error("TimeSheet : wrong dimensions");var o={startCell:void 0,endCell:void 0},a=new n({dimensions:r.data.dimensions,sheetData:r.data.sheetData?r.data.sheetData:void 0}),s=function(){for(var e="<tr>",t=0;t<=r.data.dimensions[1];++t)e+=0===t?'<td class="TimeSheet-head" style="'+(r.data.sheetHead.style?r.data.sheetHead.style:"")+'">'+r.data.sheetHead.name+"</td>":'<td title="'+(r.data.colHead[t-1].title?r.data.colHead[t-1].title:"")+'" data-col="'+(t-1)+'" class="TimeSheet-colHead '+(t===r.data.dimensions[1]?"rightMost":"")+'" style="'+(r.data.colHead[t-1].style?r.data.colHead[t-1].style:"")+'">'+r.data.colHead[t-1].name+"</td>";r.remarks&&(e+='<td class="TimeSheet-remarkHead">'+r.remarks.title+"</td>"),e+="</tr>",i.append(e)},l=function(){for(var e=0,t="";e<r.data.dimensions[0];++e){t='<tr class="TimeSheet-row">';for(var n=0;n<=r.data.dimensions[1];++n)t+=0===n?'<td title="'+(r.data.rowHead[e].title?r.data.rowHead[e].title:"")+'"class="TimeSheet-rowHead '+(e===r.data.dimensions[0]-1?"bottomMost ":" ")+'" style="'+(r.data.rowHead[e].style?r.data.rowHead[e].style:"")+'">'+r.data.rowHead[e].name+"</td>":'<td class="TimeSheet-cell '+(e===r.data.dimensions[0]-1?"bottomMost ":" ")+(n===r.data.dimensions[1]?"rightMost":"")+'" data-row="'+e+'" data-col="'+(n-1)+'"></td>';r.remarks&&(t+='<td class="TimeSheet-remark '+(e===r.data.dimensions[0]-1?"bottomMost ":" ")+'">'+r.remarks.default+"</td>"),t+="</tr>",i.append(t)}},d=function(e,t){var n=e[0]+e[1],i=t[0]+t[1];return(e[0]-t[0])*(e[1]-t[1])<0?{topLeft:e[0]<t[0]?[e[0],t[1]]:[t[0],e[1]],bottomRight:e[0]<t[0]?[t[0],e[1]]:[e[0],t[1]]}:{topLeft:n<=i?e:t,bottomRight:n>i?e:t}},c=function(){var t=a.getSheetStates();i.find(".TimeSheet-row").each((function(n,i){e(i).find(".TimeSheet-cell").each((function(i,r){var o=e(r);1===t[n][i]?o.addClass("TimeSheet-cell-selected"):0===t[n][i]&&o.removeClass("TimeSheet-cell-selected")}))}))},u=function(){i.find(".TimeSheet-cell-selecting").removeClass("TimeSheet-cell-selecting")},h=function(e,t){o.startCell=t,r.start&&r.start(e)},p=function(t,n,r){var o=e(t.currentTarget);if(g&&o.hasClass("TimeSheet-cell")||v&&o.hasClass("TimeSheet-colHead")){u();for(var a=n[0];a<=r[0];++a)for(var s=n[1];s<=r[1];++s)e(e(i.find(".TimeSheet-row")[a]).find(".TimeSheet-cell")[s]).addClass("TimeSheet-cell-selecting")}},f=function(t,n){var i=e(t.currentTarget),s=(e(t.which),!a.getCellState(o.startCell));g&&i.hasClass("TimeSheet-cell")||v&&i.hasClass("TimeSheet-colHead")?(a.set(s,{startCell:n.topLeft,endCell:n.bottomRight}),u(),c(),r.end&&r.end(t,n)):u(),g=!1,v=!1,o={startCell:void 0,endCell:void 0}},g=!1,v=!1,m=function(){i.undelegate(".umsSheetEvent"),i.delegate(".TimeSheet-cell","mousedown.umsSheetEvent",(function(t){var n=e(t.currentTarget),i=[n.data("row"),n.data("col")];g=!0,h(t,i)})),i.delegate(".TimeSheet-cell","mouseup.umsSheetEvent",(function(t){if(o.startCell){var n=e(t.currentTarget),i=[n.data("row"),n.data("col")],r=d(o.startCell,i);f(t,r)}})),i.delegate(".TimeSheet-cell","mouseover.umsSheetEvent",(function(t){if(g){var n=e(t.currentTarget),i=[n.data("row"),n.data("col")],r=d(o.startCell,i),a=r.topLeft,s=r.bottomRight;p(t,a,s)}})),i.delegate(".TimeSheet-colHead","mousedown.umsSheetEvent",(function(t){var n=[0,e(t.currentTarget).data("col")];v=!0,h(t,n)})),i.delegate(".TimeSheet-colHead","mouseup.umsSheetEvent",(function(t){if(o.startCell){var n=e(t.currentTarget),i=[r.data.dimensions[0]-1,n.data("col")],a=d(o.startCell,i);f(t,a)}})),i.delegate(".TimeSheet-colHead","mouseover.umsSheetEvent",(function(t){if(v){var n=e(t.currentTarget),i=[r.data.dimensions[0]-1,n.data("col")],a=d(o.startCell,i),s=a.topLeft,l=a.bottomRight;p(t,s,l)}})),i.delegate("td","contextmenu.umsSheetEvent",(function(e){return!1}))};return i.html(""),i.addClass("TimeSheet"),r.sheetClass&&i.addClass(r.sheetClass),s(),l(),c(),m(),{getCellState:function(e){return a.getCellState(e)},getRowStates:function(e){return a.getRowStates(e)},getSheetStates:function(){return a.getSheetStates()},setRemark:function(t,n){""!==e.trim(n)&&e(i.find(".TimeSheet-row")[t]).find(".TimeSheet-remark").prop("title",n).html(n)},clean:function(){a.set(0,{}),c(),i.find(".TimeSheet-remark").each((function(t,n){var i=e(n);i.prop("title",""),i.html(r.remarks.default)}))},getDefaultRemark:function(){return r.remarks.default},disable:function(){i.undelegate(".umsSheetEvent")},enable:function(){m()},isFull:function(){for(var e=0;e<r.data.dimensions[0];++e)for(var t=0;t<r.data.dimensions[1];++t)if(0===a.getCellState([e,t]))return!1;return!0}}}}(jQuery);
